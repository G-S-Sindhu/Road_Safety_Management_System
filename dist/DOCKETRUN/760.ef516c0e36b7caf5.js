"use strict";(self.webpackChunkDOCKETRUN=self.webpackChunkDOCKETRUN||[]).push([[760],{9760:(Fe,S,c)=>{c.r(S),c.d(S,{FireAndSmokeViolationModule:()=>Ee});var _=c(9569),A=c(3056),v=c(1954),C=c(7185),T=c(4612),L=c(9174),P=c(5861),x=c(529),m=c(433),r=c(9646),I=c(4327),p=c(6948),e=c(4650),V=c(9463),u=c(6895);let y=(()=>{class a{constructor(t,i,n){this.http=t,this.snackbar=i,this.datePipe=n;var o=this.loadConfigFile("assets/config.json");console.log(o),o=JSON.parse(o),this.IP=o.IP,console.log(this.IP),this.dashboardInterval=o.dashboardInterval,this.jobsheetInterval=o.jobSheetStatusInterval,this.logInterval=o.logInterval}dateTransform(t){return this.datePipe.transform(t,"yyyy-MM-dd HH:mm:ss")}GetCameraNames(t,i){return null===t&&null===i?this.http.get(this.IP+"/Firecameradetails"):this.http.post(this.IP+"/Firecameradetails",{from_date:t,to_date:i})}GetDepartmentNames(t,i){return null===t&&null===i?this.http.get(this.IP+"/Firedepartmentdetails"):this.http.post(this.IP+"/Firedepartmentdetails",{from_date:t,to_date:i})}CheckApplicationStatus(){return this.http.get(this.IP+"/check_process")}LiveViolationData(t,i,n,o){return"all_cameras"===t&&(t=null),"all_violations"===i&&(i=null),this.http.get(n&&o&&t&&!i?this.IP+"/FiresmokeLiveviolationdata/cameraname/"+t+"/"+n+"/"+o:n&&o&&!t&&!i?this.IP+"/FiresmokeLiveviolationdata/pagination/"+n+"/"+o:n||o||!t||i?this.IP+"/FiresmokeLiveviolationdata ":this.IP+"/FiresmokeLiveviolationdata/cameraname/"+t)}CreateViolationExcel(t){return this.http.post(this.IP+"/create_violation_excelFireSmoke",t)}DownloadViolationExcel(){return this.http.get(this.IP+"/firesmokeviolation_excel_download",{observe:"response",responseType:"arraybuffer"})}notification(t,i,n){console.log("snackbar"),this.snackbar.open(t,i||"",{duration:n||4e3,panelClass:["error"],horizontalPosition:"center",verticalPosition:"bottom"})}LatestData(t,i){return console.log(t,i),this.http.get(i&&!t?this.IP+"/latest_data_camera_name/"+i:!i&&t?this.IP+"/latest_data_violation_type/"+t:i&&t?this.IP+"/latest_data/"+i+"/"+t:this.IP+"/latest_data_violation_type")}loadConfigFile(t){return this.readConfigFile(t,"application/json")}readConfigFile(t,i){var n=new XMLHttpRequest;if(n.open("GET",t,!1),null!=i)return n.overrideMimeType&&n.overrideMimeType(i),n.send(),n.status?n.response:null}DeleteViolationData(t){return this.http.get(this.IP+"/DeleteFireViolation/"+t)}VerifyViolation(t,i){return this.http.get(this.IP+"/FIRESMOKEverification/"+t+"/"+i)}DatewiseViolations(t,i,n,o,s,d){var h,g=this.dateTransform(t),f=this.dateTransform(i);return console.log(g,f),console.log(n,o),"all_cameras"===s&&(s=null),"all_violations"===d&&(d=null),h=null!==d?{from_date:g,to_date:f,violation_type:d}:{from_date:g,to_date:f},console.log(d),console.log(this.IP+"/datewiseFiresmoke/"+s+"/"+n+"/"+o),this.http.post(n&&o&&s?this.IP+"/datewiseFiresmoke/"+s+"/"+n+"/"+o:n&&o&&!s&&!d?this.IP+"/datewiseFiresmoke/"+n+"/"+o:n||o||!s||d?this.IP+"/datewiseFiresmoke":this.IP+"/datewiseFiresmoke/"+s,h)}GetFireVideos(t){return this.http.get(this.IP+"/getFireVideo/"+t)}GetFiresmokeLiveViolation(){return this.http.get(this.IP+"/FiresmokeLiveviolationdata")}}return a.\u0275fac=function(t){return new(t||a)(e.\u0275\u0275inject(x.eN),e.\u0275\u0275inject(V.ux),e.\u0275\u0275inject(u.DatePipe))},a.\u0275prov=e.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var w=c(1305),k=c(2953),O=c(3868),E=c(64),N=c(805),D=c(5700),j=c(1968);const Y=["dangerAlert"];function G(a,l){1&a&&(e.\u0275\u0275elementStart(0,"span",56)(1,"span"),e.\u0275\u0275text(2,"Running"),e.\u0275\u0275elementEnd()())}function B(a,l){1&a&&(e.\u0275\u0275elementStart(0,"span",57),e.\u0275\u0275text(1,"Stopped "),e.\u0275\u0275elementEnd())}function $(a,l){1&a&&e.\u0275\u0275element(0,"span",62)}function H(a,l){1&a&&e.\u0275\u0275element(0,"fa-icon",63)}function z(a,l){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",59),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(n.getLatestData())}),e.\u0275\u0275template(1,$,1,0,"span",60),e.\u0275\u0275template(2,H,1,0,"fa-icon",61),e.\u0275\u0275text(3,"Latest "),e.\u0275\u0275elementEnd()}if(2&a){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.loaderLatest),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.loaderLatest)}}function Z(a,l){if(1&a&&(e.\u0275\u0275elementStart(0,"div",3),e.\u0275\u0275template(1,z,4,2,"button",58),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.isdatewise)}}function K(a,l){1&a&&e.\u0275\u0275element(0,"fa-icon",66)}function J(a,l){1&a&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1,"\xa0 Live \xa0"),e.\u0275\u0275elementEnd())}function Q(a,l){1&a&&e.\u0275\u0275element(0,"span",67)}function U(a,l){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",64),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.BackToToday())}),e.\u0275\u0275template(1,K,1,0,"fa-icon",65),e.\u0275\u0275template(2,J,2,0,"span",39),e.\u0275\u0275template(3,Q,1,0,"span",40),e.\u0275\u0275elementEnd()}if(2&a){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.loader2),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.loader2),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.loader2)}}function W(a,l){1&a&&(e.\u0275\u0275elementStart(0,"span",5),e.\u0275\u0275element(1,"span",68),e.\u0275\u0275text(2,"Live Data"),e.\u0275\u0275elementEnd())}function R(a,l){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",69),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.ResetFilters())}),e.\u0275\u0275text(1," \xd7 Cancel Filters "),e.\u0275\u0275elementEnd()}}function X(a,l){1&a&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1,"Submit"),e.\u0275\u0275elementEnd())}function q(a,l){1&a&&e.\u0275\u0275element(0,"span",67)}function ee(a,l){1&a&&e.\u0275\u0275element(0,"fa-icon",70)}function te(a,l){1&a&&e.\u0275\u0275element(0,"span",71)}function ie(a,l){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"select",75),e.\u0275\u0275listener("ngModelChange",function(n){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(o.pageSize=n)})("ngModelChange",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(n.sliceVD())}),e.\u0275\u0275elementStart(1,"option",76),e.\u0275\u0275text(2,"30 items per page"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"option",77),e.\u0275\u0275text(4,"40 items per page"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"option",78),e.\u0275\u0275text(6,"50 items per page"),e.\u0275\u0275elementEnd()()}if(2&a){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("ngModel",t.pageSize)}}function ne(a,l){if(1&a&&(e.\u0275\u0275elementStart(0,"span",72)(1,"span",73)(2,"b"),e.\u0275\u0275text(3,"Show:"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275text(4,"\xa0 "),e.\u0275\u0275template(5,ie,7,1,"select",74),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",t.isdatewise)}}function ae(a,l){1&a&&(e.\u0275\u0275elementStart(0,"div",79)(1,"b"),e.\u0275\u0275text(2," Is Valid? "),e.\u0275\u0275elementEnd()())}function oe(a,l){if(1&a&&(e.\u0275\u0275elementStart(0,"video",95),e.\u0275\u0275element(1,"source",96),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext().$implicit,i=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(1),e.\u0275\u0275property("src",i.API+"/getFireVideo/"+t.video_file_name,e.\u0275\u0275sanitizeUrl)}}function se(a,l){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"img",97),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext().$implicit,o=e.\u0275\u0275nextContext(4);return e.\u0275\u0275resetView(o.imageCarousal(n.video_file_name))}),e.\u0275\u0275elementEnd()}if(2&a){const t=e.\u0275\u0275nextContext().$implicit,i=e.\u0275\u0275nextContext(4);e.\u0275\u0275property("src",i.API+"/GETFIRESMOKEIMAGE/"+t.video_file_name,e.\u0275\u0275sanitizeUrl)}}function le(a,l){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div")(1,"button",98)(2,"a",99),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext().$implicit,o=e.\u0275\u0275nextContext(4);return e.\u0275\u0275resetView(o.downloadVideo(o.API+"/getFireVideo/"+n.video_file_name))}),e.\u0275\u0275text(3,"Download Video "),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(4,"fa-icon",70),e.\u0275\u0275elementEnd()()}}function re(a,l){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div")(1,"button",98)(2,"a",99),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext().$implicit,o=e.\u0275\u0275nextContext(4);return e.\u0275\u0275resetView(o.downloadVideo(o.API+"/GETFIRESMOKEIMAGE/"+n.video_file_name))}),e.\u0275\u0275text(3,"Download Image "),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(4,"fa-icon",70),e.\u0275\u0275elementEnd()()}}function de(a,l){if(1&a&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1," Start time:"),e.\u0275\u0275element(2,"br"),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"dateFormater"),e.\u0275\u0275element(5,"br")(6,"br"),e.\u0275\u0275text(7," End time:"),e.\u0275\u0275element(8,"br"),e.\u0275\u0275text(9),e.\u0275\u0275pipe(10,"dateFormater"),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(4,2,t.start_time)," "),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(10,4,t.stop_time)," ")}}function ce(a,l){if(1&a&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"dateFormater"),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,t.start_time)," ")}}function me(a,l){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div")(1,"div",102)(2,"input",103),e.\u0275\u0275listener("change",function(n){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext(2).$implicit,s=e.\u0275\u0275nextContext(2).$implicit,d=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(d.VerifyTrueViol(n,o,s.SNo))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"label",104),e.\u0275\u0275text(4,"Yes "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(5,"div",105)(6,"input",106),e.\u0275\u0275listener("change",function(n){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext(2).$implicit,s=e.\u0275\u0275nextContext(2).$implicit,d=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(d.VerifyFalseViol(n,o,s.SNo))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"label",107),e.\u0275\u0275text(8,"No "),e.\u0275\u0275elementEnd()()()}if(2&a){const t=e.\u0275\u0275nextContext(2).$implicit,i=e.\u0275\u0275nextContext(2).$implicit,n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275property("value",0)("defaultValue",!0)("id","yes"+n.String(i.SNo)+n.String(t.id))("defaultChecked",!0===t.violation_status),e.\u0275\u0275advance(1),e.\u0275\u0275property("for","yes"+n.String(i.SNo)+n.String(t.id)),e.\u0275\u0275advance(3),e.\u0275\u0275property("value",!1)("defaultValue",!1)("id","no"+n.String(i.SNo)+n.String(t.id))("defaultChecked",!1===t.violation_status),e.\u0275\u0275advance(1),e.\u0275\u0275property("for","no"+n.String(i.SNo)+n.String(t.id))}}function pe(a,l){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div")(1,"div",102)(2,"input",108),e.\u0275\u0275listener("change",function(n){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext(3).$implicit,s=e.\u0275\u0275nextContext(2).$implicit,d=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(d.VerifyTrueViol(n,o,s.SNo))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"label",104),e.\u0275\u0275text(4,"Yes "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(5,"div",105)(6,"input",109),e.\u0275\u0275listener("change",function(n){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext(3).$implicit,s=e.\u0275\u0275nextContext(2).$implicit,d=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(d.VerifyFalseViol(n,o,s.SNo))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"label",107),e.\u0275\u0275text(8,"No "),e.\u0275\u0275elementEnd()()()}if(2&a){const t=e.\u0275\u0275nextContext(3).$implicit,i=e.\u0275\u0275nextContext(2).$implicit,n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275property("value",0)("defaultValue",!0)("id","yes"+n.String(i.SNo)+n.String(t.id)),e.\u0275\u0275advance(1),e.\u0275\u0275property("for","yes"+n.String(i.SNo)+n.String(t.id)),e.\u0275\u0275advance(3),e.\u0275\u0275property("value",!1)("defaultValue",!1)("id","no"+n.String(i.SNo)+n.String(t.id)),e.\u0275\u0275advance(1),e.\u0275\u0275property("for","no"+n.String(i.SNo)+n.String(t.id))}}function he(a,l){if(1&a&&e.\u0275\u0275template(0,pe,9,8,"div",39),2&a){const t=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275property("ngIf",!t.violation_verificaton_status)}}function ge(a,l){if(1&a&&(e.\u0275\u0275elementStart(0,"div",100),e.\u0275\u0275template(1,me,9,10,"div",51),e.\u0275\u0275template(2,he,1,1,"ng-template",null,101,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275reference(3),i=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.violation_verificaton_status)("ngIfElse",t)}}function fe(a,l){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",84)(1,"div",85)(2,"div",86),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"div",85)(5,"div",87)(6,"div",87),e.\u0275\u0275template(7,oe,2,1,"video",88),e.\u0275\u0275template(8,se,1,1,"img",89),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"div",90),e.\u0275\u0275template(10,le,5,0,"div",39),e.\u0275\u0275template(11,re,5,0,"div",39),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(12,"div",85),e.\u0275\u0275text(13),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"div",85),e.\u0275\u0275text(15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"div",91),e.\u0275\u0275text(17),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"div",85)(19,"div",87),e.\u0275\u0275template(20,de,11,6,"div",39),e.\u0275\u0275template(21,ce,3,3,"div",39),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(22,"div",85)(23,"div",87),e.\u0275\u0275template(24,ge,4,2,"div",92),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(25,"div",85)(26,"div")(27,"div",93),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit,s=e.\u0275\u0275nextContext(4),d=e.\u0275\u0275reference(94);return e.\u0275\u0275resetView(s.IsDeleteData(d,o))}),e.\u0275\u0275element(28,"fa-icon",94),e.\u0275\u0275elementEnd()()()()}if(2&a){const t=l.$implicit,i=e.\u0275\u0275nextContext(2).index,n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate2(" ",i+1,".",t.id," "),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf","VIDEO"===t.processing_mode),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","IMAGE"===t.processing_mode),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf","VIDEO"===t.processing_mode),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","IMAGE"===t.processing_mode),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.analytics_details.replace(","," ")," "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.camera_name?t.camera_name:"null"," "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.location," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf","VIDEO"===t.processing_mode),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","IMAGE"===t.processing_mode),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",n.isEditTable)}}function ue(a,l){if(1&a&&(e.\u0275\u0275elementStart(0,"div")(1,"p-carousel",82),e.\u0275\u0275template(2,fe,29,12,"ng-template",83),e.\u0275\u0275elementEnd()()),2&a){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("value",t.data)("id",t.SNo)}}function _e(a,l){if(1&a&&(e.\u0275\u0275elementStart(0,"div",81),e.\u0275\u0275template(1,ue,3,2,"div",39),e.\u0275\u0275elementEnd()),2&a){const t=l.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==t?null:t.data)}}function ve(a,l){if(1&a&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,_e,2,1,"div",80),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementContainerEnd()),2&a){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(2,2,t.violData))("ngForTrackBy",t.trackByFn)}}function xe(a,l){1&a&&(e.\u0275\u0275elementStart(0,"div",85)(1,"h4"),e.\u0275\u0275text(2,"No fire and dust detection details are there."),e.\u0275\u0275elementEnd()())}function be(a,l){1&a&&(e.\u0275\u0275elementStart(0,"div",85),e.\u0275\u0275element(1,"span",112),e.\u0275\u0275elementStart(2,"span"),e.\u0275\u0275text(3," Loading..."),e.\u0275\u0275elementEnd()())}function Se(a,l){1&a&&(e.\u0275\u0275elementStart(0,"div",85)(1,"h4"),e.\u0275\u0275text(2,"Loading..."),e.\u0275\u0275elementEnd()())}function Ce(a,l){1&a&&(e.\u0275\u0275elementStart(0,"div",85)(1,"h4"),e.\u0275\u0275text(2,"Error While Fetching the Data."),e.\u0275\u0275elementEnd()())}function Ie(a,l){if(1&a&&(e.\u0275\u0275elementStart(0,"div",110),e.\u0275\u0275template(1,xe,3,0,"div",111),e.\u0275\u0275template(2,be,4,0,"div",111),e.\u0275\u0275template(3,Se,3,0,"div",111),e.\u0275\u0275template(4,Ce,3,0,"div",111),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","success"==t.dataFetchStatus),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","init"==t.dataFetchStatus),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","Loading"==t.dataFetchStatus),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","Error"==t.dataFetchStatus)}}function Ve(a,l){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",113)(1,"div",114)(2,"div",115)(3,"div",116)(4,"div",117)(5,"i",118),e.\u0275\u0275text(6,"\ue5cd"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"h4",119),e.\u0275\u0275text(8,"Are you sure?"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"div",113)(10,"p"),e.\u0275\u0275text(11," Do you really want to delete this violation Details? This process cannot be undone. "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(12,"div",120)(13,"button",121),e.\u0275\u0275listener("click",function(){const o=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(o.close("Cross click"))}),e.\u0275\u0275text(14," Cancel "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"button",122),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.DeleteViolationData())}),e.\u0275\u0275text(16," Delete "),e.\u0275\u0275elementEnd()()()()()}}const ye=function(){return{width:"inherit"}},we=function(){return{standalone:!0}},ke=[{path:"",component:(()=>{class a{constructor(t,i,n,o,s,d,g,f,h){this.http=t,this.webServer=i,this.datepipe=n,this.toasterService=o,this._lightbox=s,this._lightBoxConfig=d,this.snackbar=g,this.modalService=f,this.Router=h,this.selectedCameraId=null,this.selectedDepartment=null,this.isdatewise=!1,this.page=1,this.data=[],this.dropdownList=(0,r.of)([]),this.dropdownList1=(0,r.of)([]),this.ranges={Today:[(0,p.Z)().hour(0).minute(0).second(0),(0,p.Z)()],Yesterday:[(0,p.Z)().subtract(1,"days").hour(0).minute(0).second(0),(0,p.Z)().subtract(1,"days")],"Last 7 Days":[(0,p.Z)().subtract(6,"days").hour(0).minute(0).second(0),(0,p.Z)()],"Last 30 Days":[(0,p.Z)().subtract(29,"days").hour(0).minute(0).second(0),(0,p.Z)()],"This Month":[(0,p.Z)().startOf("month").hour(0).minute(0).second(0),(0,p.Z)().endOf("month")],"Last Month":[(0,p.Z)().subtract(1,"month").startOf("month").hour(0).minute(0).second(0),(0,p.Z)().subtract(1,"month").endOf("month")]},this.fromDateControl=new m.NI((new Date).getTime(),m.kI.required),this.toDateControl=new m.NI(new Date,m.kI.required),this.violLength=0,this.latest=!1,this.isLatest=!1,this.imageData=[],this.tempdata=[],this.total=(0,r.of)(0),this.violData=(0,r.of)([]),this.isdate=!1,this.pageSize=30,this.selectedViolType=null,this.fromDate=new Date,this.toDate=new Date,this.String=String,this.excelLoad=!1,this.isExcel=!1,this.selectedMoments=null,this.excelFromDate=new m.NI(new Date,m.kI.required),this.excelToDate=new m.NI(new Date,m.kI.required),this.Edata=[],this.loading=!1,this.Images=[],this.violdata=[],this.alert=!0,this.audioOff=!1,this.loader2=!1,this.Excel=!1,this.loaderLatest=!1,this.isEditTable=!0,this.dataFetchStatus="init",this.API=i.IP,this.delay=i.logInterval,this.ExcelRange=0,this.webServer.CheckApplicationStatus().subscribe(b=>{if(b.success){localStorage.setItem("appStatus",b.message[0].process_status);var De=b.message.find(M=>"fire_smoke_app"==M.process_name?M:"");this.isActive=De.process_status,console.log("fire analytics:",this.isActive)}}),this.getCameraList()}openDatePicker(t){document.getElementById("dateInput").click()}onCameraIdSelect(t){this.isdatewise&&(this.page=1),this.selectedCameraId=this.selectedItems.data,console.log(this.selectedItems),this.Submit()}onDepartmentIdSelect(t){this.isdatewise&&(this.page=1),this.selectedDepartment=this.selectedItems1.data,console.log(this.selectedItems1),this.Submit()}getCameraList(){var t=[],i=[];t[0]={key:"0",label:"All Cameras",data:"all_cameras"},this.webServer.GetCameraNames(null!==this.selectedMoments?this.selectedMoments.startDate.format("YYYY-MM-DD HH:mm:ss"):null,null!==this.selectedMoments?this.selectedMoments.endDate.format("YYYY-MM-DD HH:mm:ss"):null).subscribe(n=>{!0===n.success&&(n.message.forEach((o,s)=>{i.push({cameraid:s,cameraname:o})}),(i=i.filter((o,s,d)=>s===d.indexOf(o))).forEach((o,s)=>{t.push({key:(s+1).toString(),label:o.cameraname,data:o.cameraname})}),this.dropdownList=(0,r.of)(t))})}getDepartmentList(){var t=[],i=[];t[0]={key:"0",label:"All Departments",data:"all_departments"},this.webServer.GetDepartmentNames(null!==this.selectedMoments?this.selectedMoments.startDate.format("YYYY-MM-DD HH:mm:ss"):null,null!==this.selectedMoments?this.selectedMoments.endDate.format("YYYY-MM-DD HH:mm:ss"):null).subscribe(n=>{!0===n.success&&(n.message.forEach((o,s)=>{i.push({departmentid:s,department:o})}),(i=i.filter((o,s,d)=>s===d.indexOf(o))).forEach((o,s)=>{t.push({key:(s+1).toString(),label:o.department,data:o.department})}),this.dropdownList1=(0,r.of)(t))})}ngOnInit(){var t=this.webServer.dateTransform(new Date)+" 00:00:00",i=this.webServer.dateTransform(new Date)+" 23:59:59";this.fromDateControl.setValue(t),this.toDateControl.setValue(i),this.dropdownSettings={singleSelection:!0,idField:"item_id",textField:"item_text",itemsShowLimit:1,allowSearchFilter:!0},this.dropdownSettings2={singleSelection:!0,idField:"item_id",textField:"item_text",itemsShowLimit:1,allowSearchFilter:!0,closeDropDownOnSelection:!0,noDataAvailablePlaceholderText:"No violation types detected",maxHeight:197},this.violLength=Number(localStorage.getItem("updatedLen")),(!this.latest||!this.isLatest)&&this.webServer.GetFiresmokeLiveViolation().subscribe(n=>{n.success?(this.imageData=n.message,Number(localStorage.setItem("updatedLen",n.message.length?n.message.length:0)),this.tempdata=n.message,this.total=(0,r.of)(this.tempdata.length),this.violData=(0,r.of)(n.message),this.sliceVD()):(this.dataFetchStatus="success",this.notification(n.message))})}notification(t,i){this.snackbar.open(t,i||"",{duration:4e3,panelClass:["error"],horizontalPosition:"end",verticalPosition:"bottom"})}sliceVD(){if(this.isdate||(this.tempdata.forEach((i,n)=>{this.tempdata[n].data=i.data.map((o,s)=>({...o,id:s+1}))}),this.total=(0,r.of)(this.tempdata.slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize).length),this.total=(0,r.of)(this.tempdata.length),this.violData=(0,r.of)(this.tempdata.map((i,n)=>({SNo:n+1,...i})).slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize))),this.isdate){var t=document.getElementById("dataTable");t?.classList.add("loading"),this.webServer.DatewiseViolations(this.fromDate,this.toDate,this.page,this.pageSize,this.selectedCameraId?this.selectedCameraId:null,this.selectedViolType?this.selectedViolType:null).subscribe(i=>{i.success&&(t?.classList.remove("loading"),0===i.message.length&&(this.dataFetchStatus="success",this.notification("No violations found")),this.tempdata=i.message,this.tempdata.forEach((n,o)=>{this.tempdata[o].data=n.data.map((s,d)=>({...s,id:d+1}))}),this.violData=(0,r.of)(this.tempdata))})}}trackByFn(t,i){return i.SNo}submitForm(){var t=this;return(0,P.Z)(function*(){t.excelLoad=!0,t.isExcel=!1,t.selectedCameraId=t.selectedItems?t.selectedItems.data:null,t.selectedDepartment=t.selectedItems1?t.selectedItems1.data:null;var i={from_date:t.selectedMoments.startDate.format("YYYY-MM-DD HH:mm:ss"),to_date:t.selectedMoments.endDate.format("YYYY-MM-DD HH:mm:ss"),cameraname:t.selectedItems?t.selectedItems.data:"none",department:t.selectedItems1?t.selectedItems1.data:"none"};yield t.GetViolationLength(i.from_date,i.to_date,"none"!=i.cameraname?i.cameraname:null),t.webServer.CreateViolationExcel(i).subscribe(o=>{o.success?(t.notification(o.message),t.Edata=o.message,t.webServer.DownloadViolationExcel().subscribe(s=>{t.excelLoad=!1,t.isExcel=!0;const g=new Blob([s.body],{type:".xlsx"});var f="violation report "+t.datepipe.transform(new Date,"YYYY_MM_dd_h_mm_ss")+".xlsx";new File([g],f,{type:".xlsx"}),(0,I.saveAs)(g,f),t.notification("You Excel is Downloaded successfully")},s=>{t.excelLoad=!1,t.isExcel=!0,t.webServer.notification("Error while downloading excel sheet","Retry")})):(t.notification(o.message,"Retry"),t.excelLoad=!1,t.isExcel=!1)},o=>{t.excelLoad=!1,t.isExcel=!1,t.notification("Error while creating excel","Retry")})})()}GetViolationLength(t,i,n,o){var s;return this.webServer.DatewiseViolations(t,i,null,null,n||null,o||null).subscribe(d=>{d.success&&(s=d.message.length)}),s}Submit(){clearInterval(this.interval),this.dataFetchStatus="init",this.isLatest=!1,this.selectedCameraId=this.selectedItems?this.selectedItems.data:null,this.selectedDepartment=this.selectedItems1?this.selectedItems1.data:null,this.Images=[],this.fromDate=this.selectedMoments.startDate.format("YYYY-MM-DD HH:mm:ss"),this.toDate=this.selectedMoments.endDate.format("YYYY-MM-DD HH:mm:ss"),this.getCameraList(),this.Subsciption&&this.Subsciption.unsubscribe();var t=document.getElementById("dataTable");t?.classList.add("loading"),this.pageSize=30,this.page=1,this.isdate=!0,this.loading=!0,this.webServer.DatewiseViolations(this.fromDate,this.toDate,null,null,this.selectedCameraId?this.selectedCameraId:null,this.selectedViolType?this.selectedViolType:null).subscribe(i=>{i.success?(0==i.message.length&&(this.tempdata=[],this.violData=(0,r.of)([]),this.isdatewise=!0,this.total=(0,r.of)(0),this.loading=!1,t?.classList.remove("loading"),this.notification("No violations found for entered date and time")),i.message.length>0&&(this.loading=!1,this.imageData=i.message,this.total=(0,r.of)(i.message.length),this.webServer.DatewiseViolations(this.fromDate,this.toDate,this.page,this.pageSize,this.selectedCameraId?this.selectedCameraId:null,this.selectedViolType?this.selectedViolType:null).subscribe(n=>{n.success&&(this.loading=!1,t?.classList.remove("loading"),0===n.message.length?(this.loading=!1,this.dataFetchStatus="success",this.notification("No violations found"),this.violData=(0,r.of)([]),this.isdatewise=!0):(this.tempdata=n.message,this.isdatewise=!0,this.violData=(0,r.of)(this.tempdata),this.sliceVD(),this.loading=!1))},n=>{this.loading=!1,this.dataFetchStatus="Error",this.notification("Error while fetching the data")}))):(this.tempdata=[],this.violData=(0,r.of)([]),this.isdatewise=!0,this.total=(0,r.of)(0),this.loading=!1,t?.classList.remove("loading"),this.dataFetchStatus="success",this.notification("No violations found"))},i=>{this.loading=!1})}alertSound(){let t=new Audio;t.src="../../../assets/audio/alert.mp3",t.load(),t.play()}showViol(){this.toasterService.error(this.Violation.nativeElement.innerHTML," ",{enableHtml:!0,positionClass:"toast-top-right"})}ngAfterViewInit(){this.dataread()}ngOnDestroy(){this.modalService.dismissAll(),clearInterval(this.interval)}dataread(){this.interval=setInterval(()=>{this.isdate||(Number(localStorage.getItem("updatedLen"))&&(this.violLength=Number(localStorage.getItem("updatedLen"))),this.Subsciption=this.webServer.GetFiresmokeLiveViolation().subscribe(t=>{if(t.success){var i={...t};i.now_live_count-i.previous_live_count>0&&(this.tempdata=t.message,this.total=(0,r.of)(this.tempdata.length),this.violData=(0,r.of)(t.message),this.sliceVD())}else this.webServer.GetFiresmokeLiveViolation().subscribe(s=>{this.latest||(!0===s.success?(this.imageData=s.message,this.tempdata=s.message,this.total=(0,r.of)(this.violdata.length),this.loader2=!1,this.isdatewise=!1,this.violData=(0,r.of)(s.message),this.sliceVD(),this.violdata=s.message,this.tempdata.length>0&&(this.Excel=!0),this.sliceVD()):(this.tempdata=[],this.violData=(0,r.of)([]),this.dataFetchStatus="success",this.total=(0,r.of)(0),this.loader2=!1))},s=>{console.log(s),this.dataFetchStatus="Error"})},t=>{this.dataFetchStatus="Error"}))},this.delay)}alertToggle(){this.alert=!this.alert,localStorage.setItem("alert",this.alert?"true":"false"),this.alert||(this.audioOff=!0,localStorage.setItem("alert","false"),localStorage.setItem("audioOff","true"),this.toasterService.clear())}volumeToggle(){this.alert?(this.audioOff=!this.audioOff,localStorage.setItem("audioOff",this.audioOff?"true":"false")):(this.audioOff=!0,localStorage.setItem("audioOff","true"))}BackToToday(){var t;this.selectedMoments=null,this.selectedItems=null,this.selectedItems1=null,this.page=1,this.Images=[],this.latest=!1,(t=document.getElementById("dataTable"))?.classList.add("loading"),this.loader2=!0,this.isdate=!1,this.tempdata=[],this.total=(0,r.of)(0),this.Images=[],(t=document.getElementById("dataTable"))?.classList.add("loading"),this.isdate=!1,this.tempdata=[],this.total=(0,r.of)(0),this.webServer.LiveViolationData().subscribe(i=>{if(i){this.isLatest=!1,t?.classList.remove("loading"),this.imageData=i.message,this.total=(0,r.of)(i.message.length);var n=i.message;this.tempdata=i.success?i.message:[],this.sliceVD(),this.loader2=!0,this.isdatewise=!1,localStorage.setItem("updatedLen",JSON.stringify(n.length)),Number(localStorage.getItem("updatedLen"))}i.success||(this.notification(i.message),this.total=(0,r.of)(0),this.loader2=!1,this.dataFetchStatus="success")}),this.dataread()}getLatestData(){this.loader2=!1,this.loaderLatest=!0,this.latest=!0;var t=document.getElementById("dataTable");t?.classList.add("loading"),console.log(this.selectedViolType),this.webServer.LatestData(this.selectedViolType,this.selectedCameraId).subscribe(i=>{i.success?(this.isLatest=!0,t?.classList.remove("loading"),this.loaderLatest=!1,0===i.message.length&&this.notification("No violations found"),this.imageData=i.message,this.tempdata=i.message,console.log(this.tempdata),this.tempdata=i.message,this.total=(0,r.of)(i.message.length),this.violData=(0,r.of)(i.message),this.sliceVD()):(this.loaderLatest=!1,this.total=(0,r.of)(0),t?.classList.remove("loading"),this.notification("Error while fetching the data","Retry"))},i=>{this.loaderLatest=!1,t?.classList.remove("loading"),this.notification("Error While fetching the data","Retry")})}downloadVideo(t){const i=t,o=(new x.WM({responseType:"blob"}),i.substr(i.lastIndexOf("/")+1));this.http.get(i,{responseType:"blob"}).subscribe(s=>{(0,I.saveAs)(s,o)},s=>{})}ResetFilters(){this.selectedMoments=null,this.selectedItems=null,this.selectedItems1=null,this.isdatewise=!1,this.loader2=!1,this.dataFetchStatus="Loading",this.BackToToday()}IsDeleteData(t,i){this.selectedViolation=i,this.modalService.open(t)}VerifyFalseViol(t,i,n){this.editViol=i,console.log(n),this.webServer.VerifyViolation(this.editViol._id.$oid,!1).subscribe(o=>{this.webServer.notification(o.message),o.success&&(this.modalService.dismissAll(),this.isdatewise&&this.sliceVD()),this.isdatewise||this.GetViolationData()},o=>{this.webServer.notification("Error while the  Process","Retry")})}GetViolationData(){var t=document.getElementById("content");t?.classList.add("loading"),(!this.latest||this.isLatest)&&this.webServer.GetFiresmokeLiveViolation().subscribe(i=>{i.success?(t?.classList.remove("loading"),this.imageData=i.message,this.tempdata=i.message,Number(localStorage.setItem("updatedLen",i.message.length?i.message.length:0)),this.tempdata=i.message,this.total=(0,r.of)(this.tempdata.length),this.violData=(0,r.of)(i.message),this.sliceVD()):(t?.classList.remove("loading"),this.notification(i.message))},i=>{t?.classList.remove("loading"),this.notification("Error While fetching the data")})}VerifyTrueViol(t,i,n){this.editViol=i,console.log(n),this.webServer.VerifyViolation(this.editViol._id.$oid,!0).subscribe(o=>{this.webServer.notification(o.message),o.success&&(this.modalService.dismissAll(),this.isdatewise&&this.sliceVD()),this.isdatewise||this.GetViolationData()},o=>{this.webServer.notification("Error while the  Process","Retry")})}DeleteViolationData(){this.webServer.DeleteViolationData(this.selectedViolation._id.$oid).subscribe(t=>{t.success?(this.modalService.dismissAll(),this.webServer.notification(t.message),this.RefreshViolationData()):(this.modalService.dismissAll(),this.webServer.notification(t.message,"Retry"))},t=>{this.webServer.notification("Error while the process","Retry")})}RefreshViolations(){this.total=(0,r.of)(0),this.violData=(0,r.of)([]),this.isdate=!1,this.isdatewise=!1,this.isLatest=!1,this.dataFetchStatus="init",this.webServer.GetFiresmokeLiveViolation().subscribe(t=>{this.dataFetchStatus="success",this.latest||!0!==t.success||(this.imageData=t.message,this.tempdata=t.message,this.total=(0,r.of)(this.violdata.length),this.violData=(0,r.of)(t.message),this.sliceVD(),this.violdata=t.message,this.tempdata.length>0&&(this.Excel=!0),this.sliceVD())},t=>{this.dataFetchStatus="Error",console.log(t)})}RefreshViolationData(){if(this.isdatewise||this.isLatest)if(this.isdatewise&&!this.isLatest){var t;(t=document.getElementById("dataTable"))?.classList.add("loading"),this.pageSize=30,this.page=1,this.webServer.DatewiseViolations(this.fromDate,this.toDate,null,null,this.selectedCameraId?this.selectedCameraId:null,this.selectedViolType?this.selectedViolType:null).subscribe(n=>{this.dataFetchStatus="success",n.success?(0==n.message.length&&(this.tempdata=[],this.violData=(0,r.of)([]),this.total=(0,r.of)(0),t?.classList.remove("loading"),this.notification("No violations found for entered date and time")),n.message.length>0&&(this.imageData=n.message,this.total=(0,r.of)(n.message.length),this.webServer.DatewiseViolations(this.fromDate,this.toDate,this.page,this.pageSize,this.selectedCameraId?this.selectedCameraId:null,this.selectedViolType?this.selectedViolType:null).subscribe(o=>{o.success?(t?.classList.remove("loading"),0===o.message.length?(this.dataFetchStatus="success",this.notification("No violations found"),this.violData=(0,r.of)([])):(t?.classList.remove("loading"),this.tempdata=o.message,this.violData=(0,r.of)(this.tempdata),this.sliceVD())):t?.classList.remove("loading")},o=>{this.dataFetchStatus="Error",this.notification("Error while fetching the data")}))):(this.tempdata=[],this.violData=(0,r.of)([]),this.total=(0,r.of)(0),t?.classList.remove("loading"),this.dataFetchStatus="success",this.notification("No violations found"))},n=>{})}else(this.isLatest||this.latest)&&(this.getLatestData(),t?.classList.remove("loading"));else(t=document.getElementById("dataTable"))?.classList.add("loading"),this.webServer.GetFiresmokeLiveViolation().subscribe(i=>{this.latest||(t.classList.remove("loading"),!0!==i.success)||(this.imageData=i.message,this.tempdata=i.message,this.total=(0,r.of)(this.violdata.length),this.violData=(0,r.of)(i.message),this.sliceVD(),this.violdata=i.message,this.tempdata.length>0&&(this.Excel=!0),this.sliceVD())},i=>{t.classList.remove("loading"),console.log(i)})}imageCarousal(t){if(this.Images=[],Array.isArray(t))t.forEach((i,n)=>{this.Images[n]={src:this.API+"/GETFIRESMOKEIMAGE/"+i,thumb:this.API+"/GETFIRESMOKEIMAGE/"+i,caption:i}});else{if("string"!=typeof t)return void console.error("Invalid format for viol.riro_image.After");this.Images[0]={src:this.API+"/GETFIRESMOKEIMAGE/"+t,thumb:this.API+"/GETFIRESMOKEIMAGE/"+t,caption:t}}this.open(0)}open(t){this._lightbox.open(this.Images,t)}close(){this._lightbox.close()}}return a.\u0275fac=function(t){return new(t||a)(e.\u0275\u0275directiveInject(x.eN),e.\u0275\u0275directiveInject(y),e.\u0275\u0275directiveInject(u.DatePipe),e.\u0275\u0275directiveInject(C._W),e.\u0275\u0275directiveInject(w.ey),e.\u0275\u0275directiveInject(w.xm),e.\u0275\u0275directiveInject(V.ux),e.\u0275\u0275directiveInject(k.FF),e.\u0275\u0275directiveInject(_.F0))},a.\u0275cmp=e.\u0275\u0275defineComponent({type:a,selectors:[["app-fire-and-smoke-violation"]],viewQuery:function(t,i){if(1&t&&(e.\u0275\u0275viewQuery(Y,5),e.\u0275\u0275viewQuery(v.SP,5)),2&t){let n;e.\u0275\u0275queryRefresh(n=e.\u0275\u0275loadQuery())&&(i.Violation=n.first),e.\u0275\u0275queryRefresh(n=e.\u0275\u0275loadQuery())&&(i.pickerDirective=n)}},decls:95,vars:37,consts:[["id","content",1,"container-fluid","dashboard-content"],["datatable",""],[1,"mb-2"],[1,""],[1,"sub-header","h4"],[1,"float-end"],[1,"float-end","d-flex","justify-centent-center","align-items-center"],[1,"text-muted"],["class","success-badge",4,"ngIf"],["class","danger-badge",4,"ngIf"],[1,"row","col-12","mt-2","mb-2"],[1,"form-group"],["class","",4,"ngIf"],[1,"btn","default-outline",3,"click"],["icon","rotate",1,"me-1"],["class","btn default text-white ms-2","style","width: 100px",3,"click",4,"ngIf"],[1,"float-end","ms-2","mt-2","me-2"],["class","float-end",4,"ngIf"],[1,"row","border","rounded","p-2"],[1,"col-12"],["id","data-card",1,"d-flex","flex-row","card",2,"border-radius","7px !important"],[1,"me-3"],[1,"container","p-3"],["icon","filter"],[1,"col-xl-10","col-lg-12","col-md-12","col-xs-12","col-sm-12","mb-2"],[1,"row","d-flex","align-items-center"],[1,"col-xl-2","col-lg-2","col-md-4","col-xs-12","col-sm-12"],[1,"datePickerContainer",3,"click"],[1,"w-80"],["type","text","placeholder","Select Date","ngxDaterangepickerMd","","required","","id","dateInput","autocomplete","off",1,"form-control",3,"showCustomRangeLabel","ranges","timePicker","ngModel","datesUpdated","ngModelChange"],["datepicker",""],[1,"input-group-append"],["type","button",1,"ngx-daterangepicker-action","btn","default"],["icon","calendar",1,"ngx-daterangepicker-action"],["id","filter",1,"col-xl-2","col-lg-2","col-md-4","col-xs-12","col-sm-12"],["placeholder","Select Camera",1,"w-100","d-flex",3,"containerStyleClass","ngModel","ngModelOptions","options","ngModelChange","onNodeSelect"],[1,"col-xl-4","col-sm-12","col-lg-12","col-xs-12","col-md-12","d-flex","align-items-center"],["class","btn default-outline me-3",3,"click",4,"ngIf"],[1,"btn","default","text-white","me-3",2,"width","80px",3,"disabled","click"],[4,"ngIf"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],["type","submit",1,"btn","default","text-white","me-3",3,"disabled","click"],["icon","download","class","ms-1 me-1","style","cursor: pointer",4,"ngIf"],["class","spinner-border spinner-border-sm me-1","role","status","aria-hidden","true",4,"ngIf"],["class","d-flex justify-content-end p-1",4,"ngIf"],["id","dataTable"],["id","dataTable",1,"data-container",2,"width","100%","overflow","auto"],[1,"header",2,"overflow","auto"],["scope","col",1,"d-flex","align-items-center","justify-content-center"],["scope","col",1,"d-flex","justify-content-center","align-items-center"],["class","d-flex justify-content-center align-items-center","scope","col","style","padding-left: 2rem",4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"d-flex","mx-auto","justify-content-center","p-1"],[2,"width","95vw","overflow-x","auto",3,"collectionSize","page","pageSize","pageChange"],["noData",""],["deleteModal",""],[1,"success-badge"],[1,"danger-badge"],["class","btn default me-2 text-white float-start",3,"click",4,"ngIf"],[1,"btn","default","me-2","text-white","float-start",3,"click"],["class","spinner-border spinner-border-sm me-2 ms-1","role","status","aria-hidden","true",4,"ngIf"],["icon","filter","class","ms-1 me-2 text-white","style","cursor: pointer",4,"ngIf"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm","me-2","ms-1"],["icon","filter",1,"ms-1","me-2","text-white",2,"cursor","pointer"],[1,"btn","default","text-white","ms-2",2,"width","100px",3,"click"],["icon","chart-area","class","text-white me-2",4,"ngIf"],["icon","chart-area",1,"text-white","me-2"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],["role","status","aria-hidden","true",1,"spinner-grow","spinner-grow-sm","me-2","text-danger"],[1,"btn","default-outline","me-3",3,"click"],["icon","download",1,"ms-1","me-1",2,"cursor","pointer"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm","me-1"],[1,"d-flex","justify-content-end","p-1"],[1,"mr-2","mt-2"],["class","custom-select col-2","style","width: auto",3,"ngModel","ngModelChange",4,"ngIf"],[1,"custom-select","col-2",2,"width","auto",3,"ngModel","ngModelChange"],["ngValue","30"],["ngValue","40"],["ngValue","50"],["scope","col",1,"d-flex","justify-content-center","align-items-center",2,"padding-left","2rem"],["style","justify-content: center",4,"ngFor","ngForOf","ngForTrackBy"],[2,"justify-content","center"],[3,"value","id"],["pTemplate","d"],[1,"data-wrapper","p-2"],[1,"d-flex","justify-content-center","align-items-center"],[1,"column-flex",2,"padding-left","0.5rem"],[1,"column-flex"],["width","300","controls","","preload","auto","class","custom-video",4,"ngIf"],["loading","lazy","class","image",3,"src","click",4,"ngIf"],[1,"d-flex","justify-content-center","align"],[1,"d-flex","justify-content-center","align-items-center",2,"padding-right","2rem"],["id","verify","style","width: 5rem","class","d-flex justify-content-center align-items-center",4,"ngIf"],[1,"btn",3,"click"],["icon","trash",1,"text-danger"],["width","300","controls","","preload","auto",1,"custom-video"],["type","video/quicktime",3,"src"],["loading","lazy",1,"image",3,"src","click"],[1,"btn","btn-sm","default","text-white","mt-2"],[3,"click"],["id","verify",1,"d-flex","justify-content-center","align-items-center",2,"width","5rem"],["verified",""],["id","right",1,"form-check","form-check-inline"],["type","radio",1,"form-check-input",3,"value","defaultValue","id","defaultChecked","change"],[1,"form-check-label","text-success",3,"for"],["id","wrong",1,"form-check","form-check-inline"],["type","radio",1,"form-check-input",2,"padding-left","1rem",3,"value","defaultValue","id","defaultChecked","change"],[1,"form-check-label","text-danger",3,"for"],["type","radio",1,"form-check-input",3,"value","defaultValue","id","change"],["type","radio",1,"form-check-input",2,"padding-left","1rem",3,"value","defaultValue","id","change"],["id","data-card",1,"row","card","card-body"],["class","d-flex justify-content-center align-items-center",4,"ngIf"],["role","status",1,"spinner-border","spinner-border-sm","me-2","text-prime"],[1,"modal-body"],[1,"modal-confirm"],[1,"modal-content"],[1,"modal-header","flex-column"],[1,"icon-box"],[1,"material-icons"],[1,"modal-title","w-100"],[1,"modal-footer","justify-content-center"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","danger",3,"click"]],template:function(t,i){if(1&t&&(e.\u0275\u0275elementStart(0,"div",0,1)(2,"div",2)(3,"div",3)(4,"span",4),e.\u0275\u0275text(5," Fire and Dust Detection Details "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"span",5)(7,"span",6)(8,"span",7),e.\u0275\u0275text(9,"Fire Analytics :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(10,G,3,0,"span",8),e.\u0275\u0275template(11,B,2,0,"span",9),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(12,"div",10)(13,"div")(14,"div",3)(15,"div",11)(16,"div",3),e.\u0275\u0275template(17,Z,2,1,"div",12),e.\u0275\u0275elementStart(18,"button",13),e.\u0275\u0275listener("click",function(){return i.RefreshViolationData()}),e.\u0275\u0275element(19,"fa-icon",14),e.\u0275\u0275text(20," Refresh Details "),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(21,U,4,3,"button",15),e.\u0275\u0275elementStart(22,"span",16),e.\u0275\u0275template(23,W,3,0,"span",17),e.\u0275\u0275elementEnd()()()()()(),e.\u0275\u0275elementStart(24,"div",18)(25,"div",19)(26,"div",3)(27,"div",20)(28,"div",21)(29,"div",22),e.\u0275\u0275element(30,"fa-icon",23),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(31,"div",24)(32,"div",25)(33,"span",26)(34,"div",27),e.\u0275\u0275listener("click",function(o){return i.openDatePicker(o)}),e.\u0275\u0275elementStart(35,"div",28)(36,"input",29,30),e.\u0275\u0275listener("datesUpdated",function(){return i.Submit()})("ngModelChange",function(o){return i.selectedMoments=o}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(38,"div",31)(39,"button",32),e.\u0275\u0275element(40,"fa-icon",33),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(41,"div",34)(42,"p-treeSelect",35),e.\u0275\u0275listener("ngModelChange",function(o){return i.selectedItems=o})("onNodeSelect",function(o){return i.onCameraIdSelect(o)}),e.\u0275\u0275pipe(43,"async"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(44,"div",36),e.\u0275\u0275template(45,R,2,0,"button",37),e.\u0275\u0275elementStart(46,"button",38),e.\u0275\u0275listener("click",function(){return i.Submit()}),e.\u0275\u0275template(47,X,2,0,"span",39),e.\u0275\u0275template(48,q,1,0,"span",40),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(49,"\xa0 "),e.\u0275\u0275elementStart(50,"button",41),e.\u0275\u0275listener("click",function(){return i.submitForm()}),e.\u0275\u0275template(51,ee,1,0,"fa-icon",42),e.\u0275\u0275template(52,te,1,0,"span",43),e.\u0275\u0275text(53," Excel "),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(54,"\xa0 "),e.\u0275\u0275element(55,"div",5),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275template(56,ne,6,1,"span",44),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(57,"div",45)(58,"div",46)(59,"div",3)(60,"div",47)(61,"div",48)(62,"div")(63,"b"),e.\u0275\u0275text(64,"SNo."),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(65,"div",49)(66,"div")(67,"b"),e.\u0275\u0275text(68," Violation Image/Video "),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(69,"div",49)(70,"div")(71,"b"),e.\u0275\u0275text(72,"Violation Type"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(73,"div",49)(74,"div")(75,"b"),e.\u0275\u0275text(76," Camera Name "),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(77,"div",49)(78,"div")(79,"b"),e.\u0275\u0275text(80," Location "),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(81,"div",49)(82,"b"),e.\u0275\u0275text(83," Detected Time "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(84,ae,3,0,"div",50),e.\u0275\u0275element(85,"div"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(86,ve,3,4,"ng-container",51),e.\u0275\u0275pipe(87,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(88,"div",52)(89,"ngb-pagination",53),e.\u0275\u0275listener("pageChange",function(o){return i.page=o})("pageChange",function(){return i.sliceVD()}),e.\u0275\u0275pipe(90,"async"),e.\u0275\u0275elementEnd()()()()()(),e.\u0275\u0275template(91,Ie,5,4,"ng-template",null,54,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(93,Ve,17,0,"ng-template",null,55,e.\u0275\u0275templateRefExtractor)),2&t){const n=e.\u0275\u0275reference(92);e.\u0275\u0275advance(10),e.\u0275\u0275property("ngIf",i.isActive),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!i.isActive),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngIf",!1),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",i.isdatewise||i.isLatest),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!(i.isdatewise||i.isLatest)),e.\u0275\u0275advance(13),e.\u0275\u0275property("showCustomRangeLabel",!0)("ranges",i.ranges)("timePicker",!0)("ngModel",i.selectedMoments),e.\u0275\u0275advance(6),e.\u0275\u0275styleMap(e.\u0275\u0275pureFunction0(35,ye)),e.\u0275\u0275property("containerStyleClass","w-100")("ngModel",i.selectedItems)("ngModelOptions",e.\u0275\u0275pureFunction0(36,we))("options",e.\u0275\u0275pipeBind1(43,29,i.dropdownList)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",null!=i.selectedItems||null!=i.selectedMoments.startDate),e.\u0275\u0275advance(1),e.\u0275\u0275property("disabled",null===i.selectedMoments||null===i.selectedMoments.startDate||null===i.selectedMoments.endDate),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!i.loading),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.loading),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",null===i.selectedMoments||null===i.selectedMoments.startDate||null===i.selectedMoments.endDate||i.excelLoad),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!i.excelLoad),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.excelLoad),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",i.isdatewise),e.\u0275\u0275advance(28),e.\u0275\u0275property("ngIf",i.isEditTable),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(87,31,i.violData).length>0)("ngIfElse",n),e.\u0275\u0275advance(3),e.\u0275\u0275property("collectionSize",e.\u0275\u0275pipeBind1(90,33,i.total))("page",i.page)("pageSize",i.pageSize)}},dependencies:[m.YN,m.Kr,m.Fj,m.EJ,m.JJ,m.Q7,O.BN,u.NgForOf,u.NgIf,m.On,k.N9,E.mP,N.jx,D.l,v.SP,j.J,u.AsyncPipe],styles:['.image[_ngcontent-%COMP%]{margin-left:0;margin-right:0;height:174px;width:330px;object-fit:cover;border-radius:5px!important}.task-input[_ngcontent-%COMP%]{padding:0 25px;position:relative}.task-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:5px 35px 5px 5px;height:40px}.datePickerContainer[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.datePickerContainer[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-top-right-radius:0!important;border-bottom-right-radius:0!important}input[_ngcontent-%COMP%]{width:100%}.img[_ngcontent-%COMP%]{height:20px;width:20px}.task-input[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{top:50%;position:absolute;transform:translate(170px,-50%)}input[type=checkbox][_ngcontent-%COMP%]{display:block;height:30px;margin:0 0 -53px -9999px;order:4;top:5px;outline:none;counter-increment:undone-items}input[_ngcontent-%COMP%]:checked{pointer-events:none;order:2;counter-increment:done-items}label[_ngcontent-%COMP%]{pointer-events:none;display:block;position:relative;padding:15px 10px 15px 0;border-top:1px dashed #fff;order:4;cursor:pointer;animation:undone .5s}label[_ngcontent-%COMP%]:before{content:"\\f10c";display:block;position:absolute;margin-right:10px;margin-left:10px}input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{order:2;animation:done .5s}input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:before{margin-left:3px;margin-right:2rem!important;color:#cc1d1d;content:"\\2713"}input[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]:before{margin-left:3px;margin-right:2rem!important;color:#cc1d1d;content:"\\2716"}#editViol[_ngcontent-%COMP%]{text-align:center;align-content:center}td[_ngcontent-%COMP%]{text-align:center!important;align-content:center!important}input[type=radio][_ngcontent-%COMP%]{visibility:hidden}#verify[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{pointer-events:all;display:block;position:relative;border-top:1px dashed #fff;order:4;cursor:pointer;animation:undone .5s;margin-left:10px!important}#verify[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:before{content:"\\25ef";display:block;position:absolute;margin-right:10px!important;right:2rem;font-weight:500;color:#c9c9c9}#verify[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{order:2;animation:done .5s}#verify[_ngcontent-%COMP%]   #wrong[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:before{font-size:larger;font-family:500;color:#cc1d1d;content:"\\2713"}#verify[_ngcontent-%COMP%]   #right[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:before{font-size:larger;font-family:700;color:#1dc41d;content:"\\2713"}.w-full[_ngcontent-%COMP%]{width:inherit!important;color:#000!important}.container[_ngcontent-%COMP%]{position:relative;background-color:#fff!important;opacity:1;padding:5px;border-radius:10px;border:1px solid #ccc;display:flex;height:2.9em;justify-content:space-between;align-items:center}.data-container[_ngcontent-%COMP%]{display:block;width:100%}.data-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{width:auto;display:grid;box-sizing:border-box;margin-left:3%;margin-right:3%;padding-right:1%!important;padding-left:1%!important;padding-top:1rem!important;padding-bottom:1rem!important;grid-template-columns:7% 20% 15% 15% 15% 10% 12% 3%;border:var(--border);border-radius:7px;margin-bottom:.5rem!important;margin-top:.5rem!important}.data-container[_ngcontent-%COMP%]   .data-wrapper[_ngcontent-%COMP%]{box-sizing:border-box;width:inherit;display:grid;padding-top:.5rem!important;padding-bottom:.5rem!important;margin-bottom:1rem!important;overflow-wrap:break-word;border:var(--border);border-radius:10px;grid-template-columns:7% 20% 15% 15% 15% 10% 12% 3%}ngb-pagination[_ngcontent-%COMP%]     ul>li:not(.active)>a{background-color:#f8f8f8!important;border-radius:5px!important;color:var(--label-color)!important;box-shadow:none}ngb-pagination[_ngcontent-%COMP%]     ul>li.active>a{background-color:var(--label-color)!important;border-radius:5px!important;border:1px solid var(--label-color)!important;box-shadow:none}']}),a})()}];let Ee=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=e.\u0275\u0275defineInjector({providers:[y],imports:[L.A,E.o6,D.b,A.ZQ.forRoot(),v.n1.forRoot({}),_.Bz.forChild(ke),C.Rh.forRoot({timeOut:5e3,toastComponent:T.n,progressBar:!0,newestOnTop:!0}),_.Bz]}),a})()}}]);