"use strict";(self.webpackChunkDOCKETRUN=self.webpackChunkDOCKETRUN||[]).push([[513],{3513:(_i,k,f)=>{f.r(k),f.d(k,{CameraRoiModule:()=>mi});var C=f(9569),V=f(9174),x=(f(8621),f(9646)),y=f(2953),o=f(433),e=f(4650),F=f(7445),M=f(3868),I=f(6895),S=f(64),w=f(805),R=f(8783);const P=["roiInfo"],N=["crowdCount"],j=["CCNameChangeModal"],L=["FireNameModal"],z=["ROINameChangeModal"],$=["canvasContainer"],q=["ROINameModal"],H=["TCNameModal"],G=["ccForFrame"],B=["spillageROIName"],Q=["CCType"];function Z(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div",44)(1,"div",45)(2,"div",46)(3,"h5",47),e.\u0275\u0275text(4,"Camera Name"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"h3"),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(7,"div",45)(8,"div",46)(9,"h5",47),e.\u0275\u0275text(10,"Camera IP"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"h3"),e.\u0275\u0275text(12),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(13,"div",45)(14,"div",46)(15,"h5",47),e.\u0275\u0275text(16,"Area"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"h3"),e.\u0275\u0275text(18),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(19,"div",45)(20,"div",46)(21,"h5",47),e.\u0275\u0275text(22,"Department"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"h3"),e.\u0275\u0275text(24),e.\u0275\u0275elementEnd()()()()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate(t.cameraData?t.cameraData[0].cameraname:"--"),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate(t.cameraData?t.cameraData[0].camera_ip:"--"),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1(" ",t.cameraData?t.cameraData[0].area?t.cameraData[0].area:"None":"--"," "),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1(" ",t.cameraData?t.cameraData[0].department?t.cameraData[0].department:"None":"--"," ")}}const W=function(){return{color:"white !important"}},U=function(){return{background:"var(--prime-color)",color:"white !important","border-radius":"0.375rem !important"}},Y=function(){return{standalone:!0}};function X(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",54)(1,"p-treeSelect",55),e.\u0275\u0275listener("ngModelChange",function(a){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(r.selectedCCMode=a)})("onNodeSelect",function(a){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(r.OnCCTypeSelect(a))}),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementEnd()()}if(2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275styleMap(e.\u0275\u0275pureFunction0(10,W)),e.\u0275\u0275property("labelStyleClass","w-100 btn default text-white")("containerStyle",e.\u0275\u0275pureFunction0(11,U))("ngModelOptions",e.\u0275\u0275pureFunction0(12,Y))("disabled",t.cameraData[0].cr_data.length>0)("ngModel",t.selectedCCMode)("options",e.\u0275\u0275pipeBind1(2,8,t.ccTypeList))}}function K(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",48),e.\u0275\u0275template(1,X,3,13,"div",49),e.\u0275\u0275elementStart(2,"button",50),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.AddNewROI())}),e.\u0275\u0275element(3,"fa-icon",51),e.\u0275\u0275text(4,"Danger Zone ROI "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"button",52),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.AddNewLine())}),e.\u0275\u0275element(6,"fa-icon",51),e.\u0275\u0275text(7," Traffic Count ROI "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"button",53),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.AddNewSpillageRoi())}),e.\u0275\u0275element(9,"fa-icon",51),e.\u0275\u0275text(10," Spillage ROI "),e.\u0275\u0275elementEnd()()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==t.cameraData[0]?null:t.cameraData[0].cr_data)}}function J(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",56),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.RoiName())}),e.\u0275\u0275text(1," Confirm ROI "),e.\u0275\u0275elementEnd()}}function ee(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("Danger Zone (",t.allCameraData.length,") ")}}function te(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1,"Channel:"),e.\u0275\u0275elementStart(2,"span"),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd()()),2&n){const t=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(null==t?null:t.alarm_type.channel)}}function ne(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div")(1,"span")(2,"div",80)(3,"span"),e.\u0275\u0275text(4,"Relay"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"input",81),e.\u0275\u0275listener("change",function(a){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(),s=r.index,c=r.$implicit,m=e.\u0275\u0275nextContext(4);return e.\u0275\u0275resetView(m.SetRelayOrHooter(a,s,c,"relay"))}),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(6,te,4,1,"span",21),e.\u0275\u0275elementEnd()}if(2&n){const t=e.\u0275\u0275nextContext(),i=t.$implicit,a=t.index,r=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(5),e.\u0275\u0275property("checked",null==i||null==i.alarm_type?null:i.alarm_type.relay)("id","Relay"+a),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","type3"==r.cameraData[0].alarm_version.relay&&(null==i||null==i.alarm_type?null:i.alarm_type.relay))}}function ie(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div")(1,"span")(2,"div",80)(3,"span"),e.\u0275\u0275text(4,"Hooter"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"input",82),e.\u0275\u0275listener("change",function(a){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(),s=r.index,c=r.$implicit,m=e.\u0275\u0275nextContext(4);return e.\u0275\u0275resetView(m.SetRelayOrHooter(a,s,c,"hooter"))}),e.\u0275\u0275elementEnd()()()()}if(2&n){const t=e.\u0275\u0275nextContext(),i=t.$implicit,a=t.index;e.\u0275\u0275advance(5),e.\u0275\u0275property("checked",null==i||null==i.alarm_type?null:i.alarm_type.hooter)("id","hooter"+a)}}function ae(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div",68),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=l.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t," ")}}function re(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tr",71)(1,"td"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"td",75),e.\u0275\u0275listener("dblclick",function(){const r=e.\u0275\u0275restoreView(t).index,s=e.\u0275\u0275nextContext(4);return e.\u0275\u0275resetView(s.AlterROIName(r))}),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"td")(6,"div",68)(7,"div",76)(8,"div",68)(9,"tr")(10,"td"),e.\u0275\u0275template(11,ne,7,3,"div",21),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"td"),e.\u0275\u0275template(13,ie,6,2,"div",21),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275element(14,"br"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(15,"td"),e.\u0275\u0275template(16,ae,2,1,"div",77),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"td")(18,"button",78),e.\u0275\u0275listener("click",function(){const r=e.\u0275\u0275restoreView(t).index,s=e.\u0275\u0275nextContext(4),c=e.\u0275\u0275reference(49);return e.\u0275\u0275resetView(s.isDelete(r,c,"RA"))}),e.\u0275\u0275element(19,"fa-icon",79),e.\u0275\u0275text(20," Delete "),e.\u0275\u0275elementEnd()()()}if(2&n){const t=l.$implicit,i=l.index,a=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(i+1),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.roi_name," "),e.\u0275\u0275advance(7),e.\u0275\u0275property("ngIf",null==a.cameraData[0]||null==a.cameraData[0].alarm_type?null:a.cameraData[0].alarm_type.relay),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",null==a.cameraData[0]||null==a.cameraData[0].alarm_type?null:a.cameraData[0].alarm_type.hooter),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",t.label_name)}}function le(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div",68)(1,"div",69)(2,"h5"),e.\u0275\u0275text(3,"ROI Details"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"table",70)(5,"thead")(6,"tr",71)(7,"th",72),e.\u0275\u0275text(8,"S.No"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"th",72),e.\u0275\u0275text(10,"ROI name"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"th",72),e.\u0275\u0275text(12,"Alarms"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"th",72),e.\u0275\u0275text(14,"Objects"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"th",72),e.\u0275\u0275element(16,"fa-icon",73),e.\u0275\u0275text(17,"Settings "),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(18,"tbody"),e.\u0275\u0275template(19,re,21,5,"tr",74),e.\u0275\u0275elementEnd()()()),2&n){const t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(19),e.\u0275\u0275property("ngForOf",t.cameraData[0].roi_data)}}function oe(n,l){1&n&&(e.\u0275\u0275elementStart(0,"div",83)(1,"div",62)(2,"h5"),e.\u0275\u0275text(3,"No ROI is added for danger zone,"),e.\u0275\u0275elementEnd()()())}function se(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,le,20,1,"div",67),e.\u0275\u0275template(2,oe,4,0,"ng-template",null,59,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275reference(3),i=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.cameraData[0].roi_data&&i.cameraData[0].roi_data.length>0)("ngIfElse",t)}}function me(n,l){1&n&&(e.\u0275\u0275elementStart(0,"div",83)(1,"div",62)(2,"h5"),e.\u0275\u0275text(3,"No Details Found For Danger Zone analytics"),e.\u0275\u0275elementEnd()()())}function ce(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("Traffic Count (",t.cameraData[0].tc_data?t.cameraData[0].tc_data.length:0,")")}}function de(n,l){1&n&&(e.\u0275\u0275elementStart(0,"div",69)(1,"h5"),e.\u0275\u0275text(2,"ROI Details"),e.\u0275\u0275elementEnd()())}function _e(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=l.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t," ")}}function pe(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tr")(1,"td"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"td"),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"td"),e.\u0275\u0275template(6,_e,2,1,"div",86),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"td")(8,"button",87),e.\u0275\u0275listener("click",function(){const r=e.\u0275\u0275restoreView(t).index,s=e.\u0275\u0275nextContext(4),c=e.\u0275\u0275reference(53);return e.\u0275\u0275resetView(s.IsDeleteTC(c,r))}),e.\u0275\u0275element(9,"fa-icon",79),e.\u0275\u0275text(10," Delete "),e.\u0275\u0275elementEnd()()()}if(2&n){const t=l.$implicit,i=l.index;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(i+1),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.area_name),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",t.class_name)}}function ue(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"table",70)(1,"thead")(2,"tr")(3,"th",72),e.\u0275\u0275text(4,"S.No"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"th",72),e.\u0275\u0275text(6,"Name"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"th",72),e.\u0275\u0275text(8,"Objects"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(9,"th"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(10,"tbody"),e.\u0275\u0275template(11,pe,11,3,"tr",86),e.\u0275\u0275elementEnd()()),2&n){const t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(11),e.\u0275\u0275property("ngForOf",t.cameraData[0].tc_data)}}function he(n,l){1&n&&(e.\u0275\u0275elementStart(0,"div",83)(1,"div",62)(2,"h5"),e.\u0275\u0275text(3,"No Details Found For Traffic Count analytics"),e.\u0275\u0275elementEnd()()())}function ve(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,de,3,0,"div",84),e.\u0275\u0275template(2,ue,12,1,"table",85),e.\u0275\u0275template(3,he,4,0,"ng-template",null,59,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275reference(4),i=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",(null==i.cameraData[0]?null:i.cameraData[0].tc_data.length)>0)("ngIfElse",t),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",(null==i.cameraData[0]?null:i.cameraData[0].tc_data.length)>0)}}function fe(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("Crowd Count (",t.cameraData[0].cr_data?t.cameraData[0].cr_data.length:0,")")}}function ge(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div")(1,"span",91)(2,"b"),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(4,"br"),e.\u0275\u0275text(5),e.\u0275\u0275element(6,"br"),e.\u0275\u0275elementEnd()),2&n){const t=l.$implicit;e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.class_name),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate2(" minimum : ",t.min_count," , maximum : ",t.max_count," ")}}function Ce(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tr")(1,"td"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"td"),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"td",72),e.\u0275\u0275template(6,ge,7,3,"div",86),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"td")(8,"button",87),e.\u0275\u0275listener("click",function(){const r=e.\u0275\u0275restoreView(t).index,s=e.\u0275\u0275nextContext(5),c=e.\u0275\u0275reference(51);return e.\u0275\u0275resetView(s.isDelete(r,c,"CC"))}),e.\u0275\u0275element(9,"fa-icon",79),e.\u0275\u0275text(10," Delete "),e.\u0275\u0275elementEnd()()()}if(2&n){const t=l.$implicit,i=l.index;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(i+1),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.area_name?t.area_name:"Frame"," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",t.data_object)}}function xe(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"table",70)(1,"thead")(2,"tr")(3,"th",72),e.\u0275\u0275text(4,"SI no"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"th",72),e.\u0275\u0275text(6,"Crowd Count Roi Name"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"th",72),e.\u0275\u0275text(8,"Details"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(9,"th",72),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(10,"tbody"),e.\u0275\u0275template(11,Ce,11,3,"tr",86),e.\u0275\u0275elementEnd()()),2&n){const t=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(11),e.\u0275\u0275property("ngForOf",t.cameraData[0].cr_data)}}function be(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div")(1,"div",69)(2,"h5"),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(4,xe,12,1,"table",90),e.\u0275\u0275elementEnd()),2&n){e.\u0275\u0275nextContext();const t=e.\u0275\u0275reference(5),i=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",i.cameraData[0].cr_data[0].full_frame?"Crowd Count For Full Frame":"ROI Details"," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!i.cameraData[0].cr_data[0].full_frame)("ngIfElse",t)}}function Ie(n,l){1&n&&(e.\u0275\u0275elementStart(0,"div",83)(1,"div",62)(2,"h5"),e.\u0275\u0275text(3,"No Details Found For Crowd Count analytics"),e.\u0275\u0275elementEnd()()())}function ye(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",92)(1,"div",64)(2,"span",93)(3,"b"),e.\u0275\u0275text(4," Crowd Count for full frame is added for this camera "),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(5,"br"),e.\u0275\u0275elementStart(6,"span",68),e.\u0275\u0275text(7),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(8,"br"),e.\u0275\u0275elementStart(9,"span",68),e.\u0275\u0275text(10),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(11,"span",8)(12,"span",87),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext(3),r=e.\u0275\u0275reference(55);return e.\u0275\u0275resetView(a.ModalOpen(r))}),e.\u0275\u0275element(13,"fa-icon",94),e.\u0275\u0275text(14,"Full Frame Crowd Count "),e.\u0275\u0275elementEnd()()()()}if(2&n){const t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(7),e.\u0275\u0275textInterpolate1("Minimum Person count:",t.cameraData[0].cr_data[0].data_object[0].min_count," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" Maximum Person count: ",t.cameraData[0].cr_data[0].data_object[0].max_count," ")}}function Se(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,be,5,3,"div",88),e.\u0275\u0275template(2,Ie,4,0,"ng-template",null,59,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(4,ye,15,2,"ng-template",null,89,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275reference(3),i=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.cameraData[0].cr_data.length>0)("ngIfElse",t)}}function we(n,l){1&n&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1,"Personal Protective Equipment"),e.\u0275\u0275elementEnd())}function Re(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div")(1,"div",95)(2,"span",96)(3,"h5",97),e.\u0275\u0275text(4," Personal Protective Equipment: "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(5,"div",98)(6,"div",99)(7,"input",100),e.\u0275\u0275listener("change",function(a){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(r.PPE_Config(a))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"label",101),e.\u0275\u0275text(9,"Helmet"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(10,"div",99)(11,"input",102),e.\u0275\u0275listener("change",function(a){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(r.PPE_Config(a))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"label",103),e.\u0275\u0275text(13,"Vest"),e.\u0275\u0275elementEnd()()()()()}if(2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(5),e.\u0275\u0275property("formGroup",t.ppeForm),e.\u0275\u0275advance(2),e.\u0275\u0275property("checked",t.ppeConfig.helemt),e.\u0275\u0275advance(4),e.\u0275\u0275property("checked",t.ppeConfig.vest)}}function ke(n,l){1&n&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1,"Fire and Dust Detection"),e.\u0275\u0275elementEnd())}function Ee(n,l){1&n&&(e.\u0275\u0275elementStart(0,"div",99),e.\u0275\u0275element(1,"input",117),e.\u0275\u0275elementStart(2,"label",118),e.\u0275\u0275text(3,"Smoke"),e.\u0275\u0275elementEnd()())}function De(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div",119)(1,"label",120),e.\u0275\u0275text(2,"Select Camera Type :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",121),e.\u0275\u0275element(4,"input",122),e.\u0275\u0275elementStart(5,"label",123),e.\u0275\u0275text(6," Bullet/Dome "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"div",121),e.\u0275\u0275element(8,"input",124),e.\u0275\u0275elementStart(9,"label",125),e.\u0275\u0275text(10," PTZ "),e.\u0275\u0275elementEnd()()()),2&n){const t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(4),e.\u0275\u0275property("formControl",t.cameraType),e.\u0275\u0275advance(4),e.\u0275\u0275property("formControl",t.cameraType)}}function Te(n,l){1&n&&(e.\u0275\u0275elementStart(0,"span",140),e.\u0275\u0275text(1,"value should be positive number "),e.\u0275\u0275elementEnd())}function Oe(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,Te,2,0,"span",139),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",void 0!==t.get("presetId").errors.pattern)}}function Ae(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",130),e.\u0275\u0275elementContainerStart(1,131),e.\u0275\u0275elementStart(2,"div",132)(3,"div",126),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",133),e.\u0275\u0275element(6,"input",134),e.\u0275\u0275elementStart(7,"label",135),e.\u0275\u0275text(8,"Preset Id"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(9,Oe,2,1,"div",21),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"div",133),e.\u0275\u0275element(11,"input",136),e.\u0275\u0275elementStart(12,"label",137),e.\u0275\u0275text(13,"Location"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(14,"fa-icon",138),e.\u0275\u0275listener("click",function(){const r=e.\u0275\u0275restoreView(t).index,s=e.\u0275\u0275nextContext(4);return e.\u0275\u0275resetView(s.DeleteSensgizData(r))}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementEnd()}if(2&n){const t=l.$implicit,i=l.index;e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",i+1,"."),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",null!==t.get("presetId").errors)}}function Ve(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",119)(1,"div",126),e.\u0275\u0275text(2,"Preset Settings for PTZ camera"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"button",127),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(a.AddSensgizData())}),e.\u0275\u0275element(4,"fa-icon",128),e.\u0275\u0275text(5," Add "),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(6,Ae,15,3,"div",129),e.\u0275\u0275elementEnd()}if(2&n){const t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(6),e.\u0275\u0275property("ngForOf",t.sensgiz.controls)}}function Fe(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",141),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(a.AddFireSmokeSolution())}),e.\u0275\u0275text(1," Save Fire and Dust Details "),e.\u0275\u0275elementEnd()}if(2&n){const t=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("disabled",0==t.fireSmokeForm.get("fire").value&&0==t.fireSmokeForm.get("smoke").value&&0==t.fireSmokeForm.get("dust").value||t.sensgiz.invalid&&"ptz"==t.cameraType.value||null==t.cameraType.value)}}function Me(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",141),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(a.AddFireSmokeSolution())}),e.\u0275\u0275text(1," Update Details "),e.\u0275\u0275elementEnd()}if(2&n){const t=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("disabled",t.sensgiz.invalid&&"ptz"==t.cameraType.value)}}function Pe(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",142),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext(3),r=e.\u0275\u0275reference(57);return e.\u0275\u0275resetView(a.ModalOpen(r))}),e.\u0275\u0275text(1," Delete Details "),e.\u0275\u0275elementEnd()}}function Ne(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div",104)(1,"div",105)(2,"div",106)(3,"span",107)(4,"h5",97),e.\u0275\u0275text(5,"Fire and Dust:"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"div",108)(7,"div",99),e.\u0275\u0275element(8,"input",109),e.\u0275\u0275elementStart(9,"label",110),e.\u0275\u0275text(10,"Fire"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(11,Ee,4,0,"div",111),e.\u0275\u0275elementStart(12,"div",99),e.\u0275\u0275element(13,"input",112),e.\u0275\u0275elementStart(14,"label",113),e.\u0275\u0275text(15,"Dust"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(16,De,11,2,"div",114),e.\u0275\u0275template(17,Ve,7,1,"div",114),e.\u0275\u0275elementStart(18,"div",15),e.\u0275\u0275template(19,Fe,2,1,"button",115),e.\u0275\u0275template(20,Me,2,1,"button",115),e.\u0275\u0275template(21,Pe,2,0,"button",116),e.\u0275\u0275elementEnd()()()()),2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(6),e.\u0275\u0275property("formGroup",t.fireSmokeForm),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",!1),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",t.fireSmokeForm.get("fire").value||t.fireSmokeForm.get("smoke").value||t.fireSmokeForm.get("dust").value),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","ptz"==(null==t.cameraType.value?null:t.cameraType.value.toLowerCase())),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",null==t.cameraData[0].firesmoke_data||0==t.cameraData[0].firesmoke_data.length),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null!=t.cameraData[0].firesmoke_data&&t.cameraData[0].firesmoke_data.length>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null!=t.cameraData[0].firesmoke_data&&t.cameraData[0].firesmoke_data.length>0)}}function je(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("Spillage Detection (",t.cameraData[0].spillage_roi_data?t.cameraData[0].spillage_roi_data.length>0:0,")")}}function Le(n,l){1&n&&(e.\u0275\u0275elementStart(0,"div",144)(1,"h5"),e.\u0275\u0275text(2,"ROI Details"),e.\u0275\u0275elementEnd()())}function ze(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=l.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t," ")}}function $e(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tr")(1,"td"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"td"),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"td"),e.\u0275\u0275template(6,ze,2,1,"div",86),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"td")(8,"button",87),e.\u0275\u0275listener("click",function(){const r=e.\u0275\u0275restoreView(t).index,s=e.\u0275\u0275nextContext(5),c=e.\u0275\u0275reference(49);return e.\u0275\u0275resetView(s.isDelete(r,c,"spillage"))}),e.\u0275\u0275element(9,"fa-icon",79),e.\u0275\u0275text(10," Delete "),e.\u0275\u0275elementEnd()()()}if(2&n){const t=l.$implicit,i=l.index;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(i+1),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.roi_name),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",t.label_name)}}function qe(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"table",70)(1,"thead")(2,"tr")(3,"th",72),e.\u0275\u0275text(4,"S.No"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"th",72),e.\u0275\u0275text(6,"Name"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"th",72),e.\u0275\u0275text(8,"Object"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(9,"th"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(10,"tbody"),e.\u0275\u0275template(11,$e,11,3,"tr",86),e.\u0275\u0275elementEnd()()),2&n){const t=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(11),e.\u0275\u0275property("ngForOf",t.cameraData[0].spillage_roi_data)}}function He(n,l){1&n&&(e.\u0275\u0275elementStart(0,"div",83)(1,"div",62)(2,"h5"),e.\u0275\u0275text(3,"No Details Found For Spillage analytics"),e.\u0275\u0275elementEnd()()())}function Ge(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,Le,3,0,"div",143),e.\u0275\u0275template(2,qe,12,1,"table",85),e.\u0275\u0275template(3,He,4,0,"ng-template",null,59,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275reference(4),i=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",(null==i.cameraData[0]?null:i.cameraData[0].spillage_roi_data.length)>0)("ngIfElse",t),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",(null==i.cameraData[0]?null:i.cameraData[0].spillage_roi_data.length)>0)}}function Be(n,l){1&n&&(e.\u0275\u0275elementStart(0,"div",83)(1,"div",62)(2,"h5"),e.\u0275\u0275text(3,"No Details Found For Spillage analytics"),e.\u0275\u0275elementEnd()()())}function Qe(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,Ge,5,3,"div",88),e.\u0275\u0275template(2,Be,4,0,"ng-template",null,59,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275reference(3),i=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==i.cameraData[0]?null:i.cameraData[0].spillage_roi_data)("ngIfElse",t)}}function Ze(n,l){1&n&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1,"Environmental Change"),e.\u0275\u0275elementEnd())}function We(n,l){1&n&&(e.\u0275\u0275elementStart(0,"span",140),e.\u0275\u0275text(1,"The minimum allowed value is 0"),e.\u0275\u0275elementEnd())}function Ue(n,l){1&n&&(e.\u0275\u0275elementStart(0,"span",140),e.\u0275\u0275text(1,"value should be number "),e.\u0275\u0275elementEnd())}function Ye(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,We,2,0,"span",139),e.\u0275\u0275template(2,Ue,2,0,"span",139),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null!=t.get("coinId").errors.min&&null==t.get("coinId").errors.pattern),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null!=t.get("coinId").errors.pattern)}}function Xe(n,l){1&n&&(e.\u0275\u0275elementStart(0,"span",140),e.\u0275\u0275text(1,"The minimum allowed value is 0"),e.\u0275\u0275elementEnd())}function Ke(n,l){1&n&&(e.\u0275\u0275elementStart(0,"span",140),e.\u0275\u0275text(1,"value should be number "),e.\u0275\u0275elementEnd())}function Je(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,Xe,2,0,"span",139),e.\u0275\u0275template(2,Ke,2,0,"span",139),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null!=t.get("presetId").errors.min&&null==t.get("presetId").errors.pattern),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null!=t.get("presetId").errors.pattern)}}function et(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",130),e.\u0275\u0275elementContainerStart(1,131),e.\u0275\u0275elementStart(2,"div",132)(3,"div",146),e.\u0275\u0275element(4,"input",147),e.\u0275\u0275elementStart(5,"label",148),e.\u0275\u0275text(6,"Coin Id"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(7,Ye,3,2,"div",21),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"div",146),e.\u0275\u0275element(9,"input",149),e.\u0275\u0275elementStart(10,"label",135),e.\u0275\u0275text(11,"Preset Id"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(12,Je,3,2,"div",21),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"div",146),e.\u0275\u0275element(14,"input",150),e.\u0275\u0275elementStart(15,"label",137),e.\u0275\u0275text(16,"Location"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(17,"fa-icon",138),e.\u0275\u0275listener("click",function(){const r=e.\u0275\u0275restoreView(t).index,s=e.\u0275\u0275nextContext(5);return e.\u0275\u0275resetView(s.DeleteSensgizData(r))}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementEnd()}if(2&n){const t=l.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngIf",null!=t.get("coinId").errors),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",null!=t.get("presetId").errors)}}function tt(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",119)(1,"button",127),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext(4);return e.\u0275\u0275resetView(a.AddSensgizData())}),e.\u0275\u0275element(2,"fa-icon",128),e.\u0275\u0275text(3," Add "),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(4,et,18,3,"div",129),e.\u0275\u0275elementEnd()}if(2&n){const t=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(4),e.\u0275\u0275property("ngForOf",t.sensgiz.controls)}}function nt(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",104)(1,"div",105)(2,"div",106)(3,"span",96)(4,"h5",97),e.\u0275\u0275text(5,"Fire :"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"div",98)(7,"div",99),e.\u0275\u0275element(8,"input",145),e.\u0275\u0275elementStart(9,"label",110),e.\u0275\u0275text(10,"Fire"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(11,"div",99),e.\u0275\u0275element(12,"input",117),e.\u0275\u0275elementStart(13,"label",118),e.\u0275\u0275text(14,"Smoke"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(15,tt,5,1,"div",114),e.\u0275\u0275elementStart(16,"span",8)(17,"button",52),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(a.AddFireROI())}),e.\u0275\u0275element(18,"fa-icon",51),e.\u0275\u0275text(19," ROI "),e.\u0275\u0275elementEnd()()()()()}if(2&n){const t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(6),e.\u0275\u0275property("formGroup",t.fireSmokeForm),e.\u0275\u0275advance(9),e.\u0275\u0275property("ngIf",t.fireSmokeForm.get("fire").value||t.fireSmokeForm.get("smoke").value)}}function it(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"p-tabPanel",61),e.\u0275\u0275template(1,Ze,2,0,"ng-template",58),e.\u0275\u0275template(2,nt,20,2,"div",65),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.cameraData.length>0)}}function at(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div")(1,"p-tabView",57)(2,"p-tabPanel"),e.\u0275\u0275template(3,ee,2,1,"ng-template",58),e.\u0275\u0275template(4,se,4,2,"div",21),e.\u0275\u0275template(5,me,4,0,"ng-template",null,59,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"p-tabPanel",60),e.\u0275\u0275template(8,ce,2,1,"ng-template",58),e.\u0275\u0275template(9,ve,5,3,"div",21),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"p-tabPanel",61),e.\u0275\u0275template(11,fe,2,1,"ng-template",58),e.\u0275\u0275template(12,Se,6,2,"div",21),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"p-tabPanel",61),e.\u0275\u0275template(14,we,2,0,"ng-template",58),e.\u0275\u0275elementStart(15,"div",62)(16,"div",63)(17,"div",64),e.\u0275\u0275template(18,Re,14,3,"div",21),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(19,"p-tabPanel"),e.\u0275\u0275template(20,ke,2,0,"ng-template",58),e.\u0275\u0275template(21,Ne,22,7,"div",65),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(22,"p-tabPanel",60),e.\u0275\u0275template(23,je,2,1,"ng-template",58),e.\u0275\u0275template(24,Qe,4,2,"div",21),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(25,it,3,1,"p-tabPanel",66),e.\u0275\u0275elementEnd()()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",null!=t.cameraData),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",null==t.cameraData[0]?null:t.cameraData[0].tc_data),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",t.cameraData.length>0),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngIf",t.cameraData.length>0),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",t.cameraData.length>0),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",t.cameraData.length>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!1)}}function rt(n,l){1&n&&(e.\u0275\u0275elementStart(0,"span",163)(1,"span",164)(2,"b"),e.\u0275\u0275text(3," Hooter"),e.\u0275\u0275elementEnd()()())}function lt(n,l){1&n&&(e.\u0275\u0275elementStart(0,"span",126),e.\u0275\u0275text(1,"&"),e.\u0275\u0275elementEnd())}function ot(n,l){1&n&&(e.\u0275\u0275elementStart(0,"span",163)(1,"span",164)(2,"b"),e.\u0275\u0275text(3,"Relay"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(4,"b"),e.\u0275\u0275elementEnd())}function st(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"span",8),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(8);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.cameraData[0].alarm_ip_address?t.cameraData[0].alarm_ip_address:"---")}}function mt(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div",171)(1,"span")(2,"ul",172)(3,"li",173)(4,"span",47),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(6,st,2,1,"span",174),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"li",175)(8,"span",47),e.\u0275\u0275text(9,"Delay : "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"span",8),e.\u0275\u0275text(11,"2 seconds"),e.\u0275\u0275elementEnd()()()()()),2&n){const t=e.\u0275\u0275nextContext(7);e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1("",t.cameraData[0].alarm_type.charAt(0).toUpperCase()+t.cameraData[0].alarm_type.slice(1),"'s IP : "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null!=t.cameraData[0].alarm_ip_address)}}function ct(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div")(1,"span",169)(2,"b"),e.\u0275\u0275text(3,"Details"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(4,mt,12,2,"div",170),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(6);e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf","sensegiz"!=t.cameraData[0].alarm_type)}}function dt(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div",168),e.\u0275\u0275template(1,ct,5,1,"div",21),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(5);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","sensegiz"!=t.cameraData[0].alarm_type)}}function _t(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",195)(1,"input",196),e.\u0275\u0275listener("change",function(a){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(10);return e.\u0275\u0275resetView(r.OnRAAlarmObjects(a))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"label",197),e.\u0275\u0275text(3,"Person"),e.\u0275\u0275elementEnd()()}2&n&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("defaultValue","person")("value","person"))}function pt(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",195)(1,"input",198),e.\u0275\u0275listener("change",function(a){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(10);return e.\u0275\u0275resetView(r.OnRAAlarmObjects(a))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"label",199),e.\u0275\u0275text(3,"Car"),e.\u0275\u0275elementEnd()()}2&n&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("value","car")("defaultValue","car"))}function ut(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",195)(1,"input",200),e.\u0275\u0275listener("change",function(a){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(10);return e.\u0275\u0275resetView(r.OnRAAlarmObjects(a))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"label",201),e.\u0275\u0275text(3,"Bike"),e.\u0275\u0275elementEnd()()}2&n&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("value","bike")("defaultValue","bike"))}function ht(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",195)(1,"input",202),e.\u0275\u0275listener("change",function(a){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(10);return e.\u0275\u0275resetView(r.OnRAAlarmObjects(a))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"label",203),e.\u0275\u0275text(3,"Truck"),e.\u0275\u0275elementEnd()()}2&n&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("value","truck")("defaultValue","truck"))}function vt(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div",193),e.\u0275\u0275template(1,_t,4,2,"div",194),e.\u0275\u0275template(2,pt,4,2,"div",194),e.\u0275\u0275template(3,ut,4,2,"div",194),e.\u0275\u0275template(4,ht,4,2,"div",194),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(9);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.raObjects.indexOf("person")>=0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.raObjects.indexOf("car")>=0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.raObjects.indexOf("bike")>=0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.raObjects.indexOf("truck")>=0)}}function ft(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div",191),e.\u0275\u0275template(1,vt,5,4,"div",192),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(8);e.\u0275\u0275property("formGroup",t.alarmRAObjects),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.raObjects.length>0)}}function gt(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"span",206)(1,"span",207)(2,"input",208),e.\u0275\u0275listener("change",function(a){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(9);return e.\u0275\u0275resetView(r.OnAlarmRAROISelect(a))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"label",209),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd()()()}if(2&n){const t=l.$implicit,i=e.\u0275\u0275nextContext(9);e.\u0275\u0275advance(2),e.\u0275\u0275property("checked",i.alarmSelectedViol[0].roi_key_id.indexOf(t.roi_id))("id",t.roi_id)("value",t.roi_id),e.\u0275\u0275advance(1),e.\u0275\u0275property("for",t.roi_id),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.roi_name)}}function Ct(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div",204),e.\u0275\u0275template(1,gt,5,5,"span",205),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(8);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",t.cameraData[0].roi_data)}}function xt(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"li",186)(1,"div",99)(2,"input",187),e.\u0275\u0275listener("change",function(a){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(7);return e.\u0275\u0275resetView(r.OnAlarmAISelect(a))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"label",188),e.\u0275\u0275text(4,"RA"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(5,ft,2,2,"div",189),e.\u0275\u0275elementStart(6,"p"),e.\u0275\u0275text(7,"ROIS"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(8,Ct,2,1,"div",190),e.\u0275\u0275elementEnd()()}if(2&n){const t=e.\u0275\u0275nextContext(7);e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",t.AlarmAITypes.indexOf("RA")>=0),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",t.AlarmAITypes.indexOf("RA")>=0)}}function bt(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",195)(1,"input",214),e.\u0275\u0275listener("change",function(a){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(9);return e.\u0275\u0275resetView(r.OnPPEAlarmObjects(a))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"label",215),e.\u0275\u0275text(3,"Helmet"),e.\u0275\u0275elementEnd()()}2&n&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("formControlName","helmet"))}function It(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",195)(1,"input",216),e.\u0275\u0275listener("change",function(a){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(9);return e.\u0275\u0275resetView(r.OnPPEAlarmObjects(a))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"label",217),e.\u0275\u0275text(3,"Vest"),e.\u0275\u0275elementEnd()()}2&n&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("formControlName","vest"))}function yt(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div",213),e.\u0275\u0275template(1,bt,4,1,"div",194),e.\u0275\u0275template(2,It,4,1,"div",194),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(8);e.\u0275\u0275property("formGroup",t.alarmPPEObjects),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.ppeConfig.helmet),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.ppeConfig.vest)}}function St(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"li",181)(1,"div",99)(2,"input",210),e.\u0275\u0275listener("change",function(a){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(7);return e.\u0275\u0275resetView(r.OnAlarmAISelect(a))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"label",211),e.\u0275\u0275text(4,"PPE"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(5,yt,3,3,"div",212),e.\u0275\u0275elementEnd()()}if(2&n){const t=e.\u0275\u0275nextContext(7);e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",t.AlarmAITypes.indexOf("PPE")>=0)}}function wt(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",99)(1,"input",196),e.\u0275\u0275listener("change",function(a){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(8);return e.\u0275\u0275resetView(r.OnRAAlarmObjects(a))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"label",197),e.\u0275\u0275text(3,"Person"),e.\u0275\u0275elementEnd()()}2&n&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("defaultValue","person")("value","person"))}function Rt(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",99)(1,"input",198),e.\u0275\u0275listener("change",function(a){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(8);return e.\u0275\u0275resetView(r.OnRAAlarmObjects(a))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"label",199),e.\u0275\u0275text(3,"Car"),e.\u0275\u0275elementEnd()()}2&n&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("value","car")("defaultValue","car"))}function kt(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",99)(1,"input",200),e.\u0275\u0275listener("change",function(a){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(8);return e.\u0275\u0275resetView(r.OnRAAlarmObjects(a))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"label",201),e.\u0275\u0275text(3,"Bike"),e.\u0275\u0275elementEnd()()}2&n&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("value","bike")("defaultValue","bike"))}function Et(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",99)(1,"input",202),e.\u0275\u0275listener("change",function(a){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(8);return e.\u0275\u0275resetView(r.OnRAAlarmObjects(a))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"label",203),e.\u0275\u0275text(3,"Truck"),e.\u0275\u0275elementEnd()()}2&n&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("value","truck")("defaultValue","truck"))}function Dt(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"li",181)(1,"div",99)(2,"input",187),e.\u0275\u0275listener("change",function(a){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(7);return e.\u0275\u0275resetView(r.PPE_Config(a))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"label",188),e.\u0275\u0275text(4," Crowd Count"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",191)(6,"div",193),e.\u0275\u0275template(7,wt,4,2,"div",111),e.\u0275\u0275template(8,Rt,4,2,"div",111),e.\u0275\u0275template(9,kt,4,2,"div",111),e.\u0275\u0275template(10,Et,4,2,"div",111),e.\u0275\u0275elementEnd()()()()}if(2&n){const t=e.\u0275\u0275nextContext(7);e.\u0275\u0275advance(5),e.\u0275\u0275property("formGroup",t.alarmRAObjects),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.raObjects.indexOf("person")>=0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.raObjects.indexOf("car")>=0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.raObjects.indexOf("bike")>=0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.raObjects.indexOf("truck")>=0)}}function Tt(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div",24)(1,"div",14)(2,"div",177)(3,"b"),e.\u0275\u0275text(4,"Select Violation Type"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(5,"ul",178),e.\u0275\u0275template(6,xt,9,2,"li",179),e.\u0275\u0275template(7,St,6,1,"li",180),e.\u0275\u0275elementStart(8,"li",181)(9,"div",99),e.\u0275\u0275element(10,"input",182),e.\u0275\u0275elementStart(11,"label",183),e.\u0275\u0275text(12,"Fire"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(13,"li",181)(14,"div",99),e.\u0275\u0275element(15,"input",184),e.\u0275\u0275elementStart(16,"label",185),e.\u0275\u0275text(17,"Smoke"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(18,Dt,11,5,"li",180),e.\u0275\u0275elementEnd()()()),2&n){const t=e.\u0275\u0275nextContext(6);e.\u0275\u0275advance(6),e.\u0275\u0275property("ngIf",t.cameraData[0].roi_data.length>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.ppeConfig.helmet||t.ppeConfig.vest),e.\u0275\u0275advance(11),e.\u0275\u0275property("ngIf",t.cameraData[0].cr_data.length>0)}}function Ot(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div",176),e.\u0275\u0275template(1,Tt,19,3,"div",22),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(5);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null!=t.cameraData[0].alarm_ip_address)}}function At(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"tr")(1,"td"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"td"),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"td"),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd()()),2&n){const t=l.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.coin_id),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.preset_id),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.coin_location)}}function Vt(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div",218)(1,"table",219)(2,"thead")(3,"tr")(4,"th",72),e.\u0275\u0275text(5,"Coin ID"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"th",72),e.\u0275\u0275text(7,"Preset ID"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"th",72),e.\u0275\u0275text(9,"Location"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(10,"tbody"),e.\u0275\u0275template(11,At,7,3,"tr",86),e.\u0275\u0275elementEnd()()()),2&n){const t=e.\u0275\u0275nextContext(5);e.\u0275\u0275advance(11),e.\u0275\u0275property("ngForOf",t.cameraData[0].coin_details)}}function Ft(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div",14)(1,"div",68),e.\u0275\u0275template(2,dt,2,1,"div",165),e.\u0275\u0275template(3,Ot,2,1,"div",166),e.\u0275\u0275template(4,Vt,12,1,"div",167),e.\u0275\u0275elementEnd()()),2&n){const t=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!1),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","sensegiz"!=t.cameraData[0].alarm_type),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","sensegiz"==t.cameraData[0].alarm_type)}}function Mt(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",153)(1,"li",154)(2,"div",91)(3,"span",68)(4,"h5",155),e.\u0275\u0275text(5," Alert Details "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"span",156),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext(3),r=e.\u0275\u0275reference(69);return e.\u0275\u0275resetView(a.EditAlert(r))}),e.\u0275\u0275element(7,"fa-icon",157),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(8,"div",18)(9,"div",158)(10,"div",18)(11,"div",159)(12,"div",62)(13,"div",160)(14,"span",47),e.\u0275\u0275text(15,"Enabled Alert Type: "),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(16,rt,4,0,"span",161),e.\u0275\u0275template(17,lt,2,0,"span",162),e.\u0275\u0275template(18,ot,5,0,"span",161),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(19,Ft,5,3,"div",151),e.\u0275\u0275elementEnd()()()()()}if(2&n){const t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(16),e.\u0275\u0275property("ngIf",t.cameraData[0].alarm_type.hooter),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.cameraData[0].alarm_type.hooter),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.cameraData[0].alarm_type.relay),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!1)}}function Pt(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div",14),e.\u0275\u0275template(1,Mt,20,4,"div",152),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.cameraData.length>0)}}function Nt(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div",24),e.\u0275\u0275template(1,Pt,2,1,"div",151),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null!=t.cameraData)}}function jt(n,l){1&n&&(e.\u0275\u0275elementStart(0,"div",220),e.\u0275\u0275text(1," No AI analytics are added to this camera. "),e.\u0275\u0275elementEnd())}const g=function(n){return{"is-invalid":n}};function Lt(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",153)(1,"div",221)(2,"h4"),e.\u0275\u0275text(3,"Change ROI name"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"div",222)(5,"form",223),e.\u0275\u0275element(6,"input",224),e.\u0275\u0275elementStart(7,"div",225),e.\u0275\u0275text(8," Please enter roi name. "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"button",226),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.ChangeROIName())}),e.\u0275\u0275text(10," Change "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"button",227),e.\u0275\u0275listener("click",function(){const r=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(r.close("Cross click"))}),e.\u0275\u0275text(12," cancel "),e.\u0275\u0275elementEnd()()()()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(6),e.\u0275\u0275property("formControl",t.tempROIID)("ngClass",e.\u0275\u0275pureFunction1(3,g,t.tempROIID.invalid&&t.tempROIID.touched)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",t.tempROIID.invalid&&t.tempROIID.touched?"invalid-feedback":"visually-hidden")}}function zt(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",153)(1,"div",221)(2,"h4"),e.\u0275\u0275text(3,"Change Crowd Count name"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"div",222)(5,"form",223),e.\u0275\u0275element(6,"input",224),e.\u0275\u0275elementStart(7,"div",225),e.\u0275\u0275text(8," Please enter roi name. "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"button",226),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.ChangeROIName())}),e.\u0275\u0275text(10," Change "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"button",227),e.\u0275\u0275listener("click",function(){const r=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(r.close("Cross click"))}),e.\u0275\u0275text(12," cancel "),e.\u0275\u0275elementEnd()()()()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(6),e.\u0275\u0275property("formControl",t.tempROIID)("ngClass",e.\u0275\u0275pureFunction1(3,g,t.tempROIID.invalid&&t.tempROIID.touched)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",t.tempROIID.invalid&&t.tempROIID.touched?"invalid-feedback":"visually-hidden")}}function $t(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div",120)(1,"label"),e.\u0275\u0275text(2,"Minimum Count:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(3,"input",245),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(3),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(1,g,t.get("min").invalid||t.get("min").value==t.get("max").value&&t.get("min").touched&&t.get("max").touched&&t.get("min").value>=t.get("max").value))}}function qt(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div",68)(1,"label"),e.\u0275\u0275text(2,"Maximum Count:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(3,"input",246),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(3),e.\u0275\u0275property("ngClass",t.get("min").invalid||t.get("min").value==t.get("max").value&&t.get("min").touched&&t.get("max").touched&&t.get("min").value>=t.get("max").value)}}function Ht(n,l){1&n&&(e.\u0275\u0275elementStart(0,"span",140)(1,"small"),e.\u0275\u0275text(2,"Invalid Values for Minimum and Maximum "),e.\u0275\u0275elementEnd()())}function Gt(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div",62)(1,"div",237)(2,"div",233)(3,"div",62)(4,"div",238)(5,"div",239)(6,"div",240),e.\u0275\u0275element(7,"input",241),e.\u0275\u0275elementStart(8,"label",242),e.\u0275\u0275text(9),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(10,$t,4,3,"div",243),e.\u0275\u0275template(11,qt,4,1,"div",244),e.\u0275\u0275template(12,Ht,3,0,"span",139),e.\u0275\u0275elementEnd()()()()()()),2&n){const t=l.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275property("formGroup",t),e.\u0275\u0275advance(5),e.\u0275\u0275property("formControlName",t.get("object").value)("defaultValue","person")("value","person")("id",t.get("object").value),e.\u0275\u0275advance(1),e.\u0275\u0275property("for",t.get("object").value),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.get("object").value),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.get(t.get("object").value).value),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.get(t.get("object").value).value),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.get("min").touched&&t.get("max").touched&&t.get("min").value>=t.get("max").value)}}function Bt(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",228)(1,"h3"),e.\u0275\u0275text(2,"Crowd Count For Full Frame"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"button",229),e.\u0275\u0275listener("click",function(){const r=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(r.close("Cross click"))}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"div",230)(5,"div",231)(6,"div",232)(7,"div",233)(8,"div",234),e.\u0275\u0275template(9,Gt,13,10,"div",235),e.\u0275\u0275elementStart(10,"div",68)(11,"button",236),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.onSaveCCFrame())}),e.\u0275\u0275text(12," Save "),e.\u0275\u0275elementEnd()()()()()()()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(7),e.\u0275\u0275property("formGroup",t.CrowdForm),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",t.ccObjectsMinMax),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",t.ccObjectsMinMax[0].invalid)}}function Qt(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div",256)(1,"div",99),e.\u0275\u0275element(2,"input",257),e.\u0275\u0275elementStart(3,"label",258),e.\u0275\u0275text(4,"Hooter"),e.\u0275\u0275elementEnd()()()),2&n){const t=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(2),e.\u0275\u0275property("formControl",t.isAddHooter)}}function Zt(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,Qt,5,1,"div",255),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.cameraData[0].alarm_type.hooter)}}function Wt(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div",256)(1,"div",99),e.\u0275\u0275element(2,"input",259),e.\u0275\u0275elementStart(3,"label",260),e.\u0275\u0275text(4,"Relay"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(5,"br"),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(2),e.\u0275\u0275property("formControl",t.isAddRelay)}}function Ut(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,Wt,6,1,"div",255),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.cameraData[0].alarm_type.relay)}}function Yt(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"p-treeSelect",262),e.\u0275\u0275listener("ngModelChange",function(a){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(4);return e.\u0275\u0275resetView(r.selectedChannel=a)}),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementEnd()}if(2&n){const t=e.\u0275\u0275nextContext(4);e.\u0275\u0275property("ngModel",t.selectedChannel)("options",e.\u0275\u0275pipeBind1(1,2,t.channels))}}function Xt(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,Yt,2,4,"p-treeSelect",261),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isAddRelay.value)}}function Kt(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div",253)(1,"div",254),e.\u0275\u0275text(2,"Alarms:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"tr")(4,"td"),e.\u0275\u0275template(5,Zt,2,1,"div",21),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"td"),e.\u0275\u0275template(7,Ut,2,1,"div",21),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"td"),e.\u0275\u0275template(9,Xt,2,1,"div",21),e.\u0275\u0275elementEnd()()()),2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",t.cameraData[0].alarm_type.hooter),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.cameraData[0].alarm_type.relay),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf","type3"==t.cameraData[0].alarm_version.relay)}}function Jt(n,l){1&n&&(e.\u0275\u0275elementStart(0,"div",253),e.\u0275\u0275text(1," Hooter and Relay are not added to this Camera. "),e.\u0275\u0275elementEnd())}function en(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",153)(1,"div",221)(2,"h4"),e.\u0275\u0275text(3,"Danger Zone ROI Name"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"div",222)(5,"form",223),e.\u0275\u0275element(6,"input",247),e.\u0275\u0275elementStart(7,"div",225),e.\u0275\u0275text(8," Please enter roi name. "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"div",248)(10,"div",99)(11,"input",249),e.\u0275\u0275listener("change",function(a){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.ClassId(a))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"label",197),e.\u0275\u0275text(13,"Person"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(14,Kt,10,3,"div",250),e.\u0275\u0275template(15,Jt,2,0,"div",250),e.\u0275\u0275elementStart(16,"button",251),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.nameSubmit())}),e.\u0275\u0275text(17," Submit "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"button",252),e.\u0275\u0275listener("click",function(){const r=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(r.close("Cross click"))}),e.\u0275\u0275text(19," cancel "),e.\u0275\u0275elementEnd()()()()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(6),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(9,g,t.roiNameControl.invalid&&t.roiNameControl.touched&&t.roiNameControl.dirty))("formControl",t.roiNameControl),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",t.roiNameControl.invalid&&t.roiNameControl.touched?"invalid-feedback":"visually-hidden"),e.\u0275\u0275advance(4),e.\u0275\u0275property("formControl",t.classIDPerson)("defaultValue","person")("value","person"),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",t.cameraData[0].alarm_type.hooter||t.cameraData[0].alarm_type.relay),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!1),e.\u0275\u0275advance(1),e.\u0275\u0275property("disabled",t.roiNameControl.invalid||0==t.classIds.length)}}function tn(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",230)(1,"div",263)(2,"div",231)(3,"div",264)(4,"div",265)(5,"i",266),e.\u0275\u0275text(6,"\ue5cd"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"h4",267),e.\u0275\u0275text(8,"Are you sure?"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"div",230)(10,"p"),e.\u0275\u0275text(11," Do you really want to delete these ROI? This process cannot be undone. "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(12,"div",268)(13,"button",269),e.\u0275\u0275listener("click",function(){const r=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(r.close("Cross click"))}),e.\u0275\u0275text(14," Cancel "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"button",270),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.DeleteROI())}),e.\u0275\u0275text(16," Delete "),e.\u0275\u0275elementEnd()()()()()}}function nn(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",230)(1,"div",263)(2,"div",231)(3,"div",264)(4,"div",265)(5,"i",266),e.\u0275\u0275text(6,"\ue5cd"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"h4",267),e.\u0275\u0275text(8,"Are you sure?"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"div",230)(10,"p"),e.\u0275\u0275text(11," Do you really want to delete these ROI? This process cannot be undone. "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(12,"div",268)(13,"button",269),e.\u0275\u0275listener("click",function(){const r=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(r.close("Cross click"))}),e.\u0275\u0275text(14," Cancel "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"button",270),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.DeleteCCROI())}),e.\u0275\u0275text(16," Delete "),e.\u0275\u0275elementEnd()()()()()}}function an(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",230)(1,"div",263)(2,"div",231)(3,"div",264)(4,"div",265)(5,"i",266),e.\u0275\u0275text(6,"\ue5cd"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"h4",267),e.\u0275\u0275text(8,"Are you sure?"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"div",230)(10,"p"),e.\u0275\u0275text(11," Do you really want to delete these ROI? This process cannot be undone. "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(12,"div",268)(13,"button",269),e.\u0275\u0275listener("click",function(){const r=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(r.close("Cross click"))}),e.\u0275\u0275text(14," Cancel "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"button",270),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.OnDeleteTCROI())}),e.\u0275\u0275text(16," Delete "),e.\u0275\u0275elementEnd()()()()()}}function rn(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",230)(1,"div",263)(2,"div",231)(3,"div",264)(4,"div",265)(5,"i",266),e.\u0275\u0275text(6,"\ue5cd"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"h4",267),e.\u0275\u0275text(8,"Are you sure?"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"div",230)(10,"p"),e.\u0275\u0275text(11," Do you really want to delete Crowd Count for full frame of this camera?. "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(12,"div",268)(13,"button",269),e.\u0275\u0275listener("click",function(){const r=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(r.close("Cross click"))}),e.\u0275\u0275text(14," Cancel "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"button",270),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.DeleteCCFrame())}),e.\u0275\u0275text(16," Delete "),e.\u0275\u0275elementEnd()()()()()}}function ln(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",230)(1,"div",263)(2,"div",231)(3,"div",264)(4,"div",265)(5,"i",266),e.\u0275\u0275text(6,"\ue5cd"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"h4",267),e.\u0275\u0275text(8,"Are you sure?"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"div",230)(10,"p"),e.\u0275\u0275text(11,"Do you really want to delete Fire analytics details?."),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(12,"div",268)(13,"button",269),e.\u0275\u0275listener("click",function(){const r=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(r.close("Cross click"))}),e.\u0275\u0275text(14," Cancel "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"button",270),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.DeleteFireSmokeFrame())}),e.\u0275\u0275text(16," Delete "),e.\u0275\u0275elementEnd()()()()()}}function on(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div",120)(1,"label"),e.\u0275\u0275text(2,"Minimum Count:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(3,"input",245),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(3),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(1,g,t.get("min").invalid||t.get("min").value==t.get("max").value&&t.get("min").touched&&t.get("max").touched&&t.get("min").value>=t.get("max").value))}}function sn(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div",68)(1,"label"),e.\u0275\u0275text(2,"Maximum Count:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(3,"input",246),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(3),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(1,g,t.get("max").invalid))}}function mn(n,l){1&n&&(e.\u0275\u0275elementStart(0,"span",140)(1,"small"),e.\u0275\u0275text(2,"Invalid Values for Minimum and Maximum "),e.\u0275\u0275elementEnd()())}function cn(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div",62)(1,"div",237)(2,"div",272)(3,"div",240),e.\u0275\u0275element(4,"input",273),e.\u0275\u0275elementStart(5,"label",242),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(7,on,4,3,"div",243),e.\u0275\u0275template(8,sn,4,3,"div",244),e.\u0275\u0275template(9,mn,3,0,"span",139),e.\u0275\u0275elementEnd()()()),2&n){const t=l.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275property("formGroup",t),e.\u0275\u0275advance(2),e.\u0275\u0275property("formControlName",t.get("object").value)("defaultValue","person")("value","person")("id",t.get("object").value),e.\u0275\u0275advance(1),e.\u0275\u0275property("for",t.get("object").value),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.get("object").value),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.get(t.get("object").value).value),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.get(t.get("object").value).value),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.get("min").touched&&t.get("max").touched&&t.get("min").value>=t.get("max").value)}}function dn(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",153)(1,"div",221)(2,"h4"),e.\u0275\u0275text(3,"Crowd Count ROI"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"div",222)(5,"form",271),e.\u0275\u0275element(6,"input",247),e.\u0275\u0275elementStart(7,"div",225),e.\u0275\u0275text(8," Please enter roi name. "),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(9,cn,10,10,"div",235),e.\u0275\u0275elementStart(10,"button",251),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.OnAddingNewCCRoi())}),e.\u0275\u0275text(11," Submit "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"button",252),e.\u0275\u0275listener("click",function(){const r=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(r.close("Cross click"))}),e.\u0275\u0275text(13," cancel "),e.\u0275\u0275elementEnd()()()()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(6),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(5,g,t.crowdCountRoiName.invalid&&t.crowdCountRoiName.touched&&t.crowdCountRoiName.dirty))("formControl",t.crowdCountRoiName),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",t.crowdCountRoiName.invalid&&t.crowdCountRoiName.touched?"invalid-feedback":"visually-hidden"),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",t.ccObjectsMinMax),e.\u0275\u0275advance(1),e.\u0275\u0275property("disabled",t.CCValid<=0||t.crowdCountRoiName.invalid)}}function _n(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",153)(1,"div",221)(2,"h4"),e.\u0275\u0275text(3,"Spillage ROI Name"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"div",222)(5,"form",271),e.\u0275\u0275element(6,"input",247),e.\u0275\u0275elementStart(7,"div",225),e.\u0275\u0275text(8," Please enter roi name. "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"button",251),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.OnAddingSpillageROI())}),e.\u0275\u0275text(10," Submit "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"button",252),e.\u0275\u0275listener("click",function(){const r=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(r.close("Cross click"))}),e.\u0275\u0275text(12," cancel "),e.\u0275\u0275elementEnd()()()()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(6),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(4,g,t.crowdCountRoiName.invalid&&t.crowdCountRoiName.touched&&t.crowdCountRoiName.dirty))("formControl",t.roiNameControl),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",t.roiNameControl.invalid&&t.roiNameControl.touched?"invalid-feedback":"visually-hidden"),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",t.roiNameControl.invalid)}}function pn(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",228)(1,"h3"),e.\u0275\u0275text(2,"Select Traffic Count"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(3,"div",230)(4,"div",231)(5,"div",274)(6,"div",68)(7,"div",275)(8,"div",99)(9,"input",276),e.\u0275\u0275listener("change",function(a){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.TrafficCountConfig(a))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"label",197),e.\u0275\u0275text(11,"Entry"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(12,"div",99)(13,"input",277),e.\u0275\u0275listener("change",function(a){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.TrafficCountConfig(a))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"label",199),e.\u0275\u0275text(15,"Exit"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(16,"div",99)(17,"input",278),e.\u0275\u0275listener("change",function(a){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.TrafficCountConfig(a))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"label",201),e.\u0275\u0275text(19,"Entry and Exit"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(20,"div",279)(21,"p",68),e.\u0275\u0275text(22,"Now you will draw directions"),e.\u0275\u0275elementEnd()()()()()()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(9),e.\u0275\u0275property("formControl",t.classIDPerson)("defaultValue","Entry")("value","Entry"),e.\u0275\u0275advance(4),e.\u0275\u0275property("formControl",t.classIDTruck)("value","Exit")("defaultValue","Exit"),e.\u0275\u0275advance(4),e.\u0275\u0275property("formControl",t.classIDTruck)("value","Entry_Exit")("defaultValue","Entry_Exit")}}function un(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",153)(1,"div",221)(2,"h4"),e.\u0275\u0275text(3,"Traffic Count ROI Name"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"div",222)(5,"form",223)(6,"div",280),e.\u0275\u0275element(7,"input",281),e.\u0275\u0275elementStart(8,"div",225),e.\u0275\u0275text(9," Please enter roi name. "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(10,"div",282)(11,"div",99)(12,"input",249),e.\u0275\u0275listener("change",function(a){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.ClassId(a))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"label",197),e.\u0275\u0275text(14,"Person"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(15,"div",119)(16,"div",121),e.\u0275\u0275element(17,"input",283),e.\u0275\u0275elementStart(18,"label",123),e.\u0275\u0275text(19," Entry "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(20,"div",121),e.\u0275\u0275element(21,"input",284),e.\u0275\u0275elementStart(22,"label",125),e.\u0275\u0275text(23," Exit "),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(24,"button",285),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.AddTrafficCountData())}),e.\u0275\u0275text(25," Submit "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(26,"button",252),e.\u0275\u0275listener("click",function(){const r=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(r.close("Cross click"))}),e.\u0275\u0275text(27," cancel "),e.\u0275\u0275elementEnd()()()()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(7),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(9,g,t.tcName.invalid&&t.tcName.touched&&t.tcName.dirty))("formControl",t.tcName),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",t.tcName.invalid&&t.tcName.touched?"invalid-feedback":"visually-hidden"),e.\u0275\u0275advance(4),e.\u0275\u0275property("formControl",t.classIDPerson)("defaultValue","person")("value","person"),e.\u0275\u0275advance(5),e.\u0275\u0275property("formControl",t.tcDirection),e.\u0275\u0275advance(4),e.\u0275\u0275property("formControl",t.tcDirection),e.\u0275\u0275advance(3),e.\u0275\u0275property("disabled",t.tcName.invalid||0==t.classIds.length||null==t.tcDirection.value)}}function hn(n,l){1&n&&(e.\u0275\u0275elementStart(0,"div",230)(1,"div",263)(2,"div",231)(3,"div",264)(4,"h4",267),e.\u0275\u0275text(5," Please Select the Crowd Count Type "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"div",230)(7,"div",286),e.\u0275\u0275element(8,"h1"),e.\u0275\u0275elementStart(9,"form",287)(10,"section",288),e.\u0275\u0275element(11,"input",289),e.\u0275\u0275elementStart(12,"label",290),e.\u0275\u0275text(13,"ROI"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(14,"input",291),e.\u0275\u0275elementStart(15,"label",292),e.\u0275\u0275text(16,"Full Frame"),e.\u0275\u0275elementEnd()()()()()()()())}function vn(n,l){1&n&&(e.\u0275\u0275elementStart(0,"div",312),e.\u0275\u0275element(1,"input",313),e.\u0275\u0275elementStart(2,"label",314),e.\u0275\u0275text(3,"Hooter IP"),e.\u0275\u0275elementEnd()())}function fn(n,l){1&n&&(e.\u0275\u0275elementStart(0,"div",146),e.\u0275\u0275element(1,"input",315),e.\u0275\u0275elementStart(2,"label",316),e.\u0275\u0275text(3,"Relay IP"),e.\u0275\u0275elementEnd()())}function gn(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div",317),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.responseMessage," ")}}function Cn(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",264)(1,"h4",267),e.\u0275\u0275text(2,"Edit Alert"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(3,"div",230)(4,"div",14)(5,"form",293)(6,"div",120)(7,"b"),e.\u0275\u0275text(8," Enable Alert :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"span",8),e.\u0275\u0275element(10,"input",294)(11,"label",295),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(12,"div",296)(13,"label",297)(14,"b"),e.\u0275\u0275text(15,"Alarm type "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(16,"div",298)(17,"div",99)(18,"input",299),e.\u0275\u0275listener("change",function(a){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.hooterOrRelayConfig(a))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"label",300),e.\u0275\u0275text(20,"Hooter"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(21,"div",99)(22,"input",301),e.\u0275\u0275listener("change",function(a){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.hooterOrRelayConfig(a))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"label",302),e.\u0275\u0275text(24,"Relay"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(25,"div",99)(26,"input",303),e.\u0275\u0275listener("change",function(a){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(),s=e.\u0275\u0275reference(71);return e.\u0275\u0275resetView(r.hooterOrRelayConfig(a,s))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(27,"label",304),e.\u0275\u0275text(28,"None"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(29,"div",91)(30,"label",305)(31,"b"),e.\u0275\u0275text(32,"Alarm Details "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(33,vn,4,0,"div",306),e.\u0275\u0275template(34,fn,4,0,"div",307),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(35,gn,2,1,"div",308),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(36,"div",309)(37,"button",310),e.\u0275\u0275listener("click",function(){const r=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(r.close("Cross click"))}),e.\u0275\u0275text(38," Cancel "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(39,"button",311),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.OnEditAlertDetails())}),e.\u0275\u0275text(40," Submit "),e.\u0275\u0275elementEnd()()()()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(5),e.\u0275\u0275property("formGroup",t.editAlertForm),e.\u0275\u0275advance(5),e.\u0275\u0275property("checked","true"==t.cameraData[0].alarm_enable)("id","enable"),e.\u0275\u0275advance(1),e.\u0275\u0275property("for","enable"),e.\u0275\u0275advance(22),e.\u0275\u0275property("ngIf",t.isHooter),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isRelay),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",""!=t.responseMessage),e.\u0275\u0275advance(4),e.\u0275\u0275property("disabled",!t.isAlertFormValid)}}function xn(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",130),e.\u0275\u0275elementContainerStart(1,131),e.\u0275\u0275elementStart(2,"div",132)(3,"div",146),e.\u0275\u0275element(4,"input",147),e.\u0275\u0275elementStart(5,"label",148),e.\u0275\u0275text(6,"Coin Id"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"div",146),e.\u0275\u0275element(8,"input",149),e.\u0275\u0275elementStart(9,"label",135),e.\u0275\u0275text(10,"Preset Id"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(11,"div",146),e.\u0275\u0275element(12,"input",150),e.\u0275\u0275elementStart(13,"label",137),e.\u0275\u0275text(14,"Location"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(15,"fa-icon",138),e.\u0275\u0275listener("click",function(){const r=e.\u0275\u0275restoreView(t).index,s=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(s.DeleteSensgizData(r))}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementEnd()}if(2&n){const t=l.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",t)}}function bn(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",228)(1,"h4",318),e.\u0275\u0275text(2,"Sensegiz Details"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"button",229),e.\u0275\u0275listener("click",function(){const r=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(r.close("Cross click"))}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"div",319)(5,"button",127),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.AddSensgizData())}),e.\u0275\u0275element(6,"fa-icon",128),e.\u0275\u0275text(7," Add "),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(8,xn,16,1,"div",129),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"div",320)(10,"button",321),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.SaveSensgizInfo())}),e.\u0275\u0275text(11," Save "),e.\u0275\u0275elementEnd()()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(8),e.\u0275\u0275property("ngForOf",t.sensgiz.controls)}}let In=(()=>{class n{constructor(t,i,a,r){this.ActiveRoute=t,this.server=i,this.router=a,this.modalService=r,this.cameraData=[],this.CameraDataObservable=(0,x.of)({}),this.isCameraData=!1,this.loader1=!1,this.editField="",this.ROIsRoiPoints=[],this.newROIPoints=[],this.isAddROI=!1,this.isSpillage=!1,this.CcRois=[],this.spillageRois=[],this.spillageRoiPoints=[],this.spillageData=[],this.isFire=!1,this.isPolygonDrawn=!1,this.isEdit=!1,this.AllROIs=[],this.TCData=[],this.tempData=[],this.allCameraData=[],this.isEditText=!1,this.channels=(0,x.of)([{data:1,label:"channel 1",key:0},{data:2,label:"channel 2",key:1},{data:3,label:"channel 3",key:2},{data:4,label:"channel 4",key:3},{data:5,label:"channel 5",key:4},{data:6,label:"channel 6",key:5},{data:7,label:"channel 7",key:6},{data:8,label:"channel 8",key:7},{data:9,label:"channel 9",key:8},{data:10,label:"channel 10",key:9},{data:11,label:"channel 11",key:10},{data:12,label:"channel 12",key:11}]),this.ppeConfig={helmet:!1,vest:!1},this.isLoading=!1,this.isChanges=!1,this.trafficCountLineROIS=[],this.trafficCountData=[],this.tempTCData=[],this.tempTCLineROIS=[],this.TCCanvasData=[],this.TCLineList=[],this.isAddCC=!1,this.tempTCCanvas=[],this.ppeObjects=[],this.raObjects=[],this.ccObjects=[],this.ppeAlarmObjects=["helmet","vest"],this.raAlarmObjects=[],this.CCValid=0,this.CCpoints=[],this.CCClasses=[],this.isWater=!1,this.WaterROIData=[],this.deleteField="",this.isAddRelay=new o.NI(!1,o.kI.required),this.isAddHooter=new o.NI(!1,o.kI.required),this.CCObjectCounts=[],this.CCObjectsCount=[],this.alarmSelectedViol=[{analytics_type:"RA",classes:[],alarm:!1,roi_key_id:[]},{analytics_type:"PPE",alarm:!1,classes:["helmet","vest"]},{analytics_type:"fire"}],this.fireROIS=[],this.TCKeyId=0,this.CCKeyId=0,this.RAKeyId=0,this.spillageRoiCount=0,this.AlarmAITypes=[],this.isAlertFormValid=!1,this.isFail=!1,this.isSuccess=!1,this.raROIColor="rgb(255, 255, 0)",this.spillageStroke="#f44336",this.fireROIColor="",this.fireAndSmoke={fire:!1,smoke:!1,dust:!1},this.alertForm=new o.cw({ip:new o.NI("",o.kI.required),delay:new o.NI("",o.kI.required)}),this.ccObjectsMinMax=[new o.cw({object:new o.NI("person"),person:new o.NI(!0,o.kI.requiredTrue),min:new o.NI(0,o.kI.pattern(/^[^-\D]\d*$/)),max:new o.NI(0,o.kI.pattern(/^[^-\D]\d*$/))})],this.alarmPPEObjects=new o.cw({helmet:new o.NI(o.kI.requiredTrue),vest:new o.NI(o.kI.requiredTrue)}),this.alarmRAObjects=new o.cw({person:new o.NI(o.kI.requiredTrue),car:new o.NI(o.kI.requiredTrue),truck:new o.NI(o.kI.requiredTrue),bike:new o.NI(o.kI.requiredTrue)}),this.cameraType=new o.NI(null),this.isHooter=!1,this.isRelay=!1,this.isSensgiz=!1,this.isVoiceAlert=!1,this.sensgiz=new o.Oe([new o.cw({coinLocation:new o.NI("",[o.kI.required]),presetId:new o.NI(null,[o.kI.pattern(new RegExp("^(?!-)[0-9]+$"))])})]),this.SensGizInfo=[],this.crowdCountRoiName=new o.NI("",o.kI.required),this.crowdConfig=[],this.tcName=new o.NI("",o.kI.required),this.tcDirection=new o.NI(null,o.kI.required),this.editAlertForm=new o.cw({alarmType:new o.NI("",o.kI.required),alarmIp:new o.NI("",o.kI.required),alarmEnable:new o.NI(!1),hooterIp:new o.NI("",o.kI.required),relayIp:new o.NI("",o.kI.required),delay:new o.NI("",o.kI.required)}),this.peopleCrowdForm=new o.cw({min:new o.NI(null,o.kI.pattern("^(?!-)d+$")),max:new o.NI(null,o.kI.pattern(/\d+/))}),this.CrowdForm=new o.cw({min:new o.NI(null,[o.kI.pattern(/^[^-a-zA-Z]+$/),o.kI.required]),max:new o.NI(null,[o.kI.pattern(/\d+/),o.kI.required])}),this.vehicleCrowdForm=new o.cw({min:new o.NI(null,o.kI.pattern(/\d+/)),max:new o.NI(null,o.kI.pattern(/\d+/))}),this.tempROIID=new o.NI("",o.kI.required),this.ratio=1,this.polygonOptions={fill:"rgba(0,0, 0,0)",strokeWidth:3,stroke:"rgb(127, 255, 0)",scaleX:1,scaleY:1,objectCaching:!1,selectable:!1,transparentCorners:!1,cornerColor:"blue"},this.classIds=["person"],this.classIDPerson=new o.NI("person",o.kI.required),this.classIDCar=new o.NI(0,o.kI.required),this.classIDBike=new o.NI(0,o.kI.required),this.classIDTruck=new o.NI(0,o.kI.required),this.CrowdData=[],this.ppeForm=new o.cw({helmet:new o.NI("helmet"),vest:new o.NI("person")}),this.fireSmokeForm=new o.cw({fire:new o.NI(!1,o.kI.requiredTrue),smoke:new o.NI(!1,o.kI.requiredTrue),water:new o.NI(!1,o.kI.requiredTrue),dust:new o.NI(!1,o.kI.requiredTrue)}),this.vehicleForm=new o.cw({type:new o.NI,make:new o.NI}),this.roiNameControl=new o.NI("",o.kI.required),this.roiPoints=[],this.alertType=new o.NI("",o.kI.required),this.isMouseDown=!1,this.roiType=0,this.ccTypeList=(0,x.of)([{label:"+ Crowd Count ROI",data:0},{label:"+ Crowd Count Full Frame",data:1}]),this.fireSmoke=[{label:"+ Fire/Smoke",items:[{label:"ROI",command:s=>{this.AddCCRoi()}},{label:"Full Frame",command:s=>{this.AddCCRoi()}},{label:"Full Frame",command:s=>{this.AddCCForFrame()}}]}],this.IP=i.IP,this.ActiveRoute.queryParams.subscribe(s=>{this.ID=s.id,this.imageName=s.image,this.currentArea=s.area,this.currentPlant=s.plant})}ngOnInit(){}ngAfterViewInit(){this.server.GetRACameraData(this.ID).subscribe(t=>{this.canvasSetup(),this.makeNewROI(),this.canvas.on("mouse:up",i=>{(1==this.roiType||this.isAddCC||this.isWater||this.isSpillage)&&(1===i.button&&!this.isPolygonDrawn&&!(null!=i.transform&&"modifyPolygon"!==i.transform.action)&&!this.isEdit&&this.getClickCoords(i),3===i.button&&(this.isAddROI||this.isAddCC||this.isWater||this.isSpillage)&&(this.isPolygonDrawn=!(this.newROIPoints.length<4))),2==this.roiType&&!this.isAddCC&&!this.isWater&&(this.isMouseDown=!1,this.SaveTrafficCountROI())}),this.canvas.on("mouse:down",i=>{1===this.roiType&&(this.isAddCC||this.isWater||this.isAddROI||this.isSpillage)?(this.isAddROI||this.isAddCC||this.isWater||this.isSpillage)&&3===i.button&&(this.newROIPoints.length<3?this.isPolygonDrawn=!1:(this.roiNameControl.markAsUntouched(),this.RoiName(),this.isPolygonDrawn=!0)):2===this.roiType&&(null==i.transform||"drag"!==i.transform.action)&&this.addingShapeOnMouseDown(i),this.canvas.on("mouse:move",a=>{this.creatingShapeOnMouseMove(a)})}),this.canvas.on("object:moving",i=>{}),this.cameraData=t.message,this.AISolutions=this.cameraData[0].ai_solution?this.cameraData[0].ai_solution:{},this.currentArea=t.area,this.currentPlant=t.plant,this.CameraDataObservable=(0,x.of)(t.message),this.isCameraData=!0,null!=this.cameraData[0].roi_data&&this.GetPanelPoints(),this.cameraData[0].ppe_data.length>0?(this.ppeForm.get("helmet").valueChanges.subscribe(i=>{}),this.ppeConfig=this.cameraData[0].ppe_data[0],this.cameraData[0].ppe_data[0].helmet?(this.ppeForm.get("helmet").setValue(!0),this.ppeForm.get("helmet").markAsUntouched()):this.ppeForm.get("helmet").setValue(!1),this.cameraData[0].ppe_data[0].vest?this.ppeForm.get("vest").setValue(!0):this.ppeForm.get("vest").setValue(!1)):(this.ppeForm.get("vest").setValue(!1),this.ppeForm.get("helmet").setValue(!1)),null!=this.cameraData[0].firesmoke_data&&this.cameraData[0].firesmoke_data.length>0&&(this.fireSmokeForm.get("fire").setValue(this.cameraData[0].firesmoke_data[0].fire),this.fireSmokeForm.get("smoke").setValue(this.cameraData[0].firesmoke_data[0].smoke),this.fireSmokeForm.get("dust").setValue(this.cameraData[0].firesmoke_data[0].dust),this.cameraType.setValue(this.cameraData[0].firesmoke_data[0].camera_type),this.sensgiz=new o.Oe([]),this.cameraData[0].firesmoke_data[0].presets.forEach((i,a)=>{this.sensgiz.push(new o.cw({coinLocation:new o.NI("",[o.kI.required]),presetId:new o.NI("",[o.kI.pattern(new RegExp("^(?!-)[0-9]+$")),o.kI.min(0),o.kI.required])})),this.sensgiz.controls[a].get("coinLocation").setValue(i.presetlocation),this.sensgiz.controls[a].get("presetId").setValue(i.presetid)})),this.fireSmokeForm.valueChanges.subscribe(i=>{0==this.fireSmokeForm.get("fire").value&&0==this.fireSmokeForm.get("dust").value&&0==this.fireSmokeForm.get("smoke").value&&this.cameraData[0].firesmoke_data.length>0&&this.DeleteFireSmokeFrame()})}),this.editAlertForm.valueChanges.subscribe(t=>{this.responseMessage="","hooter"==this.editAlertForm.get("alarmType").value||"relay"==this.editAlertForm.get("alarmType").value?""!=this.editAlertForm.get("alarmIp").value&&(this.isAlertFormValid=!0):"sensegiz"==this.editAlertForm.get("alarmType").value&&(this.isAlertFormValid=this.sensgiz.length>0)}),this.ccObjectsMinMax[0].valueChanges.subscribe(()=>{this.ccObjectsMinMax[0].get("object").value&&this.ccObjectsMinMax[0].get("min").valid&&this.ccObjectsMinMax[0].get("max").valid?this.CCValid++:this.CCValid=0,(this.ccObjectsMinMax[0].get("min").value>this.ccObjectsMinMax[0].get("max").value||this.ccObjectsMinMax[0].get("min").value==this.ccObjectsMinMax[0].get("max").value)&&(this.CCValid=0)})}canvasSetup(){document.getElementById("canvas-container"),this.canvas=new fabric.Canvas("canvasROI",{fireRightClick:!0}),this.canvas.selection=!1,this.canvas.viewportTransform=[1,0,0,1,0,0],this.SetCameraImageToCanvas()}SetCameraImageToCanvas(){fabric.Image.fromURL(this.IP+"/get_roi_image/"+this.imageName,t=>{console.log(t.width),console.log(t.height),this.canvas.setWidth(t.width),this.canvas.setHeight(t.height),this.canvas.setBackgroundImage(t,this.canvas.requestRenderAll.bind(this.canvas),{scaleX:this.canvas.width/t.width,scaleY:this.canvas.height/t.height})})}OnCCTypeSelect(t){0==this.selectedCCMode.data?this.AddCCRoi():this.AddCCForFrame()}RoiName(){this.isPolygonDrawn=!0,this.isAddROI=!1,this.classIds=["person"],this.isAddCC?this.modalService.open(this.CCNameModal).result.then(t=>{this.isAddCC=!1,this.roiNameControl.setValue(null),this.roiNameControl.reset(),this.CrowdForm.get("min").reset(),this.isPolygonDrawn=!1,this.newROIPoints.splice(0,this.newROIPoints.length),this.CrowdForm.get("min").setValidators(o.kI.required),this.CrowdForm.get("min").setValidators(o.kI.pattern(/^[^-a-zA-Z]+$/)),this.CrowdForm.get("max").reset(),this.CrowdForm.get("max").setValidators(o.kI.required),this.CrowdForm.get("max").setValidators(o.kI.pattern(/^[^-a-zA-Z]+$/)),this.roiNameControl.addValidators(o.kI.required),this.classIds=["person"],this.DeleteNewRoi()},t=>{this.isAddCC=!1,this.isPolygonDrawn=!1,this.roiNameControl.setValue(null),this.roiNameControl.reset(),this.CrowdForm.get("min").reset(),this.newROIPoints.splice(0,this.newROIPoints.length),this.CrowdForm.get("min").setValidators(o.kI.required),this.CrowdForm.get("min").setValidators(o.kI.pattern(/^[^-a-zA-Z]+$/)),this.CrowdForm.get("max").reset(),this.CrowdForm.get("max").setValidators(o.kI.required),this.CrowdForm.get("max").setValidators(o.kI.pattern(/^[^-a-zA-Z]+$/)),this.roiNameControl.addValidators(o.kI.required),this.classIds=["person"],this.DeleteNewRoi()}):this.isWater?(this.isWater=!1,this.modalService.open(this.fireROINameModal,{backdrop:"static",centered:!0})):this.isSpillage?(this.isSpillage=!1,this.modalService.open(this.spillageNameModal,{backdrop:"static",centered:!0})):this.modalService.open(this.RoiNameModal,{size:"small",centered:!0,backdrop:"static"}).result.then(t=>{this.roiNameControl.setValue(null),this.roiNameControl.reset(),this.roiNameControl.addValidators(o.kI.required),this.classIds=["person"],this.DeleteNewRoi()},t=>{})}ModalOpen(t){this.cameraData.length>0&&(this.alertForm.get("ip").setValue(this.cameraData[0].alarm_ip_address),this.cameraData[0].delay&&this.alertForm.get("delay").setValue(this.cameraData[0].delay)),this.modalService.open(t,{backdrop:"static",keyboard:!0,centered:!0})}getDismissReason(t){return t===y.If.ESC?"by pressing ESC":t===y.If.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${t}`}nameSubmit(){this.modalService.dismissAll(),this.OnAddingNewROI()}getClickCoords(t){(this.isAddROI||this.isWater||this.isAddCC||this.isSpillage)&&(this.newPt={x:Math.round(t.pointer.x),y:Math.round(t.pointer.y)},this.newROIPoints.push(this.newPt),this.canvas.add(this.newROI))}Back(){window.close()}makeNewROI(){this.newROI=new fabric.Polygon(this.newROIPoints,this.polygonOptions)}AddNewROI(){this.classIds=["person"],this.isPolygonDrawn=!1,this.polygonOptions.stroke=this.raROIColor,this.newROI.stroke=this.raROIColor,this.isWater=!1,this.isAddROI=!0,this.isEdit=!1,this.isSpillage=!1,this.roiType=1,this.newROIPoints.splice(0,this.newROIPoints.length),this.canvas.requestRenderAll(),this.isAddCC=!1}AddNewLine(){this.isPolygonDrawn=!1,this.classIds=["person"],this.isWater=!1,this.roiType=2,this.btnIndex=1,this.isWater=!1,this.isEdit=!1,this.isAddROI=!1,this.isSpillage=!1,this.isAddCC=!1,this.newROIPoints.splice(0,this.newROIPoints.length),this.canvas.requestRenderAll()}AddNewArrow(){this.classIds=["person"],this.isWater=!1,this.roiType=2,this.btnIndex=2,this.isEdit=!1}AddCCRoi(){this.isPolygonDrawn=!1,this.newROIPoints.splice(0,this.newROIPoints.length),this.isAddCC=!0,this.isAddROI=!1,this.isEdit=!1,this.isWater=!1,this.isSpillage=!1,this.roiType=1,this.CrowdForm.get("min").reset(),this.CrowdForm.get("min").setValidators(o.kI.required),this.CrowdForm.get("min").setValidators(o.kI.pattern(/\d+/)),this.CrowdForm.get("max").reset(),this.CrowdForm.get("max").setValidators(o.kI.required),this.CrowdForm.get("max").setValidators(o.kI.pattern(/\d+/)),this.newROI.stroke="rgb(0, 255, 255)"}AddNewSpillageRoi(){this.isPolygonDrawn=!1,this.classIds=["person"],this.polygonOptions.stroke=this.spillageStroke,this.newROI.stroke=this.spillageStroke,this.isWater=!1,this.isAddROI=!1,this.isSpillage=!0,this.isEdit=!1,this.roiType=1,this.newROIPoints.splice(0,this.newROIPoints.length),this.canvas.requestRenderAll(),this.isAddCC=!1}AddCCForFrame(){this.isPolygonDrawn=!1,this.modalService.open(this.CCForFrame,{centered:!0}).result.then(t=>{this.roiNameControl.setValue(null),this.roiNameControl.reset(),this.roiNameControl.addValidators(o.kI.required),this.classIds=["person"],this.DeleteNewRoi()},t=>{})}onSaveCCFrame(){for(let i=0;i<1;i++){const a=this.ccObjectsMinMax[i];if(!(a.get(a.get("object").value).value&&a.get("min").valid&&a.get("min").valid)||a.get("min").value>a.get("max").value||a.get("min").value==a.get("max").value){this.CCValid=0;break}this.CCValid=1}1==this.CCValid&&(this.isAddROI=!1,this.CCClasses=[],this.CCObjectCounts=[],this.ccObjectsMinMax.forEach(i=>{if(i.get(i.get("object").value).value){var a={class_name:i.get("object").value,min_count:i.get("min").value,max_count:i.get("max").value};this.CCObjectCounts.push(a)}i.get(i.get("object").value).reset(),i.get("min").markAsUntouched(),i.get("min").setValue(0),i.get("max").reset(),i.get("max").reset()}),this.CcRois.push({roi_name_canvas:null,roi_canvas:null,roi_id:null,roi_name:null,cr_data:{bb_box:"",full_frame:!0,roi_id:null,area_name:"",data_object:this.CCObjectCounts}}),this.CrowdForm.get("min").reset(),this.CrowdForm.get("max").reset(),this.newROIPoints.splice(0,this.newROIPoints.length),this.classIDPerson.reset(),this.classIDBike.reset(),this.classIDCar.reset(),this.classIDPerson.setValue("person"),this.classIds=["person"],this.CrowdForm.get("min").reset(),this.CrowdForm.get("min").setValidators(o.kI.required),this.CrowdForm.get("min").setValidators(o.kI.pattern(/\d+/)),this.CrowdForm.get("max").reset(),this.CrowdForm.get("max").setValidators(o.kI.required),this.CrowdForm.get("max").setValidators(o.kI.pattern(/\d+/)),this.modalService.dismissAll(),this.AddCCData())}OnAddingNewROI(){this.isAddROI=!1;var t=!1;if(this.cameraData[0].roi_data.forEach(h=>{t=h.roi_name==this.roiNameControl.value}),t)this.DeleteNewRoi(),this.modalService.dismissAll(),this.server.notification("The ROI of this name already exist","retry");else if(null!==this.roiNameControl.value){fabric.util.resetObjectTransform(this.newROI);var i=[];const h=[...this.newROIPoints];this.polygonOptions.stroke=this.raROIColor;var a=this.newROI._calcDimensions();const u=new fabric.Polygon(h,this.polygonOptions);var r=this.roiNameControl.value;if(null!==r){this.isChanges=!0,this.canvas.add(u),this.canvas.renderAll();for(let _=0;_<this.newROIPoints.length;_++)i.push(`${this.newROIPoints[_].x};${this.newROIPoints[_].y};`);var c=i.toString().replace(/,/g,""),m=new fabric.Text(r,{fontSize:20,backgroundColor:"black",selectable:!1,left:a.left,top:a.top-20,stroke:this.raROIColor,fill:this.raROIColor});this.canvas.add(m),this.canvas.renderAll();var d={roi_name_canvas:m,roi_canvas:u,roi_name:r,roi_id:this.allCameraData.length-1,roi_data:{bb_box:c,roi_name:r,roi_id:this.allCameraData.length-1,label_name:this.classIds,alarm_type:{hooter:null,relay:null},alarm_ip_address:{hooter_ip:null,relay_ip:null}}};this.cameraData[0].alarm_type.hooter&&(d.roi_data.alarm_type.hooter=this.isAddHooter.value,d.roi_data.alarm_ip_address.hooter_ip=this.cameraData[0].alarm_ip_address.hooter_ip),this.cameraData[0]?.alarm_type?.relay&&(d.roi_data.alarm_type.relay=this.isAddRelay.value,d.roi_data.alarm_ip_address.relay_ip=this.cameraData[0].alarm_ip_address.relay_ip,"type3"==this.cameraData[0].alarm_version.relay&&(d.roi_data.alarm_type.channel=this.selectedChannel?this.selectedChannel.data:1))}this.allCameraData.push(d),this.newROIPoints.splice(0,this.newROIPoints.length),this.roiNameControl.setValue(null),this.roiNameControl.reset(),this.roiNameControl.setValidators(o.kI.required),this.classIDPerson.reset(),this.classIDBike.reset(),this.classIDCar.reset(),this.classIDPerson.setValue("person"),this.classIds=["person"],this.SaveChanges()}else this.classIds=["person"],this.DeleteNewRoi()}OnAddingSpillageROI(){if(this.isAddROI=!1,null!==this.roiNameControl.value){fabric.util.resetObjectTransform(this.newROI);var i=[];const h=[...this.newROIPoints];this.polygonOptions.stroke=this.spillageStroke;var a=this.newROI._calcDimensions();const u=new fabric.Polygon(h,this.polygonOptions);var r=this.roiNameControl.value;if(null!==r){this.isChanges=!0,this.canvas.add(u),this.canvas.renderAll();for(let _=0;_<this.newROIPoints.length;_++)i.push(`${this.newROIPoints[_].x};${this.newROIPoints[_].y};`);var c=i.toString().replace(/,/g,""),m=new fabric.Text(r,{fontSize:20,backgroundColor:"black",selectable:!1,left:a.left,top:a.top-20,stroke:this.spillageStroke,fill:this.spillageStroke});this.canvas.add(m),this.canvas.renderAll();var d={roi_name_canvas:m,roi_canvas:u,roi_name:r,roi_id:++this.spillageRoiCount,roi_data:{bb_box:c,roi_name:r,roi_id:this.spillageRoiCount,label_name:this.classIds}}}this.spillageRois.push(d),this.newROIPoints.splice(0,this.newROIPoints.length),this.roiNameControl.setValue(null),this.roiNameControl.reset(),this.roiNameControl.setValidators(o.kI.required),this.classIDPerson.reset(),this.classIDBike.reset(),this.classIDCar.reset(),this.classIDPerson.setValue("person"),this.classIds=["person"],this.SaveSpillageRoi()}else this.classIds=["person"],this.DeleteNewRoi()}SaveSpillageRoi(){this.spillageRois.length>0&&(this.AISolutions.spillage=!0);let t=[];this.spillageRois.forEach((a,r)=>{t.push(a.roi_data)}),this.server.AddSpillageRoi({id:this.ID,spillage_roi_data:t,ai_solutions:this.AISolutions}).subscribe(a=>{if(a.success)window.location.reload();else{this.server.notification(a.message);var s=this.spillageRois[this.deleteID].roi_name_canvas;this.canvas.remove(this.spillageRois[this.deleteID].roi_canvas),this.canvas.remove(s),this.canvas.renderAll(),this.cameraData[0].spillage_roi_data.splice(this.spillageRois.length-1,1)}},a=>{this.server.notification("Error while the process","Retry");var s=this.spillageRois[this.spillageRois.length-1].roi_name_canvas;this.canvas.remove(this.spillageRois[this.spillageRois.length-1].roi_canvas),this.canvas.remove(s),this.canvas.renderAll(),this.cameraData[0]?.spillage_roi_data.splice(this.spillageRois.length-1,1)})}onAddingNewfireROI(){if(this.isWater=!1,null!==this.roiNameControl.value){fabric.util.resetObjectTransform(this.newROI);var t=[];const d=[...this.newROIPoints];this.polygonOptions.stroke="orange";var i=this.newROI._calcDimensions();const h=new fabric.Polygon(d,this.polygonOptions);var a=this.roiNameControl.value;if(null!==a){this.isChanges=!0,this.canvas.add(h),this.canvas.renderAll();for(let u=0;u<this.newROIPoints.length;u++)t.push(`${this.newROIPoints[u].x};${this.newROIPoints[u].y};`);var s=t.toString().replace(/,/g,""),c=new fabric.Text(a,{fontSize:20,backgroundColor:"black",selectable:!1,left:i.left,top:i.top-20,stroke:"orange",fill:"orange"});this.canvas.add(c),this.canvas.renderAll();var m={roi_name_canvas:c,roi_canvas:h,roi_name:a,roi_id:this.WaterROIData.length+1,roi_data:{bb_box:s,roi_name:a,roi_id:this.WaterROIData.length+1}}}this.WaterROIData.push(m),this.newROIPoints.splice(0,this.newROIPoints.length),this.roiNameControl.setValue(null),this.roiNameControl.reset(),this.roiNameControl.setValidators(o.kI.required),this.classIDPerson.reset(),this.classIDBike.reset(),this.classIDCar.reset(),this.classIDPerson.setValue("person"),this.classIds=["person"]}else this.classIds=["person"],this.DeleteNewRoi()}OnAddingNewCCRoi(){this.CCClasses=[],this.CCObjectCounts=[],this.isAddROI=!1;var t=!1;if(this.cameraData[0].roi_data.forEach(h=>{t=h.roi_name==this.crowdCountRoiName.value}),t)this.DeleteNewRoi(),this.modalService.dismissAll(),this.server.notification("The ROI of this name already exist","retry");else if(null!==this.crowdCountRoiName.value){fabric.util.resetObjectTransform(this.newROI);var i=[];const h=[...this.newROIPoints];var a=this.newROI._calcDimensions();this.polygonOptions.stroke="rgb(0, 255, 255)";const u=new fabric.Polygon(h,this.polygonOptions);var r=this.crowdCountRoiName.value;if(null!==r){this.isChanges=!0,this.canvas.add(u),this.canvas.renderAll();for(let _=0;_<this.newROIPoints.length;_++){let p=Math.round(this.newROIPoints[_].x),v=Math.round(this.newROIPoints[_].y);i.push(`${p};${v};`)}var c=i.toString().replace(/,/g,""),m=new fabric.Text(r,{fontSize:20,backgroundColor:"black",selectable:!1,left:a.left,top:a.top-20,stroke:"rgb(0, 255, 255)",fill:"rgb(0, 255, 255)"});this.canvas.add(m),this.canvas.renderAll(),this.ccObjectsMinMax.forEach(_=>{if(_.get(_.get("object").value).value){var p={class_name:_.get("object").value,min_count:_.get("min").value,max_count:_.get("max").value};this.CCObjectCounts.push(p)}_.get(_.get("object").value).reset(),_.get("min").markAsUntouched(),_.get("min").setValue(0),_.get("max").reset(),_.get("max").reset()});var d={roi_name_canvas:m,roi_canvas:u,roi_id:r,roi_name:r,cr_data:{bb_box:c,full_frame:!1,roi_id:++this.CCKeyId,area_name:r,data_object:this.CCObjectCounts}}}this.CcRois.push(d),this.modalService.dismissAll(),this.AddCCData(),this.newROIPoints.splice(0,this.newROIPoints.length),this.crowdCountRoiName.setValue(null),this.CrowdForm.get("min").reset(),this.CrowdForm.get("min").setValidators(o.kI.required),this.CrowdForm.get("min").setValidators(o.kI.pattern(/\d+/)),this.CrowdForm.get("max").reset(),this.CrowdForm.get("max").setValidators(o.kI.required),this.CrowdForm.get("max").setValidators(o.kI.pattern(/\d+/)),this.classIds=["person"]}else this.classIds=["person"],this.DeleteNewRoi(),this.CrowdForm.get("min").reset(),this.CrowdForm.get("max").reset()}CreateRectangle(t){var i=this.canvas.getPointer(t.e),a=t.pointer.x,r=t.pointer.y;this.rectangle=new fabric.Rect({left:a,top:r,width:i.x-a,height:i.y-r,stroke:"red",type:"rect",strokeWidth:2}),this.canvas.add(this.rectangle),a>i.x&&this.rectangle.set({left:Math.abs(i.x)}),r>i.y&&this.rectangle.set({top:Math.abs(i.y)}),this.rectangle.set({width:Math.abs(a-i.x)}),this.rectangle.set({height:Math.abs(r-i.y)}),this.canvas.renderAll()}createRect2(t){var i=this.canvas.getPointer(t.e),a=t.pointer.x,r=t.pointer.y;1===t.button&&(a>i.x&&this.rectangle.set({left:Math.abs(i.x)}),r>i.y&&this.rectangle.set({top:Math.abs(i.y)}),this.rectangle.set({width:Math.abs(a-i.x)}),this.rectangle.set({height:Math.abs(r-i.y)}),this.canvas.renderAll())}Edit(t){this.selectedEditId=t;var i=this.allCameraData[t].roi_canvas;if(this.isEdit=!0,this.isEdit){var a=(c,m)=>(d,h,u,_)=>{var p=h.target,v=fabric.util.transformPoint(new fabric.Point(p.points[c].x-p.pathOffset.x,p.points[c].y-p.pathOffset.y),p.calcTransformMatrix()),b=m(d,h,u,_),A=(p._setPositionDimensions({}),p._getNonTransformedDimensions());return p.setPositionByOrigin(v,(p.points[c].x-p.pathOffset.x)/A.x+.5,(p.points[c].y-p.pathOffset.y)/A.y+.5),b},r=(c,m,d,h)=>{var u=m.target,_=u.controls[u.__corner],p=u.toLocalPoint(new fabric.Point(d,h),"center","center"),v=u._getNonTransformedDimensions(),b=u._getTransformedDimensions(0,0);return u.points[_.pointIndex]={x:p.x*v.x/b.x+u.pathOffset.x,y:p.y*v.y/b.y+u.pathOffset.y},!0};let s=i;this.canvas.setActiveObject(this.allCameraData[t].roi_canvas),s=this.canvas.getActiveObject();{let c=s.points.length-1;s.cornerStyle="circle",s.cornerColor="rgba(0,0,255,0.5)",s.controls=s.points.reduce((m,d,h)=>(m["p"+h]=new fabric.Control({pointIndex:h,positionHandler:(u,_,p)=>fabric.util.transformPoint(new fabric.Point(p.points[h].x-p.pathOffset.x,p.points[h].y-p.pathOffset.y),fabric.util.multiplyTransformMatrices(p.canvas.viewportTransform,p.calcTransformMatrix())),actionHandler:a(h>0?h-1:c,r),actionName:"modifyPolygon"}),m),{})}this.canvas.renderAll()}}EditROI(t){this.isChanges=!0,this.allCameraData.filter(r=>r.roi_id===t?r.roi_canvas:"")}isDelete(t,i,a){this.deleteField=a,this.deleteID=t,this.modalService.open(i,{centered:!0,backdrop:"static"})}DeleteROI(){if("RA"==this.deleteField){var t=this.deleteID,a=this.allCameraData[t].roi_name_canvas;this.canvas.remove(this.allCameraData[t].roi_canvas),this.canvas.remove(a);var s=this.allCameraData[t].roi_data.roi_id;this.allCameraData.splice(t,1),this.AISolutions.RA=this.allCameraData.length>0,this.cameraData[0].roi_data.splice(t,1);var c={id:this.ID,roi_id:String(s),ai_solutions:this.AISolutions};this.server.DeleteRoi(c).subscribe(m=>{this.server.notification(m.message),this.modalService.dismissAll()},m=>{this.modalService.dismissAll(),this.server.notification("Something went wrong","Retry")}),this.canvas.renderAll()}else"Water"==this.deleteField?this.DeleteWaterROIS(this.deleteID):"spillage"==this.deleteField&&(this.AISolutions.spillage=this.spillageRois.length>0,this.server.DeleteSpillageRoi({id:this.ID,roi_id:this.spillageRois[this.deleteID].roi_data.roi_id,ai_solutions:this.AISolutions}).subscribe(d=>{if(d.success){this.server.notification(d.message);var h=this.spillageRois[this.deleteID].roi_canvas,u=this.spillageRois[this.deleteID].roi_name_canvas;this.cameraData[0].spillage_roi_data.splice(this.deleteID,1),this.spillageRois.splice(this.deleteID,1),this.canvas.remove(h),this.canvas.remove(u),this.canvas.renderAll(),this.modalService.dismissAll()}else this.server.notification(d.message,"Retry")},d=>{this.server.notification("Error while fetching the data","Retry")}))}DeleteCCROI(){var t=this.deleteID,a=this.CcRois[t].roi_name_canvas;this.canvas.remove(this.CcRois[t].roi_canvas),this.canvas.remove(a);var s=this.CcRois[t].cr_data.roi_id;this.CcRois.splice(t,1),this.cameraData[0].cr_data.splice(t,1),this.AISolutions.CR=this.CcRois.length>0;var c={id:this.ID,roi_id:String(s),ai_solutions:this.AISolutions};this.modalService.dismissAll(),this.server.deleteCCData(c).subscribe(m=>{m.success&&window.location.reload(),this.server.notification(m.message),this.modalService.dismissAll()},m=>{this.modalService.dismissAll(),this.server.notification("Something went wrong","Retry")}),this.canvas.renderAll()}DeleteCCFrame(){this.AISolutions.CR=!1,this.server.deleteCCFrameData({id:this.ID,ai_solutions:this.AISolutions}).subscribe(i=>{i.success&&(this.ccTypeList=(0,x.of)([{label:"ROI",data:0},{label:"Full Frame",data:1}]),window.location.reload()),this.server.notification(i.message)},i=>{this.server.notification("Something went wrong","Retry")}),this.canvas.renderAll()}AlterROIName(t){this.isEditText=!this.isEditText,this.selectedId=t,this.selectedEditId=t,this.tempROIID.setValue(this.allCameraData[t].roi_name),this.modalService.open(this.ROIChangeModal,{size:"small",animation:!0,centered:!0,backdrop:"static"})}ChangeROIName(){this.allCameraData[this.selectedId].roi_name=this.tempROIID.value,this.allCameraData[this.selectedId].roi_name_canvas.text=this.tempROIID.value,this.allCameraData[this.selectedId].roi_data.roi_name=this.tempROIID.value,this.canvas.renderAll(),this.modalService.dismissAll(),this.SaveEditedRoi()}ChangeCCName(){var t;this.CcRois[this.selectedId].roi_name=this.tempROIID.value,this.CcRois[this.selectedId].roi_name_canvas.text=this.tempROIID.value,this.CcRois[this.selectedId].roi_data.roi_name=this.tempROIID.value,this.canvas.renderAll(),this.modalService.dismissAll(),this.CcRois.length>0&&(t=this.CcRois[this.CcRois.length-1].cr_data),this.CcRois.length>0&&(this.AISolutions.CR=!0),this.server.AddCrowdCount({id:this.ID,ai_solutions:this.AISolutions,cr_data:[t]}).subscribe(a=>{}),this.SaveEditedRoi()}SaveChanges(){var i=[];if(this.CcRois.length>0&&this.CcRois.forEach(c=>{i.push(c.cr_data)}),this.peopleCrowdForm.get("min").value||this.peopleCrowdForm.get("max").value){var a={label_name:"people",min_count:this.peopleCrowdForm.get("min").value?this.peopleCrowdForm.get("min").value:0,max_count:this.peopleCrowdForm.get("max").value?this.peopleCrowdForm.get("max").value:0};this.crowdConfig.push(a)}(this.vehicleCrowdForm.get("min").value||this.vehicleCrowdForm.get("max").value)&&(a={label_name:"vehicle",min_count:this.vehicleCrowdForm.get("min").value?this.vehicleCrowdForm.get("min").value:0,max_count:this.vehicleCrowdForm.get("max").value?this.vehicleCrowdForm.get("max").value:0},this.crowdConfig.push(a));var r=[];this.allCameraData.forEach((c,m)=>{r.push({...c.roi_data,roi_id:m+1})}),this.AISolutions.RA=r.length>0;var s={id:this.ID,ai_solutions:this.AISolutions,imagename:this.imageName,roi_data:r,tc_data:this.trafficCountData,ppe_data:[this.ppeConfig],cr_data:i,fire_smoke_data:[{fire:this.fireSmokeForm.get("fire").value,smoke:this.fireSmokeForm.get("smoke").value,dust:this.fireSmokeForm.get("dust").value,water:this.fireSmokeForm.get("water").value}]};this.server.AddROI(s).subscribe(c=>{this.isLoading=!1,c.success?(window.location.reload(),this.server.CameraSettingsChanges.next(!0),this.server.notification(c.message)):this.server.notification(c.message,"Retry")},c=>{this.isLoading=!1,this.server.notification("Something went wrong","Retry")})}AddCCData(){var t;this.crowdCountRoiName.reset(),this.CcRois.length>0&&(t=this.CcRois[this.CcRois.length-1].cr_data),this.AISolutions.CR=this.CcRois.length>0,this.server.AddCrowdCount({id:this.ID,ai_solutions:this.AISolutions,cr_data:[t]}).subscribe(a=>{a.success?(this.server.CameraSettingsChanges.next(!0),window.location.reload(),this.server.notification(a.message),this.RefreshCameraData()):(this.server.notification(a.message,"Retry"),this.canvas.remove(this.CcRois[this.CcRois.length-1].roi_canvas),this.canvas.remove(this.CcRois[this.CcRois.length-1].roi_name_canvas),this.canvas.renderAll())},a=>{this.canvas.remove(this.CcRois[this.CcRois.length-1].roi_canvas),this.canvas.remove(this.CcRois[this.CcRois.length-1].roi_name_canvas),this.canvas.renderAll(),this.server.notification("Something went wrong","Retry")})}AddTCData(){this.AISolutions.TC=this.trafficCountData.length>0,this.server.AddTCData({id:this.ID,ai_solutions:this.AISolutions,tc_data:[this.trafficCountData[this.trafficCountData.length-1]]}).subscribe(a=>{a.success?(this.server.CameraSettingsChanges.next(!0),this.RefreshCameraData(),this.server.notification(a.message),window.location.reload()):this.server.notification(a.message)},a=>{this.server.notification("Something went wrong","Retry")})}savePpeConfig(){this.AISolutions.PPE=!(!this.ppeConfig.helmet&&!this.ppeConfig.vest);var t=[];this.allCameraData.forEach((a,r)=>{t.push({...a.roi_data,roi_id:r+1})});var i={id:this.ID,ai_solutions:this.AISolutions,imagename:this.imageName,roi_data:t,tc_data:this.TCData,ppe_data:[this.ppeConfig],cr_data:this.crowdConfig,fire_smoke_data:[{fire:this.fireSmokeForm.get("fire").value,smoke:this.fireSmokeForm.get("smoke").value,dust:this.fireSmokeForm.get("dust").value}]};this.server.AddROI(i).subscribe(a=>{this.isLoading=!1,a.success?(this.server.CameraSettingsChanges.next(!0),this.server.notification(a.message)):this.server.notification(a.message,"Retry")},a=>{this.isLoading=!1,this.server.notification("Something went wrong","Retry")})}DeleteNewRoi(){this.isPolygonDrawn=!1,this.isAddROI=!1,this.isAddCC=!1,this.newROIPoints.splice(0,this.newROIPoints.length),this.canvas.renderAll(),(2==this.roiType||1==this.btnIndex)&&this.DeleteNewTCRoi()}GetPanelPoints(){this.cameraData[0].roi_data.forEach((t,i)=>{var a=t.bb_box.split(";");this.raObjects.push(...t.label_name);var r=[];for(let m=0;m<a.length-1;m+=2){var s={x:Number(a[m])*this.ratio,y:Number(a[m+1])*this.ratio};r.push(s)}this.roiPoints.push({roi:r,roi_name:t.roi_name})}),this.raObjects=this.RemoveDuplicates(this.raObjects),this.GetCCRoiPoints(),this.DrawExistPanels()}GetCCRoiPoints(){this.cameraData[0].cr_data.forEach((t,i)=>{this.CCKeyId=t.roi_id;var a=t.bb_box.split(";"),r=[];for(let m=0;m<a.length-1;m+=2){var s={x:Number(a[m])*this.ratio,y:Number(a[m+1])*this.ratio};r.push(s)}this.CCpoints.push({min_count:t.min_count,max_count:t.max_count,class_name:t.class_name,bbox_points:r,area_name:t.area_name})}),this.DrawExistCCRois()}DrawExistCCRois(){this.CCpoints.forEach((t,i)=>{this.polygonOptions.stroke="rgb(0, 255, 255)";var a=new fabric.Polygon(t.bbox_points,this.polygonOptions),r=new fabric.Text(t.area_name,{fontSize:20,backgroundColor:"black",selectable:!1,left:a.left,top:0==a.top||a.top-20<0||a.top-20==0?20:a.top-20,stroke:"rgb(0, 255, 255)",fill:"rgb(0, 255, 255)"});this.CcRois.push({roi_name_canvas:r,roi_canvas:a,roi_id:i,roi_name:this.cameraData[0].cr_data[i].area_name,cr_data:this.cameraData[0].cr_data[i]}),this.canvas.add(a,r),this.canvas.renderAll()}),this.GetTCPoints()}GetTCPoints(){var t={};this.trafficCountData=this.cameraData[0].tc_data,this.cameraData[0].tc_data.forEach((i,a)=>{var r=i.line_bbox.line.split(";"),s=i.line_bbox.arrow.split(";");t=[{points:{x1:Number(s[0]),y1:Number(s[1]),x2:Number(s[2]),y2:Number(s[3])},type:"arrow",area_name:i.area_name,roi_id:this.trafficCountData[a].roi_id},{points:{x1:Number(r[0]),y1:Number(r[1]),x2:Number(r[2]),y2:Number(r[3])},type:"line",area_name:i.area_name,roi_id:this.trafficCountData[a].roi_id}],this.tempTCData.push(t),this.TCKeyId=i.roi_id}),this.drawExistTCRois(this.tempTCData)}DrawExistPanels(){this.roiPoints.forEach((t,i)=>{this.polygonOptions.stroke=this.raROIColor;var a=new fabric.Polygon(t.roi,this.polygonOptions),r=new fabric.Text(t.roi_name,{fontSize:20,backgroundColor:"black",selectable:!1,left:a.left+10,top:a.top+50,stroke:this.raROIColor,fill:this.raROIColor}),s={roi_name_canvas:r,roi_canvas:a,roi_name:this.cameraData[0].roi_data[i].roi_name,roi_data:this.cameraData[0].roi_data[i],alarm_type:this.cameraData[0].roi_data[i].alarm_type,alarm_ip_address:this.cameraData[0].roi_data[i].alarm_type};this.alarmSelectedViol[0].roi_key_id.push(t.key_id),this.RAKeyId=t.key_id,this.allCameraData.push(s),this.canvas.add(a,r),this.canvas.renderAll()})}drawExistTCRois(t){this.tempTCCanvas=[];var a,r,i=[];t.forEach((s,c)=>{i=[];for(let p=0;p<s.length;p++){const v=s[p];if("line"==v.type&&(a=new fabric.Line([v.points.x1,v.points.y1,v.points.x2,v.points.y2],{stroke:"rgb(127, 255, 0)",strokeWidth:3,fill:"rgb(127, 255, 0)",originX:"center",originY:"center",hasControls:!1,hasBorders:!1,selectable:!1,objectCaching:!1,type:"line"}),i.push(a),a.set({x1:Math.round(v.points.x1),y1:Math.fround(v.points.y1)}),this.canvas.add(a)),"arrow"==v.type){var u=((a=new fabric.Line([v.points.x1,v.points.y1,v.points.x2,v.points.y2],{strokeWidth:3,fill:"rgb(127, 255, 0)",stroke:"rgb(127, 255, 0)",originX:"center",originY:"center",id:"arrow_line",selectable:!1,lockScalingFlip:!0,objectCaching:!1,type:"arrow"})).y1+a.y2)/2;this.deltaX=a.left-(a.x1+a.x2)/2,this.deltaY=a.top-u,r=new fabric.Triangle({left:a.get("x2")+this.deltaX,top:a.get("y2")+this.deltaY,originX:"center",originY:"center",selectable:!1,pointType:"arrow_start",angle:this._FabricCalcArrowAngle(a.x1,a.y1,a.x2,a.y2),width:20,height:20,fill:"rgb(127, 255, 0)",id:"arrow_triangle",uuid:a.uuid}),i.push(a,r),this.canvas.add(a,r);var _=new fabric.Text(v.area_name,{fontSize:16,backgroundColor:"black",selectable:!1,left:a.left-60,top:0==a.top||a.top-20<0||a.top-20==0?20:a.top-20,stroke:"rgb(127, 255, 0)",fill:"rgb(127, 255, 0)"});i.push(_),this.canvas.add(_),this.canvas.renderAll()}}this.canvas.requestRenderAll(),this.tempTCCanvas[c]=i}),this.GetSpillageRoiPoints(),this.canvas.requestRenderAll()}GetSpillageRoiPoints(){this.cameraData[0]?.spillage_roi_data&&(this.cameraData[0].spillage_roi_data.forEach((t,i)=>{var a=t.bb_box.split(";"),r=[];for(let m=0;m<a.length-1;m+=2){var s={x:Number(a[m])*this.ratio,y:Number(a[m+1])*this.ratio};r.push(s)}this.spillageRoiPoints.push({roi:r,roi_name:t.roi_name}),this.spillageRoiCount=t.roi_id}),this.DrawExistSpillageRois())}DrawExistSpillageRois(){this.spillageRoiPoints.forEach((t,i)=>{this.polygonOptions.stroke=this.spillageStroke;var a=new fabric.Polygon(t.roi,this.polygonOptions),r=new fabric.Text(t.roi_name,{fontSize:20,backgroundColor:"black",selectable:!1,left:a.left+10,top:a.top+50,stroke:this.spillageStroke,fill:this.spillageStroke});this.spillageRois.push({roi_name_canvas:r,roi_canvas:a,roi_name:this.cameraData[0].spillage_roi_data[i].roi_name,roi_data:this.cameraData[0].spillage_roi_data[i]}),this.canvas.add(a,r),this.canvas.requestRenderAll(),this.canvas.renderAll()})}SaveEditedRoi(){if(this.peopleCrowdForm.get("min").value||this.peopleCrowdForm.get("max").value){var t={label_name:["people"],min_count:this.peopleCrowdForm.get("min").value?this.peopleCrowdForm.get("min").value:0,max_count:this.peopleCrowdForm.get("max").value?this.peopleCrowdForm.get("max").value:0,roi_id:null};this.crowdConfig.push(t)}(this.vehicleCrowdForm.get("min").value||this.vehicleCrowdForm.get("max").value)&&(t={label_name:["vehicle"],min_count:this.vehicleCrowdForm.get("min").value?this.vehicleCrowdForm.get("min").value:0,max_count:this.vehicleCrowdForm.get("max").value?this.vehicleCrowdForm.get("max").value:0,roi_id:null},this.crowdConfig.push(t));var i=[],a=[];if(null!=this.selectedEditId){for(let d=0;d<this.allCameraData[this.selectedEditId].roi_canvas.points.length;d++){var r=this.allCameraData[this.selectedEditId].roi_canvas.points;let h=Math.round(r[d].x),u=Math.round(r[d].y);a.push(`${h};${u};`)}var c=a.toString().replace(/,/g,"");this.allCameraData[this.selectedEditId].roi_data.bb_box=c,i.push({...this.allCameraData[this.selectedEditId].roi_data})}this.server.EditROI({id:this.ID,ai_solutions:this.AISolutions,roi_data:i,roi_id:this.allCameraData[this.selectedEditId].roi_data.roi_id}).subscribe(d=>{d.success?(this.server.notification(d.message),window.location.reload()):this.server.notification(d.message,"Retry")},d=>{this.server.notification("Something went wrong","Retry")})}CalculateAspectRatio(t,i,a){return this.ratio=i/t,this.ratio*a}ClassId(t){if(t.target.checked)this.classIds.push(t.target.value);else{var i=this.classIds.indexOf(t.target.defaultValue);this.classIds.splice(i,1)}}OnRAAlarmObjects(t){if(t.target.checked)this.raAlarmObjects.push(t.target.value);else{var i=this.raAlarmObjects.indexOf(t.target.defaultValue);this.raAlarmObjects.splice(i,1)}this.alarmSelectedViol[0].classes=[...this.raAlarmObjects]}OnPPEAlarmObjects(t){if(t.target.checked)this.ppeAlarmObjects.push(t.target.value);else{var i=this.ppeAlarmObjects.indexOf(t.target.defaultValue);this.ppeAlarmObjects.splice(i,1)}this.alarmSelectedViol[1].classes=[...this.ppeAlarmObjects]}OnAlarmRAROISelect(t){if(t.target.checked)this.alarmSelectedViol[0].roi_key_id.push(t.target.value);else{var i=this.alarmSelectedViol[0].roi_key_id.indexOf(t.target.defaultValue);this.alarmSelectedViol[0].roi_key_id.splice(i,1)}}TrafficCountConfig(t){t.target.checked&&(this.TrafficConfig=t.target.value),this.modalService.dismissAll()}PPE_Config(t){t.target.checked?("helmet"===t.target.value&&(this.isEdit=!0,this.ppeConfig.helmet=!0),"vest"===t.target.value&&(this.isEdit=!0,this.ppeConfig.vest=!0)):(this.isEdit=!0,"helmet"===t.target.value&&(this.ppeConfig.helmet=!1),"vest"===t.target.value&&(this.ppeConfig.vest=!1)),this.savePpeConfig()}FireSmokeConfig(t){t.target.checked?("helmet"===t.target.value&&(this.isEdit=!0,this.ppeConfig.helmet=!0),"vest"===t.target.value&&(this.isEdit=!0,this.ppeConfig.vest=!0)):(this.isEdit=!0,"helmet"===t.target.value&&(this.ppeConfig.helmet=!1),"vest"===t.target.value&&(this.ppeConfig.vest=!1)),this.savePpeConfig()}OnAlarmAISelect(t){if(t.target.checked)this.AlarmAITypes.push(t.target.value),"RA"==t.target.value&&(this.alarmRAObjects.get("person").setValue(!0),this.alarmSelectedViol[0].alarm=!0),"PPE"==t.target.value&&(this.alarmPPEObjects.get("helmet").setValue("helmet"),this.alarmPPEObjects.get("vest").setValue("vest"),this.alarmSelectedViol[1].alarm=!0);else{"RA"==t.target.defaultValue&&(this.alarmSelectedViol[0].alarm=!1),"PPE"==t.target.defaultValue&&(this.alarmSelectedViol[1].alarm=!1);var i=this.AlarmAITypes.indexOf(t.target.defaultValue);this.AlarmAITypes.splice(i,1)}}VehicleConfig(t){}DeleteNewTCRoi(){this.trafficCountLineROIS.forEach(t=>{this.canvas.remove(t)}),this.btnIndex=1,this.trafficCountLineROIS=[]}SaveTrafficCountROI(){this.TCCanvasData.push(this.line),this.TCCanvasData.push(this.triangle),1==this.btnIndex?this.trafficCountLineROIS.push(this.line):this.trafficCountLineROIS.push(this.line,this.triangle),1==this.trafficCountLineROIS.length&&(this.btnIndex=2),3==this.trafficCountLineROIS.length&&this.modalService.open(this.TCNameModal,{backdrop:"static"}).result.then(t=>{this.tcName.setValue(null),this.tcName.reset(),this.tcName.addValidators(o.kI.required),this.classIds=["person"],this.DeleteNewTCRoi()},t=>{})}AddTrafficCountData(){var t=!1;if(this.cameraData[0].tc_data.forEach(d=>{t=d.area_name==this.tcName.value}),t)this.DeleteNewTCRoi(),this.modalService.dismissAll(),this.server.notification("The ROI of this name already exist","retry");else{var a,i={};i.line=Math.round(Math.abs(this.trafficCountLineROIS[0].x1)).toString()+";"+Math.round(Math.abs(this.trafficCountLineROIS[0].y1)).toString()+";"+Math.round(Math.abs(this.trafficCountLineROIS[0].x2)).toString()+";"+Math.round(Math.abs(this.trafficCountLineROIS[0].y2)).toString()+";",i.arrow=Math.round(Math.abs(this.trafficCountLineROIS[1].x1)).toString()+";"+Math.round(Math.abs(this.trafficCountLineROIS[1].y1)).toString()+";"+Math.round(Math.abs(this.trafficCountLineROIS[1].x2)).toString()+";"+Math.round(Math.abs(this.trafficCountLineROIS[1].y2)).toString()+";";var r={class_name:this.classIds,line_bbox:i,area_name:this.tcName.value,roi_id:++this.TCKeyId,direction:this.tcDirection.value};fabric.util.resetObjectTransform(this.newROI);var s=this.line._getLeftToOriginX(),c=this.line._getTopToOriginY(),m=new fabric.Text(this.tcName.value,{fontSize:15,backgroundColor:"black",selectable:!1,left:s-20,top:c-30,stroke:"rgb(127, 255, 0)",fill:"rgb(127, 255, 0)"});a=[...this.trafficCountLineROIS,m],this.canvas.add(m),this.canvas.renderAll(),this.trafficCountData[this.trafficCountData.length]=r,this.tempTCLineROIS.push(...this.trafficCountLineROIS),this.trafficCountLineROIS=[],this.btnIndex=1,this.tempTCCanvas.push(a),this.AddTCData(),this.modalService.dismissAll()}}addingShapeOnMouseDown(t){this.isMouseDown=!0;var i=this.canvas.getPointer(t.e);if(1==this.btnIndex&&(this.line=new fabric.Line([i.x,i.y,i.x,i.y],{stroke:"rgb(127, 255, 0)",strokeWidth:3,fill:"rgb(127, 255, 0)",originX:"center",originY:"center",hasControls:!1,hasBorders:!1,selectable:!1,objectCaching:!1,type:"line"}),this.line.set({x1:Math.round(i.x),y1:Math.fround(i.y)}),this.canvas.add(this.line),this.activeObj=this.line),2===this.btnIndex){this.line=new fabric.Line([i.x,i.y,i.x,i.y],{strokeWidth:3,fill:"rgb(127, 255, 0)",stroke:"rgb(127, 255, 0)",originX:"center",originY:"center",id:"arrow_line",selectable:!1,lockScalingFlip:!0,objectCaching:!1,type:"arrow"});var c=(this.line.y1+this.line.y2)/2;this.deltaX=this.line.left-(this.line.x1+this.line.x2)/2,this.deltaY=this.line.top-c,this.triangle=new fabric.Triangle({left:this.line.get("x2")+this.deltaX,top:this.line.get("y2")+this.deltaY,originX:"center",originY:"center",selectable:!1,pointType:"arrow_start",angle:-45,width:20,height:20,fill:"rgb(127, 255, 0)",id:"arrow_triangle",uuid:this.line.uuid}),this.canvas.add(this.line,this.triangle),this.activeObj=this.line}this.canvas.requestRenderAll()}IsDeleteTC(t,i){this.deleteID=i,this.modalService.open(t,{backdrop:"static",size:"xs"})}OnDeleteTCROI(){var t=this.deleteID;this.tempTCCanvas[t].forEach(a=>{this.canvas.remove(a),this.canvas.renderAll()}),this.AISolutions.TC=!(this.trafficCountData.length<=1),this.trafficCountLineROIS=[],this.btnIndex=1,this.server.deleteTCData({id:this.ID,roi_id:this.trafficCountData[t].roi_id,ai_solutions:this.AISolutions}).subscribe(a=>{this.server.notification(a.message),a.success?(this.server.CameraSettingsChanges.next(!0),this.trafficCountData.splice(t,1),this.modalService.dismissAll()):this.server.notification(a.message,"Retry")})}SaveCCPeople(){var t={label:["people"]};t.min_count=this.peopleCrowdForm.get("min").value,t.max_count=this.peopleCrowdForm.get("max").value,t.roi_id=null}SaveCCVehicle(){var t={label:["vehicle"]};t.min_count=this.peopleCrowdForm.get("min").value,t.max_count=this.peopleCrowdForm.get("max").value,t.roi_id=null}creatingShapeOnMouseMove(t){if(!0===this.isMouseDown){var i=this.canvas.getPointer(t.e);1===this.btnIndex&&this.line.set({x2:i.x,y2:i.y}),2===this.btnIndex&&(this.line.set({x2:i.x,y2:i.y}),2==this.btnIndex&&this.triangle.set({left:i.x+this.deltaX,top:i.y+this.deltaY,angle:this._FabricCalcArrowAngle(this.line.x1,this.line.y1,this.line.x2,this.line.y2)}))}this.canvas.requestRenderAll()}ngOnDestroy(){this.modalService.dismissAll()}RefreshCameraData(){this.server.GetRACameraData(this.ID).subscribe(t=>{t.success&&(this.cameraData=t.message,this.trafficCountData=this.cameraData[0].tc_data)})}_FabricCalcArrowAngle(t,i,a,r){var c,m;return m=r-i,180*(0==(c=a-t)?0===m?0:m>0?Math.PI/2:3*Math.PI/2:0===m?c>0?0:Math.PI:c<0?Math.atan(m/c)+Math.PI:m<0?Math.atan(m/c)+2*Math.PI:Math.atan(m/c))/Math.PI+90}RemoveDuplicates(t){return t.filter((i,a)=>t.indexOf(i)===a)}AddFireSmokeSolution(){this.SensGizInfo=[],this.sensgiz.controls.forEach((i,a)=>{this.SensGizInfo.push({presetid:i.value.presetId,presetlocation:i.value.coinLocation,preset_key_id:a})}),this.fireSmokeForm.get("fire").value&&(this.AISolutions.fire=!0),this.fireSmokeForm.get("smoke").value&&(this.AISolutions.smoke=!0),this.fireSmokeForm.get("dust").value&&(this.AISolutions.dust=!0);var t={id:this.ID,ai_solutions:this.AISolutions,firesmoke_data:[{fire:this.fireSmokeForm.get("fire").value,smoke:this.fireSmokeForm.get("smoke").value,dust:this.fireSmokeForm.get("dust").value,camera_type:this.cameraType.value,presets:[...this.SensGizInfo]}]};this.server.AddFireSmokeToFrame(t).subscribe(i=>{this.server.notification(i.message),window.location.reload()},i=>{window.location.reload()})}DeleteFireSmokeFrame(){this.AISolutions.fire=!1,this.AISolutions.smoke=!1,this.AISolutions.dust=!1,this.server.DeleteFireSmokeFrame({id:this.ID,ai_solutions:this.AISolutions}).subscribe(i=>{window.location.reload(),this.server.notification(i.message)},i=>{window.location.reload(),this.server.notification("Error During the Process","Retry")})}AddFireROI(){this.polygonOptions.stroke="orange",this.newROI.stroke="orange",this.isAddROI=!1,this.isWater=!0,this.isEdit=!1,this.roiType=1,this.isTCRoi=!1,this.newROIPoints.splice(0,this.newROIPoints.length),this.canvas.requestRenderAll(),this.isAddCC=!1}DeleteWaterROIS(t){this.canvas.remove(this.WaterROIData[t].roi_canvas),this.canvas.remove(this.WaterROIData[t].roi_name_canvas)}hooterOrRelayConfig(t,i){"hooter"==t.target.value?(this.isHooter=!0,this.isRelay=!1,this.isSensgiz=!1,this.isVoiceAlert=!1):"relay"==t.target.value?(this.isHooter=!1,this.isRelay=!0,this.isSensgiz=!1,this.isVoiceAlert=!1):"voiceAlert"==t.target.value?(this.isVoiceAlert=!0,this.isHooter=!1,this.isRelay=!1,this.isSensgiz=!1):"sensegiz"==t.target.value?(this.isVoiceAlert=!1,this.isSensgiz=!0,this.isHooter=!1,this.isRelay=!1,this.SensgizModal(i)):(this.isVoiceAlert=!1,this.isSensgiz=!1,this.isHooter=!1,this.isRelay=!1)}SensgizModal(t){this.sensgizModal=this.modalService.open(t)}SaveSensgizInfo(){this.SensGizInfo=[],this.sensgiz.controls.forEach((t,i)=>{this.SensGizInfo.push({preset_id:t.value.presetId,coin_location:t.value.coinLocation,coin_key_id:i})}),"sensegiz"==this.editAlertForm.get("alarmType").value&&null!=this.editAlertForm.get("alarmType").value&&""!=this.editAlertForm.get("alarmIp").value&&this.sensgiz.length>0&&(this.isAlertFormValid=!0),this.sensgizModal.close(),this.editAlertForm.updateValueAndValidity()}AddSensgizData(){this.sensgiz.push(new o.cw({coinLocation:new o.NI("",[o.kI.required]),presetId:new o.NI("",[o.kI.pattern(new RegExp("^(?!-)[0-9]+$")),o.kI.min(0),o.kI.required])}))}DeleteSensgizData(t){this.sensgiz.controls.splice(t,1),this.sensgiz.updateValueAndValidity()}EditAlert(t){this.sensgiz.reset(),this.sensgiz=new o.Oe([]),this.sensgiz.push(new o.cw({coinLocation:new o.NI("",[o.kI.required]),presetId:new o.NI("",[o.kI.pattern(new RegExp("^(?!-)[0-9]+$")),o.kI.min(0),o.kI.required])})),this.editAlertForm.get("alarmEnable").setValue(this.cameraData[0].alarm_enable),"hooter"==this.cameraData[0].alarm_type?(this.isHooter=!0,this.isRelay=!1,this.isSensgiz=!1,this.editAlertForm.get("alarmType").setValue("hooter"),this.editAlertForm.get("alarmIp").setValue(this.cameraData[0].alarm_ip_address)):"relay"==this.cameraData[0].alarm_type?(this.isHooter=!1,this.isRelay=!0,this.isSensgiz=!1,this.editAlertForm.get("alarmType").setValue("relay"),this.editAlertForm.get("alarmIp").setValue(this.cameraData[0].alarm_ip_address)):"sensegiz"==this.cameraData[0].alarm_type&&(this.sensgiz=new o.Oe([]),this.SensGizInfo=this.cameraData[0].coin_details,this.isHooter=!1,this.isRelay=!1,this.isSensgiz=!0,this.cameraData[0].coin_details.forEach((i,a)=>{this.sensgiz.push(new o.cw({coinLocation:new o.NI("",[o.kI.required]),presetId:new o.NI("",[o.kI.pattern(new RegExp("^(?!-)[0-9]+$")),o.kI.min(0),o.kI.required])})),this.sensgiz.controls[a].get("coinLocation").setValue(i.coin_location),this.sensgiz.controls[a].get("presetId").setValue(i.preset_id)}),this.editAlertForm.get("alarmType").setValue("sensegiz")),this.modalService.open(t).result.then(i=>{this.responseMessage=""},i=>{this.responseMessage=""})}OnEditAlertDetails(){if(this.responseMessage="",this.editAlertForm.updateValueAndValidity(),this.isLoading=!0,new FormData,this.isFail=!1,this.isSuccess=!1,this.isHooter)var a={id:this.cameraData[0]._id.$oid,alarm_type:"hooter",alarm_ip_address:this.editAlertForm.value.alarmIp,alarm_enable:this.editAlertForm.get("alarmEnable").value};else a=this.isRelay?{id:this.cameraData[0]._id.$oid,alarm_type:"relay",alarm_ip_address:this.editAlertForm.value.alarmIp,alarm_enable:this.editAlertForm.value.alarmEnable}:this.isVoiceAlert?{id:this.cameraData[0]._id.$oid,alarm_type:"voiceAlert",alarm_ip_address:this.editAlertForm.value.voiceLanguage,alarm_enable:this.editAlertForm.get("alarmEnable").value}:this.isSensgiz?{id:this.cameraData[0]._id.$oid,alarm_type:"sensegiz",coin_details:this.SensGizInfo,alarm_enable:this.editAlertForm.get("alarmEnable").value}:{id:this.cameraData[0]._id.$oid,ai_solution:this.AISolutions,alarm_type:null,alarm_enable:!1,alarm_ip_address:null};this.server.EditAlarm(a).subscribe(r=>{r.success?(this.isLoading=!1,this.isSuccess=!0,this.GetAlertInfo(),this.responseMessage=r.message,this.responseMessage="",this.isHooter=!1,this.isRelay=!1,this.server.notification(r.message),setTimeout(()=>{this.modalService.dismissAll()},500)):(this.isLoading=!1,this.responseMessage=r.message,this.isFail=!0)},r=>{this.isFail=!0,this.responseMessage="Error while adding camera,retry",this.isLoading=!1})}GetAlertInfo(){this.server.GetRACameraData(this.ID).subscribe(t=>{this.cameraData=t.message,this.AISolutions=this.cameraData[0].ai_solution?this.cameraData[0].ai_solution:{},this.currentArea=t.area,this.currentPlant=t.plant,this.CameraDataObservable=(0,x.of)(t.message),this.isCameraData=!0,this.cameraData[0].ppe_data.length>0?(this.ppeForm.get("helmet").valueChanges.subscribe(i=>{}),this.ppeConfig=this.cameraData[0].ppe_data[0],this.cameraData[0].ppe_data[0].helmet?(this.ppeForm.get("helmet").setValue(!0),this.ppeForm.get("helmet").markAsUntouched()):this.ppeForm.get("helmet").setValue(!1),this.cameraData[0].ppe_data[0].vest?this.ppeForm.get("vest").setValue(!0):this.ppeForm.get("vest").setValue(!1)):(this.ppeForm.get("vest").setValue(!1),this.ppeForm.get("helmet").setValue(!1))})}SetRelayOrHooter(t,i,a,r){this.editField="alarmStatus",this.selectedRoi=a,this.selectedEditId=i,t.target.checked?"boolean"==typeof this.allCameraData[this.selectedEditId].roi_data.alarm_type[r]&&(this.allCameraData[this.selectedEditId].roi_data.alarm_type[r]=!0):"boolean"==typeof this.allCameraData[this.selectedEditId].roi_data.alarm_type[r]&&(this.allCameraData[this.selectedEditId].roi_data.alarm_type[r]=!1),this.SaveEditedRoi()}GetCameraFeedImage(){this.loader1=!0,this.server.UpdateCameraFeedImage(this.ID).subscribe(t=>{t.success?(this.imageName=t.message[0].imagename,this.SetCameraImageToCanvas(),this.loader1=!1,this.router.navigate([],{relativeTo:this.ActiveRoute,queryParams:{iamgename:this.imageName},queryParamsHandling:"merge"})):(this.loader1=!1,this.server.notification(t.message,"Retry"))},t=>{this.loader1=!1})}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(C.gz),e.\u0275\u0275directiveInject(F.N),e.\u0275\u0275directiveInject(C.F0),e.\u0275\u0275directiveInject(y.FF))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-camera-roi"]],viewQuery:function(t,i){if(1&t&&(e.\u0275\u0275viewQuery(P,5),e.\u0275\u0275viewQuery(N,5),e.\u0275\u0275viewQuery(j,5),e.\u0275\u0275viewQuery(L,5),e.\u0275\u0275viewQuery(z,5),e.\u0275\u0275viewQuery($,7),e.\u0275\u0275viewQuery(q,5),e.\u0275\u0275viewQuery(H,5),e.\u0275\u0275viewQuery(G,5),e.\u0275\u0275viewQuery(B,5),e.\u0275\u0275viewQuery(Q,5)),2&t){let a;e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(i.infoModal=a.first),e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(i.CCNameModal=a.first),e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(i.CCNameChangeModal=a.first),e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(i.fireROINameModal=a.first),e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(i.ROIChangeModal=a.first),e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(i.canvasContainer=a.first),e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(i.RoiNameModal=a.first),e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(i.TCNameModal=a.first),e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(i.CCForFrame=a.first),e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(i.spillageNameModal=a.first),e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(i.CCTYpe=a.first)}},decls:72,vars:5,consts:[[1,"container-fluid","dashboard-content"],[1,"page-header","mb-2"],["class","row","id","info-card",4,"ngIf"],[1,"card","card-body","mb-3"],[1,"row","mb-3"],[1,"col-9","border-bottom"],["class","d-flex justify-content-start",4,"ngIf"],[1,"col-xl-3","col-md-12","col-xs-12","col-sm-12","p-2","border-bottom"],[1,"float-end"],["class","btn default me-2",3,"click",4,"ngIf"],[1,"me-2","btn","danger",3,"click"],["icon","trash",1,"me-1","text-white"],[1,"float-end","btn","primary",3,"click"],["icon","angle-left",1,"me-1"],[1,"col-12"],[1,"d-flex","justify-content-center"],["id","canvas-container"],["id","canvasROI",1,"canvas-class"],[1,"row"],[1,"card","card-body"],[1,"mb-3",2,"color","#178489"],[4,"ngIf"],["class","row mt-3",4,"ngIf"],["noAIsol",""],[1,"row","mt-3"],[1,"alert","alert-dark"],[1,"col-2"],[1,"mx-auto","my-auto"],["ROINameChangeModal",""],["CCNameChangeModal",""],["ccForFrame",""],["ROINameModal",""],["deleteModal",""],["deleteCCModal",""],["deleteTCModal",""],["deleteCCFModal",""],["deleteFireModal",""],["crowdCount",""],["spillageROIName",""],["roiInfo",""],["TCNameModal",""],["CCType",""],["editAlert",""],["sensgizDetails",""],["id","info-card",1,"row"],[1,"col-xl-3","col-md-6","col-xs-12","col-sm-12"],["id","data-card",1,"card","analytics"],[1,"text-muted"],[1,"d-flex","justify-content-start"],["id","crowdCount",4,"ngIf"],[1,"ms-2","me-2","btn","success","text-black",2,"background-color","rgb(189, 189, 38) !important",3,"click"],["icon","plus",1,"me-1"],[1,"me-2","btn","success",3,"click"],[1,"me-2","btn","success",2,"background-color","#f44336 !important",3,"click"],["id","crowdCount"],["id","ccContainer","placeholder","+ Crowd Count Types",3,"labelStyleClass","containerStyle","ngModelOptions","disabled","ngModel","options","ngModelChange","onNodeSelect"],[1,"btn","default","me-2",3,"click"],["styleClass","tabview-custom"],["pTemplate","header"],["noDetails",""],["header","Header II"],["header","Header III"],[1,"d-flex","justify-content-center","align-items-center"],[1,"col-6"],[1,"border","rounded","p-3"],["class","col-xl-12",4,"ngIf"],["header","Header III",4,"ngIf"],["class","",4,"ngIf","ngIfElse"],[1,""],["id","data-card",1,""],[1,"table"],[2,"text-align","center"],["scope","col"],["icon","cog",1,"me-2"],["style","text-align: center",4,"ngFor","ngForOf"],[3,"dblclick"],[1,"flex"],["class","",4,"ngFor","ngForOf"],[1,"btn","btn-sm","danger","me-2",3,"click"],["icon","trash"],[1,"form-check","form-check-inline","m-2"],["type","checkbox",1,"form-check-input",2,"color","var(\n                                                --primary-color\n                                              ) !important",3,"checked","id","change"],["type","checkbox","role","switch",1,"form-check-input",2,"color","var(\n                                                --primary-color\n                                              ) !important",3,"checked","id","change"],["id","data-card",1,"card"],["class","","id","data-card",4,"ngIf","ngIfElse"],["class","table",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"btn","btn-sm","danger",3,"click"],[4,"ngIf","ngIfElse"],["CCFullFrame",""],["class","table",4,"ngIf","ngIfElse"],[1,"mb-3"],["id","data-card",1,"card","card-body"],[1,"float-start"],["icon","trash",1,"me-2"],[1,"input-group"],[1,"row","col-2"],[1,"",2,"color","#178489"],[1,"",2,"pointer-events","all",3,"formGroup"],["id","custome",1,"form-check","form-check-inline"],["type","checkbox","id","helmet","value","helmet","defaultValue","","formControlName","helmet",1,"form-check-input",3,"checked","change"],["for","helmet",1,"form-check-label","text-muted"],["type","checkbox","formControlName","vest","name","","value","vest","defaultValue","vest","id","vest",1,"form-check-input",3,"checked","change"],["for","vest",1,"form-check-label","text-muted"],[1,"col-xl-12"],[1,"row","d-flex","justify-content-center"],[1,"col-6","border","rounded","p-3"],[1,"row","col-4","ms-2"],[1,"m-3",2,"pointer-events","all",3,"formGroup"],["type","checkbox","id","fire","value","fire","defaultValue","fire","formControlName","fire",1,"form-check-input"],["for","fire",1,"form-check-label","text-muted"],["class","form-check form-check-inline","id","custome",4,"ngIf"],["type","checkbox","formControlName","dust","name","","value","dust","defaultValue","dust","id","dust",1,"form-check-input"],["for","dust",1,"form-check-label","text-muted"],["class","border rounded p-3 m-3",4,"ngIf"],["class","btn default m-2",3,"disabled","click",4,"ngIf"],["class","btn danger m-2",3,"click",4,"ngIf"],["type","checkbox","formControlName","smoke","name","","value","smoke","defaultValue","smoke","id","smoke",1,"form-check-input"],["for","smoke",1,"form-check-label","text-muted"],[1,"border","rounded","p-3","m-3"],[1,"mb-2"],[1,"form-check"],["type","radio","id","camera_type1","value","bullet",1,"form-check-input",3,"formControl"],["for","camera_type1",1,"form-check-label"],["type","radio","id","camera_type2","value","ptz",1,"form-check-input",3,"formControl"],["for","camera_type2",1,"form-check-label"],[1,"m-2"],[1,"btn","btn-sm","default-outline","mb-3","ms-3",3,"click"],["icon","plus",1,"mb-2"],["class","p-2","style","",4,"ngFor","ngForOf"],[1,"p-2"],[1,"d-flex","justify-centent-center",3,"formGroup"],[1,"d-flex","align-items-center","justify-content-between"],[1,"form-floating","w-100","me-2"],["type","number","id","number-input","placeholder","Preset Id","formControlName","presetId",1,"form-control","w-100","me-2"],["for","number-input"],["id","loc","placeholder","Location","formControlName","coinLocation",1,"form-control","w-100","me-2"],["for","loc"],["icon","circle-minus","size","lg",1,"ms-2",2,"cursor","pointer","color","#bd1f14",3,"click"],["class","text-danger",4,"ngIf"],[1,"text-danger"],[1,"btn","default","m-2",3,"disabled","click"],[1,"btn","danger","m-2",3,"click"],["class","card card-header","id","data-card",4,"ngIf","ngIfElse"],["id","data-card",1,"card","card-header"],["type","checkbox","id","fire","value","fire","defaultValue","helmet","formControlName","fire",1,"form-check-input"],[1,"form-floating"],["id","coinId","placeholder","Coin ID","formControlName","coinId",1,"form-control","w-20","me-2"],["for","coinId"],["type","number","id","number-input","placeholder","Preset Id","formControlName","presetId",1,"form-control","w-20","me-2"],["id","loc","placeholder","Location","formControlName","coinLocation",1,"form-control","w-20","me-2"],["class","col-12",4,"ngIf"],["class","card",4,"ngIf"],[1,"card"],[1,"border","p-2",2,"border-radius","7px"],[1,"float-start",2,"color","#178489"],[1,"float-end","btn","default-tertiary",3,"click"],["icon","pen-to-square"],[1,"col-xl-12","col-lg-6","col-md-12","col-sm-6","col-xs-6"],[1,"col-12","mb-3"],[1,"mt-3"],["class","ms-2",4,"ngIf"],["class","m-2",4,"ngIf"],[1,"ms-2"],[1,"text-dark"],["class","p-1 m-1",4,"ngIf"],["class","col-12 p-2",4,"ngIf"],["class","col-12 d-flex justify-centent-center",4,"ngIf"],[1,"p-1","m-1"],[1,"mb-2","mt-3"],["class","d-flex justify-content-between align-items-center mt-2",4,"ngIf"],[1,"d-flex","justify-content-between","align-items-center","mt-2"],[1,"d-flex","justify-centent-space-between","align-items-center"],[1,"list-group-item","me-2"],["class","float-end",4,"ngIf"],[1,"list-group-item","ms-2"],[1,"col-12","p-2"],[1,"me-2"],[1,"list-group"],["class","list-group-item","style","overflow-x: auto; max-width: 100%",4,"ngIf"],["class","list-group-item",4,"ngIf"],[1,"list-group-item"],["type","checkbox","name","","value","fire","defaultValue","fire","id","fireAlert",1,"form-check-input"],["for","fireAlert",1,"form-check-label","text-muted"],["type","checkbox","name","","value","smoke","defaultValue","smoke","id","smokeAlert",1,"form-check-input"],["for","smokeAlert",1,"form-check-label","text-muted"],[1,"list-group-item",2,"overflow-x","auto","max-width","100%"],["type","checkbox","id","RAalert","value","RA","defaultValue","",1,"form-check-input",3,"change"],["for","RAalert",1,"form-check-label","text-muted"],[3,"formGroup",4,"ngIf"],["class","box-container","style","overflow-x: auto; max-width: 100%",4,"ngIf"],[3,"formGroup"],["class","mb-3 mt-3 d-flex justify-content-center",4,"ngIf"],[1,"mb-3","mt-3","d-flex","justify-content-center"],["class","form-check form-check-inline","id","subCheckbox",4,"ngIf"],["id","subCheckbox",1,"form-check","form-check-inline"],["formControlName","person","type","checkbox","checked","","name","","id","0",1,"form-check-input",3,"defaultValue","value","change"],["for","0",1,"form-check-label"],["formControlName","car","type","checkbox","name","","id","1",1,"form-check-input",3,"value","defaultValue","change"],["for","1",1,"form-check-label"],["formControlName","bike","type","checkbox","name","","id","2",1,"form-check-input",3,"value","defaultValue","change"],["for","2",1,"form-check-label"],["type","checkbox","formControlName","truck","name","","id","3",1,"form-check-input",3,"value","defaultValue","change"],["for","3",1,"form-check-label"],[1,"box-container",2,"overflow-x","auto","max-width","100%"],["class","box-md",4,"ngFor","ngForOf"],[1,"box-md"],[1,"form-check-inline","form-check-inline","m-2",2,"display","inline-block !important","width","70%","max-width","70%","overflow-x","scroll"],["type","checkbox",1,"form-check-input","m-2",3,"checked","id","value","change"],[3,"for"],["type","checkbox","name","","value","PPE","defaultValue","PPE","id","PPEalert",1,"form-check-input",3,"change"],["for","PPEalert",1,"form-check-label","text-muted"],["class","mb-3 mt-3 d-flex justify-content-center",3,"formGroup",4,"ngIf"],[1,"mb-3","mt-3","d-flex","justify-content-center",3,"formGroup"],["type","checkbox","id","helmetAlert","value","helmet","defaultValue","",1,"form-check-input",3,"formControlName","change"],["for","helmetAlert",1,"form-check-label","text-muted"],["type","checkbox","name","","value","vest","defaultValue","vest","id","vestAlert",1,"form-check-input",3,"formControlName","change"],["for","vestAlert",1,"form-check-label","text-muted"],[1,"col-12","d-flex","justify-centent-center"],[1,"table","table-bordered"],[1,"alert","alert-warning"],[1,"card-header"],[1,"card-body","p-4"],["action",""],["type","text","id","ROI",1,"form-control","mb-3",3,"formControl","ngClass"],["id","validationServerUsernameFeedback",3,"ngClass"],["type","submit",1,"btn","success","ms-2","float-end",3,"click"],[1,"btn","danger","me-2","float-end",3,"click"],[1,"modal-header"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-content"],[1,"w-100","p-2"],["id","custome",1,"row",3,"formGroup"],[1,"column-flex","justify-content-center","align-items-center"],["class","d-flex justify-content-center align-items-center",4,"ngFor","ngForOf"],[1,"btn","default","float-end",3,"disabled","click"],[1,"d-flex","justify-content-center","align-items-center","mb-3","mt-3"],[1,"w-100"],[1,"column-flex"],["id","custome",1,"mb-2"],["type","checkbox","checked","","name","","min","0",1,"form-check-input",3,"formControlName","defaultValue","value","id"],[1,"form-check-label","ms-2",3,"for"],["class","mb-2",4,"ngIf"],["class","",4,"ngIf"],["type","number","formControlName","min","min","0","id","min","placeholder","min",1,"form-control",3,"ngClass"],["type","number","formControlName","max","pattern","\\d+","name","","min","0","id","min","placeholder","max",1,"form-control",3,"ngClass"],["type","text","id","ROI","placeholder","Enter ROI name",1,"form-control","mb-3",3,"ngClass","formControl"],[1,"mb-3","mt-3","d-flex","justify-content-center","border","rounded","p-3"],["type","checkbox","checked","","name","","id","0",1,"form-check-input",3,"formControl","defaultValue","value","change"],["class","mb-3 mt-3 border rounded p-3",4,"ngIf"],["type","submit",1,"btn","success","ms-1","float-end",3,"disabled","click"],[1,"btn","danger","me-1","float-end",3,"click"],[1,"mb-3","mt-3","border","rounded","p-3"],[1,"border-bottom","mb-2"],["class","d-flex justify-content-center mt-3",4,"ngIf"],[1,"d-flex","justify-content-center","mt-3"],["type","checkbox","name","","id","hooterroi",1,"form-check-input",3,"formControl"],["for","hooterroi",1,"form-check-label"],["type","checkbox","name","","id","relayroi",1,"form-check-input",3,"formControl"],["for","relayroi",1,"form-check-label"],["placeholder","Select Channel",3,"ngModel","options","ngModelChange",4,"ngIf"],["placeholder","Select Channel",3,"ngModel","options","ngModelChange"],[1,"modal-confirm"],[1,"modal-header","flex-column"],[1,"icon-box"],[1,"material-icons"],[1,"modal-title","w-100"],[1,"modal-footer","justify-content-center"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","danger",3,"click"],["action","",1,""],["id","custome",1,"form-inline","row",3,"formGroup"],["type","checkbox","name","","min","0",1,"form-check-input",3,"formControlName","defaultValue","value","id"],[1,"alert","alert-info","mb-0"],[1,"d-flex","align-items-center","justify-content-center","mt-3","mb-3"],["type","radio","checked","","name","tcConfig","id","0",1,"form-check-input",3,"formControl","defaultValue","value","change"],["type","radio","name","tcConfig","id","1",1,"form-check-input",3,"formControl","value","defaultValue","change"],["type","radio","name","tcConfig","id","2",1,"form-check-input",3,"formControl","value","defaultValue","change"],[1,"d-flex","align-items-center","justify-content-center"],[1,"m-3"],["type","text","id","ROI","placeholder","Enter traffic count region name",1,"form-control",3,"ngClass","formControl"],[1,"m-3","border","rounded","p-3","d-flex","justify-content-center"],["type","radio","id","camera_type1","value","entry",1,"form-check-input",3,"formControl"],["type","radio","id","camera_type2","value","exit",1,"form-check-input",3,"formControl"],["type","submit","type","submit",1,"btn","success","ms-1","float-end",3,"disabled","click"],[1,"container"],[1,"form","cf"],[1,"plan","cf"],["type","radio","name","radio1","id","free","value","free"],["for","free",1,"free-label","four","col"],["type","radio","name","radio1","id","basic","value","basic","checked",""],["for","basic",1,"basic-label","four","col"],[1,"border","p-3","mb-3",2,"border-radius","10px",3,"formGroup"],["type","checkbox","hidden","hidden","formControlName","alarmEnable",3,"checked","id"],[1,"switch",3,"for"],["id","input",1,"wrapper-two"],["for","alarmType",1,"mb-1"],["id","alarmType",1,"form-floating","form-control","p-3","mb-3"],["type","radio","formControlName","alarmType","value","hooter","defaultValue","hooter","id","hooter",1,"form-check-input",3,"change"],["for","hooter",1,"form-check-label","text-muted"],["type","radio","formControlName","alarmType","value","relay","defaultValue","relay","id","relay",1,"form-check-input",3,"change"],["for","relay",1,"form-check-label","text-muted"],["type","radio","formControlName","alarmType","value","","defaultValue","","id","none",1,"form-check-input",3,"change"],["for","none",1,"form-check-label","text-muted"],["for","alarmDetails",1,"mb-1"],["class","form-floating","id","alarmDetails",4,"ngIf"],["class","form-floating",4,"ngIf"],["class","m-2 alert alert-danger",4,"ngIf"],[1,"mt-2","btn-wrapper"],[1,"btn","default-outline","me-1",3,"click"],[1,"btn","default",3,"disabled","click"],["id","alarmDetails",1,"form-floating"],["type","text","formControlName","alarmIp","placeholder","User name","id","hooterIp",1,"form-control"],["for","hooterIp"],["type","text","formControlName","alarmIp","placeholder","User name","id","relayIp",1,"form-control"],["for","relayIp"],[1,"m-2","alert","alert-danger"],["id","modal-basic-title",1,"modal-title"],[1,"modal-body","p-3"],[1,"modal-footer"],[1,"btn","default","float-end",3,"click"]],template:function(t,i){1&t&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"h3"),e.\u0275\u0275text(3,"Integration of AI solutions to the Camera"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(4,Z,25,4,"div",2),e.\u0275\u0275elementStart(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",4),e.\u0275\u0275template(9,K,11,1,"div",6),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(10,"div",7)(11,"div",8),e.\u0275\u0275template(12,J,2,0,"button",9),e.\u0275\u0275elementStart(13,"button",10),e.\u0275\u0275listener("click",function(){return i.DeleteNewRoi()}),e.\u0275\u0275element(14,"fa-icon",11),e.\u0275\u0275text(15,"Delete ROI "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"button",12),e.\u0275\u0275listener("click",function(){return i.Back()}),e.\u0275\u0275element(17,"fa-icon",13),e.\u0275\u0275text(18," Back "),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(19,"div",4)(20,"div",14)(21,"div",15)(22,"div",16),e.\u0275\u0275element(23,"canvas",17),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(24,"div",18)(25,"div",14)(26,"div",19)(27,"div",20)(28,"h5"),e.\u0275\u0275text(29,"AI solutions:"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(30,at,26,7,"div",21),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(31,Nt,2,1,"div",22),e.\u0275\u0275template(32,jt,2,0,"ng-template",null,23,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementStart(34,"div",24)(35,"div",14)(36,"div",25),e.\u0275\u0275text(37," Above configaration will be applied to this camera "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(38,"div",26),e.\u0275\u0275element(39,"div",27),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(40,Lt,13,5,"ng-template",null,28,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(42,zt,13,5,"ng-template",null,29,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(44,Bt,13,3,"ng-template",null,30,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(46,en,20,11,"ng-template",null,31,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(48,tn,17,0,"ng-template",null,32,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(50,nn,17,0,"ng-template",null,33,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(52,an,17,0,"ng-template",null,34,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(54,rn,17,0,"ng-template",null,35,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(56,ln,17,0,"ng-template",null,36,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(58,dn,14,7,"ng-template",null,37,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(60,_n,13,6,"ng-template",null,38,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(62,pn,23,9,"ng-template",null,39,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(64,un,28,11,"ng-template",null,40,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(66,hn,17,0,"ng-template",null,41,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(68,Cn,41,8,"ng-template",null,42,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(70,bn,12,1,"ng-template",null,43,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",i.isCameraData),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",i.cameraData.length>0),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!(i.isEdit&&i.isChanges)&&(i.isAddROI||i.isAddCC||i.isSpillage)&&i.newROIPoints.length>2),e.\u0275\u0275advance(18),e.\u0275\u0275property("ngIf",i.cameraData.length>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!1))},dependencies:[o._Y,o.Fj,o.wV,o.Wl,o._,o.JJ,o.JL,o.c5,o.qQ,o.oH,o.sg,o.u,M.BN,I.NgClass,I.NgForOf,I.NgIf,o.On,o.F,S.mP,w.jx,R.xf,R.x4,I.AsyncPipe],styles:[".card.analytics[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{max-width:inherit!important;overflow-x:hidden!important;text-overflow:clip!important;overflow-y:hidden!important}#analytic[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{max-height:6em;min-height:6em;padding:.3rem;display:flex;justify-content:center;align-items:center}.canvas-class[_ngcontent-%COMP%]{max-width:100%;max-height:100%;border-radius:4px;overflow-x:scroll!important;overflow-y:scroll!important;box-shadow:0 8px 15px #0003}body[_ngcontent-%COMP%]{font-family:sans-serif;padding:50px 100px;text-align:center}h2[_ngcontent-%COMP%]{font-size:16px;margin-bottom:1.5em;color:#333}#canvas-container[_ngcontent-%COMP%]{max-width:100%;max-height:100%;overflow-x:scroll;overflow-y:scroll;position:relative}#container-canvas[_ngcontent-%COMP%]   ng-scrollbar[_ngcontent-%COMP%]{--scrollbar-size: 20px;--scrollbar-thumb-color: rgb(155, 154, 154);--scrollbar-hover-size: 20px;--scrollbar-track-color: rgba(241, 241, 241, 0);--scrollbar-border-radius: 10px;height:200px}#table[_ngcontent-%COMP%]   ng-scrollbar[_ngcontent-%COMP%]{--scrollbar-size: 10px;--scrollbar-thumb-color: rgb(155, 154, 154);--scrollbar-hover-size: 15px;--scrollbar-track-color: rgba(241, 241, 241, 0);--scrollbar-border-radius: 10px;height:200px}drag-scroll[_ngcontent-%COMP%]{width:100%!important;max-width:100vw!important;height:350px!important;display:flex!important;z-index:18!important}.btn-wrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr}.box-container[_ngcontent-%COMP%]{width:100%;max-width:100%;overflow-x:auto;display:block;transition:all .5s}.box-md[_ngcontent-%COMP%]{display:inline-block;justify-content:center;align-items:center;width:10rem;height:5rem;max-width:100%;overflow:scroll;border:1px solid #ccc;padding:.3rem;margin:.2rem;border-radius:7px}.box-md[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:.2rem .5rem!important}.flex[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.CC-container[_ngcontent-%COMP%]{background-color:var(--prime-color);color:#fff;border-radius:5px}.p-menubar-overlay[_ngcontent-%COMP%]{position:absolute;top:50px;right:0}#ccContainer[_ngcontent-%COMP%]   .p-treeselect[_ngcontent-%COMP%]   .p-treeselect-trigger[_ngcontent-%COMP%]{background:var(--prime-color)!important;color:#fff!important}"]}),n})();var yn=f(1795),E=f(3608),Sn=f(7832);let wn=(()=>{class n extends Sn.s{}return n.\u0275fac=function(){let l;return function(i){return(l||(l=e.\u0275\u0275getInheritedFactory(n)))(i||n)}}(),n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["BarsIcon"]],standalone:!0,features:[e.\u0275\u0275InheritDefinitionFeature,e.\u0275\u0275StandaloneFeature],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M13.3226 3.6129H0.677419C0.497757 3.6129 0.325452 3.54152 0.198411 3.41448C0.0713707 3.28744 0 3.11514 0 2.93548C0 2.75581 0.0713707 2.58351 0.198411 2.45647C0.325452 2.32943 0.497757 2.25806 0.677419 2.25806H13.3226C13.5022 2.25806 13.6745 2.32943 13.8016 2.45647C13.9286 2.58351 14 2.75581 14 2.93548C14 3.11514 13.9286 3.28744 13.8016 3.41448C13.6745 3.54152 13.5022 3.6129 13.3226 3.6129ZM13.3226 7.67741H0.677419C0.497757 7.67741 0.325452 7.60604 0.198411 7.479C0.0713707 7.35196 0 7.17965 0 6.99999C0 6.82033 0.0713707 6.64802 0.198411 6.52098C0.325452 6.39394 0.497757 6.32257 0.677419 6.32257H13.3226C13.5022 6.32257 13.6745 6.39394 13.8016 6.52098C13.9286 6.64802 14 6.82033 14 6.99999C14 7.17965 13.9286 7.35196 13.8016 7.479C13.6745 7.60604 13.5022 7.67741 13.3226 7.67741ZM0.677419 11.7419H13.3226C13.5022 11.7419 13.6745 11.6706 13.8016 11.5435C13.9286 11.4165 14 11.2442 14 11.0645C14 10.8848 13.9286 10.7125 13.8016 10.5855C13.6745 10.4585 13.5022 10.3871 13.3226 10.3871H0.677419C0.497757 10.3871 0.325452 10.4585 0.198411 10.5855C0.0713707 10.7125 0 10.8848 0 11.0645C0 11.2442 0.0713707 11.4165 0.198411 11.5435C0.325452 11.6706 0.497757 11.7419 0.677419 11.7419Z","fill","currentColor"]],template:function(t,i){1&t&&(e.\u0275\u0275namespaceSVG(),e.\u0275\u0275elementStart(0,"svg",0),e.\u0275\u0275element(1,"path",1),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275classMap(i.getClassNames()),e.\u0275\u0275attribute("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role))},encapsulation:2}),n})();var Rn=f(4522),kn=f(2621);let T=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({imports:[I.CommonModule,C.Bz,yn.T,E.z,w.m8,wn,Rn.L,kn.o,C.Bz,E.z,w.m8]}),n})();var oi=f(4153);const si=[{path:"",component:In}];let mi=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({imports:[V.A,C.Bz.forChild(si),S.o6,T,oi.kb,S.o6,T,R.LU,C.Bz]}),n})()}}]);