"use strict";(self.webpackChunkDOCKETRUN=self.webpackChunkDOCKETRUN||[]).push([[382],{7382:(wt,b,c)=>{c.r(b),c.d(b,{RaViolationsModule:()=>Vt});var f=c(9569),L=c(5861),v=c(529),o=c(9646),x=c(4327),m=c(6948),t=c(4650),C=c(9463),_=c(6895);let T=(()=>{class a{constructor(e,i,n){this.http=e,this.snackbar=i,this.datePipe=n,this.logInterval=0;var s=this.loadConfigFile("assets/config.json");s=JSON.parse(s),this.IP=s.IP,this.logInterval=s.logInterval}loadConfigFile(e){return this.readConfigFile(e,"application/json")}readConfigFile(e,i){var n=new XMLHttpRequest;if(n.open("GET",e,!1),null!=i)return n.overrideMimeType&&n.overrideMimeType(i),n.send(),n.status?n.response:null}dateTransform(e){return this.datePipe.transform(e,"yyyy-MM-dd HH:mm:ss")}LiveRAViolationData(e,i,n,s){"all_departments"===i&&(i=null),"all_cameras"===e&&(e=null);var l={department_name:i,camera_name:e};return n&&s&&(e||i)?this.http.post(this.IP+"/live_data1RA/"+n+"/"+s,l):n||s||!e&&!i?this.http.get(this.IP+"/live_data1RA"):this.http.post(this.IP+"/live_data1RA",l)}DatewiseRAViolations(e,i,n,s,l,d){var g=this.dateTransform(e),u=this.dateTransform(i);return"all_cameras"===d&&(d=null),"all_departments"===l&&(l=null),this.http.post(n&&s&&d&&l?this.IP+"/datewiseRA/"+d+"/"+n+"/"+s:n||s||d?n&&s&&!d?this.IP+"/datewiseRA/"+n+"/"+s:n&&s&&d?this.IP+"/datewiseRA/"+d+"/"+n+"/"+s:n||s||!d||l?this.IP+"/datewiseRA":this.IP+"/datewiseRA/"+d:this.IP+"/datewiseRA",{from_date:g,to_date:u,department_name:null!==l?l:"none"})}CreateRAViolationExcel(e){return this.http.post(this.IP+"/create_violation_excelRA",e)}DownloadViolationExcel(){return this.http.get(this.IP+"/violation_excel_download",{observe:"response",responseType:"arraybuffer"})}GetLatestRAData(e,i){return this.http.get(e?this.IP+"/latest_dataRA/"+e:this.IP+"/latest_dataRA"),this.http.get(i?this.IP+"/latest_dataRA/"+i:this.IP+"/latest_dataRA")}GetRACameraDetails(e,i){return null===e&&null===i?this.http.get(this.IP+"/camera_detailsRA"):this.http.post(this.IP+"/camera_detailsRA",{from_date:e,to_date:i})}GetRADepartmentDetails(e,i){return null===e&&null===i?this.http.get(this.IP+"/department_detailsRA"):this.http.post(this.IP+"/department_detailsRA",{from_date:e,to_date:i})}GetViolationList(){return this.http.get(this.IP+"/violation_type_details")}VerifyViolation(e,i){return this.http.get(this.IP+"/violation_verification/"+e+"/"+i)}notification(e,i){this.snackbar.open(e,i||"",{duration:4e3,panelClass:["error"],horizontalPosition:"center",verticalPosition:"bottom"})}DeleteViolationData(e){return this.http.get(this.IP+"/Deleteviolation/"+e)}}return a.\u0275fac=function(e){return new(e||a)(t.\u0275\u0275inject(v.eN),t.\u0275\u0275inject(C.ux),t.\u0275\u0275inject(_.DatePipe))},a.\u0275prov=t.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var S=c(1305),y=c(2953),h=c(433),P=c(3868),D=c(4153),V=c(5700),O=c(805),w=c(1954),I=c(64),k=c(1968);const F=["app-ra-violations",""];function R(a,r){1&a&&t.\u0275\u0275element(0,"span",59)}function A(a,r){1&a&&t.\u0275\u0275element(0,"fa-icon",60)}function j(a,r){if(1&a){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",56),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(n.getLatestData())}),t.\u0275\u0275template(1,R,1,0,"span",57),t.\u0275\u0275template(2,A,1,0,"fa-icon",58),t.\u0275\u0275text(3,"Latest "),t.\u0275\u0275elementEnd()}if(2&a){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.loaderLatest),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!e.loaderLatest)}}function Y(a,r){1&a&&(t.\u0275\u0275elementStart(0,"span",13),t.\u0275\u0275element(1,"span",61),t.\u0275\u0275text(2,"Live Data "),t.\u0275\u0275elementEnd())}function N(a,r){if(1&a){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",62),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(n.ResetFilters())}),t.\u0275\u0275text(1," \xd7Cancel Filters "),t.\u0275\u0275elementEnd()}}function $(a,r){1&a&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,"Submit"),t.\u0275\u0275elementEnd())}function B(a,r){1&a&&t.\u0275\u0275element(0,"span",63)}function z(a,r){1&a&&t.\u0275\u0275element(0,"fa-icon",64)}function H(a,r){1&a&&t.\u0275\u0275element(0,"span",65)}function G(a,r){1&a&&t.\u0275\u0275element(0,"fa-icon",68)}function Z(a,r){1&a&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1," Live "),t.\u0275\u0275elementEnd())}function J(a,r){1&a&&t.\u0275\u0275element(0,"span",63)}function U(a,r){if(1&a){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",66),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(n.BackToToday())}),t.\u0275\u0275template(1,G,1,0,"fa-icon",67),t.\u0275\u0275template(2,Z,2,0,"span",36),t.\u0275\u0275template(3,J,1,0,"span",37),t.\u0275\u0275elementEnd()}if(2&a){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!e.loader2),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!e.loader2),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.loader2)}}function K(a,r){1&a&&(t.\u0275\u0275elementStart(0,"span",69)(1,"b"),t.\u0275\u0275text(2,"Show:"),t.\u0275\u0275elementEnd()())}function W(a,r){if(1&a){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"select",70),t.\u0275\u0275listener("ngModelChange",function(n){t.\u0275\u0275restoreView(e);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.pageSize=n)})("ngModelChange",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(n.sliceVD())}),t.\u0275\u0275elementStart(1,"option",71),t.\u0275\u0275text(2,"30 items per page"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"option",72),t.\u0275\u0275text(4,"40 items per page"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"option",73),t.\u0275\u0275text(6,"50 items per page"),t.\u0275\u0275elementEnd()()}if(2&a){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngModel",e.pageSize)}}function Q(a,r){1&a&&(t.\u0275\u0275elementStart(0,"div",49)(1,"div")(2,"b"),t.\u0275\u0275text(3,"Is Valid?"),t.\u0275\u0275elementEnd()()())}function X(a,r){if(1&a){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",92),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext().$implicit,s=t.\u0275\u0275nextContext(4);return t.\u0275\u0275resetView(s.imageCarousal(n))}),t.\u0275\u0275text(1," \xa0\xa0 "),t.\u0275\u0275element(2,"fa-icon",93),t.\u0275\u0275text(3," More Images "),t.\u0275\u0275elementEnd()}}function q(a,r){if(1&a&&(t.\u0275\u0275elementStart(0,"span",98)(1,"b"),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd()()),2&a){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(e.roi_name)}}function tt(a,r){if(1&a&&(t.\u0275\u0275elementStart(0,"div")(1,"span",96),t.\u0275\u0275text(2,"ROI Name"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(3,q,3,1,"span",97),t.\u0275\u0275elementEnd()),2&a){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",null==e?null:e.roi_name)}}function et(a,r){if(1&a&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&a){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(e.person)}}function it(a,r){if(1&a&&(t.\u0275\u0275elementStart(0,"span")(1,"span"),t.\u0275\u0275text(2,"Person"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(3,et,2,1,"span",36),t.\u0275\u0275elementEnd()),2&a){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",null==e?null:e.person)}}function nt(a,r){if(1&a&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&a){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(e.car)}}function at(a,r){if(1&a&&(t.\u0275\u0275elementStart(0,"span")(1,"span"),t.\u0275\u0275text(2,"Car"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(3,nt,2,1,"span",36),t.\u0275\u0275elementEnd()),2&a){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",null==e?null:e.car)}}function st(a,r){if(1&a&&(t.\u0275\u0275elementStart(0,"span")(1,"span",96),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"span",98)(4,"b"),t.\u0275\u0275text(5),t.\u0275\u0275elementEnd()()()),2&a){const e=r.$implicit,i=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1("",e," count "),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(i.obj_details[e])}}function ot(a,r){if(1&a&&(t.\u0275\u0275elementStart(0,"div",94)(1,"div"),t.\u0275\u0275template(2,tt,4,1,"div",36),t.\u0275\u0275template(3,it,4,1,"span",36),t.\u0275\u0275template(4,at,4,1,"span",36),t.\u0275\u0275template(5,st,6,2,"span",95),t.\u0275\u0275element(6,"br"),t.\u0275\u0275elementEnd()()),2&a){const e=r.$implicit,i=t.\u0275\u0275nextContext(5);t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",null==e?null:e.roi_name),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.person),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.car),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",i.objectKeys(e.obj_details))}}function lt(a,r){if(1&a){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div")(1,"div",101)(2,"input",102),t.\u0275\u0275listener("change",function(n){t.\u0275\u0275restoreView(e);const s=t.\u0275\u0275nextContext(2).$implicit,l=t.\u0275\u0275nextContext(2).$implicit,d=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(d.VerifyTrueViol(n,s,l.SNo))}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"label",103),t.\u0275\u0275text(4,"Yes "),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(5,"div",104)(6,"input",102),t.\u0275\u0275listener("change",function(n){t.\u0275\u0275restoreView(e);const s=t.\u0275\u0275nextContext(2).$implicit,l=t.\u0275\u0275nextContext(2).$implicit,d=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(d.VerifyFalseViol(n,s,l.SNo))}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(7,"label",105),t.\u0275\u0275text(8,"No "),t.\u0275\u0275elementEnd()()()}if(2&a){const e=t.\u0275\u0275nextContext(2).$implicit,i=t.\u0275\u0275nextContext(2).$implicit,n=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275property("value",0)("defaultValue",!0)("id","yes"+n.String(i.SNo)+n.String(e.id)),t.\u0275\u0275advance(1),t.\u0275\u0275property("for","yes"+n.String(i.SNo)+n.String(e.id)),t.\u0275\u0275advance(3),t.\u0275\u0275property("value",1)("defaultValue",!1)("id","no"+n.String(i.SNo)+n.String(e.id)),t.\u0275\u0275advance(1),t.\u0275\u0275property("for","no"+n.String(i.SNo)+n.String(e.id))}}function rt(a,r){if(1&a){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div")(1,"div",101)(2,"input",106),t.\u0275\u0275listener("change",function(n){t.\u0275\u0275restoreView(e);const s=t.\u0275\u0275nextContext(3).$implicit,l=t.\u0275\u0275nextContext(2).$implicit,d=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(d.VerifyTrueViol(n,s,l.SNo))}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"label",103),t.\u0275\u0275text(4,"Yes "),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(5,"div",104)(6,"input",106),t.\u0275\u0275listener("change",function(n){t.\u0275\u0275restoreView(e);const s=t.\u0275\u0275nextContext(3).$implicit,l=t.\u0275\u0275nextContext(2).$implicit,d=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(d.VerifyFalseViol(n,s,l.SNo))}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(7,"label",105),t.\u0275\u0275text(8,"No "),t.\u0275\u0275elementEnd()()()}if(2&a){const e=t.\u0275\u0275nextContext(3).$implicit,i=t.\u0275\u0275nextContext(2).$implicit,n=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275property("value",0)("defaultValue",!0)("id","yes"+n.String(i.SNo)+n.String(e.id))("defaultChecked",!0===e.violation_status),t.\u0275\u0275advance(1),t.\u0275\u0275property("for","yes"+n.String(i.SNo)+n.String(e.id)),t.\u0275\u0275advance(3),t.\u0275\u0275property("value",1)("defaultValue",!1)("id","no"+n.String(i.SNo)+n.String(e.id))("defaultChecked",!1===e.violation_status),t.\u0275\u0275advance(1),t.\u0275\u0275property("for","no"+n.String(i.SNo)+n.String(e.id))}}function dt(a,r){if(1&a&&t.\u0275\u0275template(0,rt,9,10,"div",36),2&a){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275property("ngIf",e.violation_verificaton_status)}}function ct(a,r){if(1&a&&(t.\u0275\u0275elementStart(0,"div",99),t.\u0275\u0275template(1,lt,9,8,"div",51),t.\u0275\u0275template(2,dt,1,1,"ng-template",null,100,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd()),2&a){const e=t.\u0275\u0275reference(3),i=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!i.violation_verificaton_status)("ngIfElse",e)}}function mt(a,r){if(1&a){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",78)(1,"div",79),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"div",80)(4,"div",81)(5,"img",82),t.\u0275\u0275listener("click",function(){const s=t.\u0275\u0275restoreView(e).$implicit,l=t.\u0275\u0275nextContext(4);return t.\u0275\u0275resetView(l.imageCarousal(s))}),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(6,"br"),t.\u0275\u0275elementStart(7,"div",81),t.\u0275\u0275template(8,X,4,0,"button",83),t.\u0275\u0275elementStart(9,"button",84),t.\u0275\u0275listener("click",function(){const s=t.\u0275\u0275restoreView(e).$implicit,l=t.\u0275\u0275nextContext(4);return t.\u0275\u0275resetView(l.downloadImage(l.API+"/image/"+l.analyticsType+"/"+s.imagename))}),t.\u0275\u0275text(10," Download Image "),t.\u0275\u0275element(11,"fa-icon",64),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(12,"div",80)(13,"div",85)(14,"ng-scrollbar",86,87)(16,"div"),t.\u0275\u0275template(17,ot,7,4,"div",88),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(18,"div",80),t.\u0275\u0275text(19),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(20,"div",80),t.\u0275\u0275text(21),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(22,"div",80),t.\u0275\u0275text(23),t.\u0275\u0275pipe(24,"dateFormater"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(25,"div",80)(26,"div",81),t.\u0275\u0275template(27,ct,4,2,"div",89),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(28,"div",80)(29,"div")(30,"div",90),t.\u0275\u0275listener("click",function(){const s=t.\u0275\u0275restoreView(e).$implicit,l=t.\u0275\u0275nextContext(4),d=t.\u0275\u0275reference(96);return t.\u0275\u0275resetView(l.IsDeleteData(d,s))}),t.\u0275\u0275element(31,"fa-icon",91),t.\u0275\u0275elementEnd()()()()}if(2&a){const e=r.$implicit,i=t.\u0275\u0275nextContext(2).$implicit,n=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate2(" ",i.SNo,".",e.id," "),t.\u0275\u0275advance(3),t.\u0275\u0275property("src",n.API+"/image/"+n.analyticsType+"/"+e.imagename[0],t.\u0275\u0275sanitizeUrl),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",e.imagename.length<1),t.\u0275\u0275advance(6),t.\u0275\u0275property("autoHeightDisabled",!0)("disabled",!1),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngForOf",null==e||null==e.analytics_data?null:e.analytics_data.ROI_details),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",e.department?e.department:"null"," "),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",e.camera_name?e.camera_name:"null"," "),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(24,11,e.timestamp)," "),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",n.isEditTable)}}function pt(a,r){if(1&a&&(t.\u0275\u0275elementStart(0,"div")(1,"p-carousel",76),t.\u0275\u0275template(2,mt,32,13,"ng-template",77),t.\u0275\u0275elementEnd()()),2&a){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("value",e.data)("id",e.SNo)}}function ht(a,r){if(1&a&&(t.\u0275\u0275elementStart(0,"div",75),t.\u0275\u0275template(1,pt,3,2,"div",36),t.\u0275\u0275elementEnd()),2&a){const e=r.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==e?null:e.data)}}function gt(a,r){if(1&a&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,ht,2,1,"div",74),t.\u0275\u0275pipe(2,"async"),t.\u0275\u0275elementContainerEnd()),2&a){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",t.\u0275\u0275pipeBind1(2,2,e.violData))("ngForTrackBy",e.trackByFn)}}function _t(a,r){1&a&&(t.\u0275\u0275elementStart(0,"div",110)(1,"h4"),t.\u0275\u0275text(2,"No Violations Detected."),t.\u0275\u0275elementEnd()())}function ut(a,r){1&a&&(t.\u0275\u0275elementStart(0,"div",110),t.\u0275\u0275element(1,"span",111),t.\u0275\u0275text(2," Loading Violation Details... "),t.\u0275\u0275elementEnd())}function ft(a,r){1&a&&(t.\u0275\u0275elementStart(0,"div",80)(1,"h4"),t.\u0275\u0275text(2,"Loading..."),t.\u0275\u0275elementEnd()())}function vt(a,r){1&a&&(t.\u0275\u0275elementStart(0,"div",110),t.\u0275\u0275text(1," Error While Fetching the Data. "),t.\u0275\u0275elementEnd())}function bt(a,r){if(1&a&&(t.\u0275\u0275elementStart(0,"div",107),t.\u0275\u0275template(1,_t,3,0,"div",108),t.\u0275\u0275template(2,ut,3,0,"div",108),t.\u0275\u0275template(3,ft,3,0,"div",109),t.\u0275\u0275template(4,vt,2,0,"div",108),t.\u0275\u0275elementEnd()),2&a){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","success"===e.dataFetchStatus),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","init"===e.dataFetchStatus),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","Loading"===e.dataFetchStatus),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","Error"===e.dataFetchStatus)}}function xt(a,r){if(1&a){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",112)(1,"div",113)(2,"div",114)(3,"div",115)(4,"div",116)(5,"i",117),t.\u0275\u0275text(6,"\ue5cd"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(7,"h4",118),t.\u0275\u0275text(8,"Are you sure?"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(9,"div",112)(10,"p"),t.\u0275\u0275text(11," Do you really want to delete this violation Details? This process cannot be undone. "),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(12,"div",119)(13,"button",120),t.\u0275\u0275listener("click",function(){const s=t.\u0275\u0275restoreView(e).$implicit;return t.\u0275\u0275resetView(s.close("Cross click"))}),t.\u0275\u0275text(14," Cancel "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(15,"button",121),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const n=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(n.DeleteViolationData())}),t.\u0275\u0275text(16," Delete "),t.\u0275\u0275elementEnd()()()()()}}const M=function(){return{width:"inherit"}},E=function(){return{standalone:!0}};let Ct=(()=>{class a{constructor(e,i,n,s,l,d,g,u,p){this.http=e,this.webServer=i,this.datepipe=n,this._lightbox=s,this._lightBoxConfig=l,this.router=d,this.snackbar=g,this.modalService=u,this.Router=p,this.data=[],this.String=String,this.isalert=!1,this.dataFetchStatus="init",this.tempdata=[],this.page=1,this.pageSize=30,this.cameraDetails=[],this.audioOff=!1,this.alertmessage="",this.total=(0,o.of)(0),this.violData=(0,o.of)([]),this.loading=!1,this.excelLoader=!1,this.violLength=0,this.show1=30,this.show2=40,this.show3=50,this.fromDate=new Date,this.toDate=new Date,this.isdatewise=!1,this.loader2=!1,this.Excel=!1,this.isExcel=!1,this.excelLoad=!1,this.alert=!0,this.imageData=[],this.prevLiveCount=0,this.objectKeys=Object.keys,this.isdate=!1,this.selectedCameraId=null,this.selectedDepartment=null,this.dropdownList=(0,o.of)([]),this.dropdownList1=(0,o.of)([]),this.Images=[],this.selectedItems=null,this.selectedItems1=null,this.analyticsType="RA",this.violationTypeList=(0,o.of)([{key:"0",label:"All Violations",icon:"pi",data:"all_violations"}]),this.loaderLatest=!1,this.isLatest=!1,this.latest=!1,this.isEditTable=!0,this.violationsList=[],this.ranges={Today:[(0,m.Z)().hour(0).minute(0).second(0),(0,m.Z)()],Yesterday:[(0,m.Z)().subtract(1,"days").hour(0).minute(0).second(0),(0,m.Z)().subtract(1,"days")],"Last 7 Days":[(0,m.Z)().subtract(6,"days").hour(0).minute(0).second(0),(0,m.Z)()],"Last 30 Days":[(0,m.Z)().subtract(29,"days").hour(0).minute(0).second(0),(0,m.Z)()],"This Month":[(0,m.Z)().startOf("month").hour(0).minute(0).second(0),(0,m.Z)().endOf("month")],"Last Month":[(0,m.Z)().subtract(1,"month").startOf("month").hour(0).minute(0).second(0),(0,m.Z)().subtract(1,"month").endOf("month")]},this.selectedMoments=null,this.delay=this.webServer.logInterval,this.API=i.IP,this.ExcelRange=0,this.getCameraList(),this.getDepartmentList(),this.getViolationTypes(),this._lightBoxConfig.showDownloadButton=!1,this._lightBoxConfig.showZoom=!0,this._lightBoxConfig.showImageNumberLabel=!0,this._lightBoxConfig.fitImageInViewPort=!0,this._lightBoxConfig.disableScrolling=!1,this._lightBoxConfig.centerVertically=!1}ngOnInit(){this.violLength=Number(localStorage.getItem("updatedLen")),(!this.latest||!this.isLatest)&&this.webServer.LiveRAViolationData().subscribe(e=>{e.success?(this.tempdata=e.message,this.total=(0,o.of)(this.tempdata.length),this.violData=(0,o.of)(e.message),this.sliceVD(),this.prevLiveCount=e.now_live_count,this.imageData=e.message):(this.dataFetchStatus="success",this.notification(e.message))},e=>{this.dataFetchStatus="Error",this.notification("Error While fetching the data")})}ngAfterViewInit(){this.dataread()}openDatePicker(e){document.getElementById("dateInput").click()}dataread(){this.interval=setInterval(()=>{this.isdate||(this.Subsciption=this.webServer.LiveRAViolationData(this.selectedCameraId?this.selectedCameraId.data:null,this.selectedDepartment?this.selectedDepartment.data:null).subscribe(e=>{if(this.dataFetchStatus="success",e.success&&!this.isdate&&!this.latest){var i={...e},n=[...e.message];i.now_live_count-this.prevLiveCount>0&&(this.prevLiveCount=i.now_live_count,this.imageData=n,this.tempdata=n,this.loader2=!1,this.isdatewise=!1,this.sliceVD())}},e=>{this.dataFetchStatus="Error"}))},this.delay)}notification(e,i){this.snackbar.open(e,i||"",{duration:4e3,panelClass:["error"],horizontalPosition:"end",verticalPosition:"bottom"})}sliceVD(){if(this.isdate||(this.tempdata.forEach((i,n)=>{this.tempdata[n].data=i.data.map((s,l)=>({...s,id:l+1}))}),this.total=(0,o.of)(this.tempdata.slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize).length),this.total=(0,o.of)(this.tempdata.length),this.violData=(0,o.of)(this.tempdata.map(i=>({...i})).slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize))),this.isdate){var e=document.getElementById("dataTable");e?.classList.add("loading"),this.webServer.DatewiseRAViolations(this.fromDate,this.toDate,this.page,this.pageSize,this.selectedDepartment?this.selectedDepartment.data:null,this.selectedCameraId?this.selectedCameraId.data:null).subscribe(i=>{this.dataFetchStatus="success",i.success&&(e?.classList.remove("loading"),0===i.message.length&&this.notification("No violations found"),this.tempdata=i.message,this.tempdata.forEach((n,s)=>{this.tempdata[s].data=n.data.map((l,d)=>({...l,id:d+1}))}),this.violData=(0,o.of)(this.tempdata))})}}trackByFn(e,i){return i.SNo}Submit(){this.dataFetchStatus="init",this.isLatest=!1,this.violData=(0,o.of)([]),this.total=(0,o.of)(0),this.page=1,this.Images=[],this.fromDate=this.selectedMoments.startDate.format("YYYY-MM-DD HH:mm:ss"),this.toDate=this.selectedMoments.endDate.format("YYYY-MM-DD HH:mm:ss"),this.getCameraList(),this.getDepartmentList(),this.Subsciption&&this.Subsciption.unsubscribe(),this.pageSize=30,this.page=1,this.isdate=!0,this.loading=!0,this.webServer.DatewiseRAViolations(this.fromDate,this.toDate,null,null,this.selectedDepartment?this.selectedDepartment.data:null,this.selectedCameraId?this.selectedCameraId.data:null).subscribe(e=>{e.success?(0==e.message.length&&(this.tempdata=[],this.violData=(0,o.of)([]),this.loading=!1,this.loader2=!1,this.isdatewise=!0,this.total=(0,o.of)(0),this.notification("No violations found for entered date and time")),e.message.length>0&&(this.imageData=e.message,this.total=(0,o.of)(e.message.length),this.webServer.DatewiseRAViolations(this.fromDate,this.toDate,this.page,this.pageSize,this.selectedDepartment?this.selectedDepartment.data:null,this.selectedCameraId?this.selectedCameraId.data:null).subscribe(i=>{this.loading=!1,this.dataFetchStatus="success",i.success?0===i.message.length?(this.dataFetchStatus="success",this.notification("No violations found"),this.violData=(0,o.of)([]),this.tempdata=[],this.isdatewise=!0,this.loading=!1):(this.tempdata=i.message,this.isdatewise=!0,this.sliceVD(),this.loading=!1):(this.loading=!1,this.violData=(0,o.of)([]),this.total=(0,o.of)(0),this.dataFetchStatus="success",this.notification(i.message))},i=>{this.loading=!1,this.dataFetchStatus="Error",this.notification("Error while fetching the data")}))):(this.tempdata=[],this.violData=(0,o.of)([]),this.loading=!1,this.isdatewise=!0,this.total=(0,o.of)(0),this.dataFetchStatus="success",this.notification("No violations found"),this.loading=!1)},e=>{this.loading=!1,this.dataFetchStatus="Error"})}BackToToday(){this.selectedMoments=null,this.selectedItems=null,this.selectedCameraId=null,this.selectedDepartment=null,this.selectedItems1=null,this.page=1,this.Images=[],this.latest=!1,this.tempdata=[],this.total=(0,o.of)(0);var e=document.getElementById("dataTable");e?.classList.add("loading"),this.loader2=!0,this.isdate=!1,this.tempdata=[],this.total=(0,o.of)(0),this.webServer.LiveRAViolationData().subscribe(i=>{if(i){this.isLatest=!1,e?.classList.remove("loading"),this.imageData=i.message,this.total=(0,o.of)(i.message.length),this.tempdata=i.message,this.violData=(0,o.of)(i.message),i.success||(this.notification(i.message),this.dataFetchStatus="success");var n=i.message;this.tempdata=i.success?i.message:[],this.sliceVD(),this.loader2=!1,this.isdatewise=!1,localStorage.setItem("updatedLen",JSON.stringify(n.length)),Number(localStorage.getItem("updatedLen"))}},i=>{this.loader2=!1}),this.dataread()}dateTransform(e){const i=new Date(e.year,e.month-1,e.day);return this.datepipe.transform(i,"dd/MM/yyyy")}ResetFilters(){this.selectedMoments=null,this.selectedDepartment=null,this.selectedCameraId=null,this.isdatewise=!1,this.dataFetchStatus="Loading",this.BackToToday()}onCameraIdSelect(e){this.dataFetchStatus="init",this.page=1,this.pageSize=30,this.total=(0,o.of)(0),this.violData=(0,o.of)([]),this.isdatewise||(this.page=1),this.isdatewise?this.Submit():this.webServer.LiveRAViolationData(this.selectedCameraId?this.selectedCameraId.data:null,this.selectedDepartment?this.selectedDepartment.data:null).subscribe(i=>{i&&(this.dataFetchStatus="success",this.isLatest=!1,i.success||(this.notification(i.message),this.dataFetchStatus="success",this.imageData=i.message,this.total=(0,o.of)(i.message.length),this.tempdata=i.message,this.violData=(0,o.of)(i.message)),this.tempdata=i.success?i.message:[],this.sliceVD(),this.loader2=!1,this.isdatewise=!1)},i=>{this.dataFetchStatus="Error",this.loader2=!1})}onDepartmentIdSelect(e){this.dataFetchStatus="init",this.page=1,this.pageSize=30,this.total=(0,o.of)(0),this.violData=(0,o.of)([]),this.isdatewise||(this.page=1),this.isdatewise?this.Submit():this.webServer.LiveRAViolationData(this.selectedCameraId?this.selectedCameraId.data:null,this.selectedDepartment?this.selectedDepartment.data:null).subscribe(i=>{i&&(this.dataFetchStatus="success",this.isLatest=!1,i.success||(this.notification(i.message),this.dataFetchStatus="success",this.imageData=i.message,this.total=(0,o.of)(i.message.length),this.tempdata=i.message,this.violData=(0,o.of)(i.message)),this.tempdata=i.success?i.message:[],this.sliceVD(),this.loader2=!1,this.isdatewise=!1)},i=>{this.dataFetchStatus="Error",this.loader2=!1})}RefreshViolations(){this.total=(0,o.of)(0),this.page=1,this.violData=(0,o.of)([]),this.isdatewise=!1,this.isdate=!1,this.isLatest=!1,this.latest=!1,this.dataFetchStatus="init",this.webServer.LiveRAViolationData().subscribe(e=>{this.dataFetchStatus="success",e.success?(this.tempdata=e.message,this.total=(0,o.of)(this.tempdata.length),this.violData=(0,o.of)(e.message),this.sliceVD(),this.prevLiveCount=e.now_live_count,this.imageData=e.message):this.notification(e.message)},e=>{this.dataFetchStatus="Error",this.notification("Error While fetching the data")})}imageCarousal(e){this.Images=[],e.imagename.forEach((i,n)=>{this.Images[n]={src:this.API+"/image/"+this.analyticsType+"/"+i,thumb:this.API+"/image/"+this.analyticsType+"/"+i,caption:i}}),this.open(0)}open(e){this._lightbox.open(this.Images,e)}close(){this._lightbox.close()}submitForm(){var e=this;return(0,L.Z)(function*(){e.isalert=!1,e.excelLoad=!0,e.isExcel=!1;var i={from_date:e.selectedMoments.startDate.format("YYYY-MM-DD HH:mm:ss"),to_date:e.selectedMoments.endDate.format("YYYY-MM-DD HH:mm:ss"),cameraname:e.selectedCameraId?"all_cameras"==e.selectedCameraId.data?null:e.selectedCameraId.data:null,department:e.selectedDepartment?"all_departments"==e.selectedDepartment.data?null:e.selectedDepartment.data:null};e.webServer.CreateRAViolationExcel(i).subscribe(n=>{n.success?e.webServer.DownloadViolationExcel().subscribe(s=>{const d=new Blob([s.body],{type:".xlsx"});var g="violation report "+e.datepipe.transform(new Date,"YYYY_MM_dd_h_mm_ss")+".xlsx";new File([d],g,{type:".xlsx"}),(0,x.saveAs)(d,g),e.excelLoad=!1,e.isExcel=!0},s=>{e.excelLoader=!1}):(e.notification(n.message,"Retry"),e.excelLoad=!1,e.isExcel=!1,e.alertmessage=n.message,e.isalert=!0)},n=>{e.excelLoad=!1,e.isExcel=!1,e.alertmessage="Error while creating excel",e.notification(e.alertmessage,"Retry"),e.isalert=!0})})()}GetViolationLength(e,i,n,s){var l;return this.excelLoader=!0,this.webServer.DatewiseRAViolations(e,i,null,null,s||null,n||null).subscribe(d=>{d.success&&(l=d.message.length)}),l}settings(){this.router.navigate(["app/Settings"])}alertSound(){let e=new Audio;e.src="../../../assets/audio/alert.mp3",e.load(),e.play()}volumeToggle(){this.alert?(this.audioOff=!this.audioOff,localStorage.setItem("audioOff",this.audioOff?"true":"false")):(this.audioOff=!0,localStorage.setItem("audioOff","true"))}alertToggle(){this.alert=!this.alert,localStorage.setItem("alert",this.alert?"true":"false"),this.alert||(this.audioOff=!0,localStorage.setItem("alert","false"),localStorage.setItem("audioOff","true"))}getLatestData(){this.loader2=!1,this.loaderLatest=!0,this.latest=!0;var e=document.getElementById("dataTable");e?.classList.add("loading"),this.webServer.GetLatestRAData(this.selectedCameraId?this.selectedCameraId.data:null,this.selectedDepartment?this.selectedDepartment.data:null).subscribe(i=>{i.success?(this.isLatest=!0,e?.classList.remove("loading"),this.loaderLatest=!1,this.imageData=i.message,this.tempdata=i.message,this.tempdata=i.message,this.total=(0,o.of)(i.message.length),this.violData=(0,o.of)(i.message),this.sliceVD()):(this.violData=(0,o.of)([]),this.total=(0,o.of)(0),this.tempdata=[],this.loaderLatest=!1,e?.classList.remove("loading"),this.notification(i.message))},i=>{this.loaderLatest=!1,e?.classList.remove("loading"),this.notification("Error While fetching the data","Retry")})}downloadImage(e){const i=e,s=(new v.WM({responseType:"blob"}),i.substr(i.lastIndexOf("/")+1));this.http.get(i,{responseType:"blob"}).subscribe(l=>{(0,x.saveAs)(l,s)},l=>{})}getCameraList(){var e=[],i=[];console.log(this.fromDate,"this date is from the raviolations"),console.log(this.selectedMoments,"this is from the raviolations"),e[0]={key:"0",label:"All Cameras",data:"all_cameras"},this.webServer.GetRACameraDetails(null!==this.selectedMoments?this.selectedMoments.startDate.format("YYYY-MM-DD HH:mm:ss"):null,null!==this.selectedMoments?this.selectedMoments.endDate.format("YYYY-MM-DD HH:mm:ss"):null).subscribe(n=>{!0===n.success&&(n.message.forEach((s,l)=>{i.push({cameraid:l,cameraname:s})}),(i=i.filter((s,l,d)=>l===d.indexOf(s))).forEach((s,l)=>{var d;d={key:(l+1).toString(),label:s.cameraname,data:s.cameraname},e.push(d)}),this.dropdownList=(0,o.of)(e))})}getDepartmentList(){var e=[],i=[];e[0]={key:"0",label:"All Departments",data:"all_departments"},this.webServer.GetRADepartmentDetails(null!==this.selectedMoments?this.selectedMoments.startDate.format("YYYY-MM-DD HH:mm:ss"):null,null!==this.selectedMoments?this.selectedMoments.endDate.format("YYYY-MM-DD HH:mm:ss"):null).subscribe(n=>{!0===n.success&&(n.message.forEach((s,l)=>{i.push({departmentid:l,department:s})}),(i=i.filter((s,l,d)=>l===d.indexOf(s))).forEach((s,l)=>{var d;d={key:(l+1).toString(),label:s.department,data:s.department},e.push(d)}),this.dropdownList1=(0,o.of)(e))})}getViolationTypes(){var i=[];this.violationsList[0]={key:"0",label:"All Violations",data:"all_violations"},this.webServer.GetViolationList().subscribe(n=>{n.success&&(n.message.forEach(s=>{i.push(s)}),i.forEach((s,l)=>{var d;d={key:(l+1).toString(),icon:"pi",label:s,data:s},this.violationsList.push(d)}),this.violationTypeList=(0,o.of)(this.violationsList))})}SelectViol(e,i){this.editViol=e,this.modalService.open(i,{size:"xl",centered:!0})}VerifyTrueViol(e,i,n){this.editViol=i,console.log(i),console.log(n),this.webServer.VerifyViolation(this.editViol._id.$oid,!0).subscribe(s=>{this.webServer.notification(s.message),s.success&&(this.modalService.dismissAll(),this.isdatewise&&this.sliceVD()),this.isdatewise||this.GetViolationData()},s=>{this.webServer.notification("Error while the  Process","Retry")})}VerifyFalseViol(e,i,n){console.log(n),this.editViol=i,this.webServer.VerifyViolation(this.editViol._id.$oid,!1).subscribe(s=>{this.webServer.notification(s.message),s.success&&(this.modalService.dismissAll(),this.isdatewise&&this.sliceVD()),this.isdatewise||this.GetViolationData()},s=>{this.webServer.notification("Error while the  Process","Retry")})}GetViolationData(){var e=document.getElementById("content");e?.classList.add("loading"),(!this.latest||!this.isLatest)&&this.webServer.LiveRAViolationData(this.selectedCameraId?this.selectedCameraId.data:null,this.selectedDepartment?this.selectedDepartment.data:null).subscribe(i=>{i.success?(e?.classList.remove("loading"),this.imageData=i.message,this.tempdata=i.message,Number(localStorage.setItem("updatedLen",i.message.length?i.message.length:0)),this.tempdata=i.message,this.total=(0,o.of)(this.tempdata.length),this.violData=(0,o.of)(i.message),this.sliceVD()):(e?.classList.remove("loading"),this.notification(i.message))},i=>{e?.classList.remove("loading"),this.notification("Error While fetching the data")})}IsDeleteData(e,i){this.selectedViolation=i,this.modalService.open(e,{centered:!0})}DeleteViolationData(){this.webServer.DeleteViolationData(this.selectedViolation._id.$oid).subscribe(e=>{e.success?(this.modalService.dismissAll(),this.webServer.notification(e.message),this.RefreshViolationData()):(this.modalService.dismissAll(),this.webServer.notification(e.message,"Retry"))},e=>{this.webServer.notification("Error while the process","Retry")})}StopLiveFeed(){clearInterval(this.interval)}StartLiveFeed(){this.dataread()}RefreshViolationData(){if(this.isdatewise||this.isLatest)if(this.isdatewise&&!this.isLatest){var e;(e=document.getElementById("dataTable"))?.classList.add("loading"),this.pageSize=30,this.page=1,this.webServer.DatewiseRAViolations(this.fromDate,this.toDate,null,null,this.selectedDepartment?this.selectedDepartment.data:null,this.selectedCameraId?this.selectedCameraId.data:null).subscribe(n=>{n.success?(0==n.message.length&&(this.tempdata=[],this.violData=(0,o.of)([]),this.total=(0,o.of)(0),e?.classList.remove("loading"),this.notification("No violations found for entered date and time")),n.message.length>0&&(this.imageData=n.message,this.total=(0,o.of)(n.message.length),this.webServer.DatewiseRAViolations(this.fromDate,this.toDate,this.page,this.pageSize,this.selectedDepartment?this.selectedDepartment.data:null,this.selectedCameraId?this.selectedCameraId.data:null).subscribe(s=>{s.success&&(e?.classList.remove("loading"),0===s.message.length?(this.dataFetchStatus="success",this.notification("No violations found"),this.violData=(0,o.of)([])):(this.dataFetchStatus="success",this.tempdata=s.message,this.violData=(0,o.of)(this.tempdata),this.sliceVD()))},s=>{this.dataFetchStatus="Error",this.notification("Error while fetching the data")}))):(this.tempdata=[],this.violData=(0,o.of)([]),this.total=(0,o.of)(0),this.dataFetchStatus="success",e?.classList.remove("loading"),e?.classList.remove("loading"),this.notification("No violations found"))},n=>{})}else(this.isLatest||this.latest)&&this.getLatestData();else(e=document.getElementById("dataTable"))?.classList.add("loading"),this.webServer.LiveRAViolationData(this.selectedCameraId?this.selectedCameraId.data:null,this.selectedDepartment?this.selectedDepartment.data:null).subscribe(i=>{this.latest||(e.classList.remove("loading"),!0===i.success&&(this.imageData=i.message,this.tempdata=i.message,this.total=(0,o.of)(i.message),this.violData=(0,o.of)(i.message),this.sliceVD(),this.tempdata.length>0&&(this.Excel=!0),this.sliceVD()))},i=>{e.classList.remove("loading")})}ngOnDestroy(){this.modalService.dismissAll(),clearInterval(this.interval),this.isalert=!1}onChangeDetection(e){}}return a.\u0275fac=function(e){return new(e||a)(t.\u0275\u0275directiveInject(v.eN),t.\u0275\u0275directiveInject(T),t.\u0275\u0275directiveInject(_.DatePipe),t.\u0275\u0275directiveInject(S.ey),t.\u0275\u0275directiveInject(S.xm),t.\u0275\u0275directiveInject(f.F0),t.\u0275\u0275directiveInject(C.ux),t.\u0275\u0275directiveInject(y.FF),t.\u0275\u0275directiveInject(f.F0))},a.\u0275cmp=t.\u0275\u0275defineComponent({type:a,selectors:[["","app-ra-violations",""]],attrs:F,decls:97,vars:46,consts:[["id","content",1,"container-fluid","dashboard-content"],[1,"mb-3"],[1,""],[1,"sub-header","h4"],[1,"row","me-3"],[1,"col-12"],["id","data-card",1,"card"],[1,"form-group"],["class","btn default me-2 text-white float-start",3,"click",4,"ngIf"],[1,"btn","default-outline",3,"click"],["icon","rotate",1,"me-1"],[1,"float-end","ms-2","me-2"],["class","float-end",4,"ngIf"],[1,"float-end"],[1,"row","border","rounded","m-2"],[1,"row","ms-3"],[1,"d-flex","justify-content-start","align-items-center","p-2","ms-3"],[1,"me-3"],[1,"container","p-3"],["icon","filter"],[1,"col-xl-10","col-lg-12","col-md-12","col-xs-12","col-sm-12"],[1,"row","d-flex","align-items-center","justify-content-start"],[1,"col-xl-2","col-lg-2","col-md-4","col-xs-12","col-sm-12"],[1,"datePickerContainer",3,"click"],[1,"w-100"],["type","text","ngxDaterangepickerMd","","placeholder","Select Date","required","","id","dateInput","autocomplete","off",1,"form-control",3,"showCustomRangeLabel","ranges","timePicker","ngModel","datesUpdated","ngModelChange"],["datepicker",""],[1,"input-group-append"],["type","button",1,"ngx-daterangepicker-action","btn","default"],["icon","calendar",1,"ngx-daterangepicker-action",3,"click"],["id","filter",1,"col-xl-2","col-lg-2","col-md-4","col-xs-12","col-sm-12"],["placeholder","Select Department",1,"w-100","d-flex",3,"containerStyleClass","ngModel","ngModelOptions","options","ngModelChange","onNodeSelect"],["placeholder","Select Camera",1,"w-100","d-flex",3,"containerStyleClass","ngModel","ngModelOptions","options","ngModelChange","onNodeSelect"],[1,"col-xl-6","col-sm-12","col-lg-12","col-xs-12","col-md-12","d-flex","align-items-center"],["class","btn default-outline ms-3 me-3",3,"click",4,"ngIf"],[1,"btn","default","text-white","me-3","ms-1",2,"width","80px",3,"disabled","click"],[4,"ngIf"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],["type","submit",1,"btn","default","text-white","me-3",3,"disabled","click"],["icon","download","class","ms-1 me-1","style","cursor: pointer",4,"ngIf"],["class","spinner-border spinner-border-sm me-1","role","status","aria-hidden","true",4,"ngIf"],["class","btn default text-white","style","width: 100px",3,"click",4,"ngIf"],[1,"justify-content-end","me-3"],["class","mr-2",4,"ngIf"],["class","custom-select col-2","style","width: auto",3,"ngModel","ngModelChange",4,"ngIf"],["id","dataTable"],[1,"data-container",2,"width","100%","overflow","auto"],[1,"header",2,"overflow","auto"],["scope","col",1,"d-flex","align-items-center","justify-centent-center"],["scope","col",1,"d-flex","justify-content-center","align-items-center"],["class","d-flex justify-content-center align-items-center","scope","col",4,"ngIf"],[4,"ngIf","ngIfElse"],["noData",""],[1,"d-flex","mx-auto","justify-content-center","p-1"],[2,"width","95vw","overflow-x","auto",3,"collectionSize","page","pageSize","pageChange"],["deleteModal",""],[1,"btn","default","me-2","text-white","float-start",3,"click"],["class","spinner-border spinner-border-sm me-2 ms-2","role","status","aria-hidden","true",4,"ngIf"],["icon","filter","class","ms-1 me-2 text-white","style","cursor: pointer",4,"ngIf"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm","me-2","ms-2"],["icon","filter",1,"ms-1","me-2","text-white",2,"cursor","pointer"],["role","status","aria-hidden","true",1,"spinner-grow","spinner-grow-sm","me-2","text-danger"],[1,"btn","default-outline","ms-3","me-3",3,"click"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],["icon","download",1,"ms-1","me-1",2,"cursor","pointer"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm","me-1"],[1,"btn","default","text-white",2,"width","100px",3,"click"],["icon","chart-area","class","text-white me-2",4,"ngIf"],["icon","chart-area",1,"text-white","me-2"],[1,"mr-2"],[1,"custom-select","col-2",2,"width","auto",3,"ngModel","ngModelChange"],["ngValue","30"],["ngValue","40"],["ngValue","50"],["style","text-align: center",4,"ngFor","ngForOf","ngForTrackBy"],[2,"text-align","center"],[3,"value","id"],["pTemplate","d"],[1,"data-wrapper","p-2"],[1,"column-flex",2,"padding-left","0.5rem"],[1,"d-flex","justify-content-center","align-items-center"],[1,"column-flex"],["loading","lazy",1,"image",3,"src","click"],["class","btn btn-sm mt-2",3,"click",4,"ngIf"],[1,"btn","btn-sm","default","text-white","mt-2",3,"click"],[1,"violation_data_container"],["track","vertical","pointerEventsMethod","scrollbar",2,"height","8rem !important",3,"autoHeightDisabled","disabled"],["scrollable",""],["class","border-bottom",4,"ngFor","ngForOf"],["id","verify","style","width: 5rem","class","d-flex justify-content-center align-items-center",4,"ngIf"],[1,"btn",3,"click"],["icon","trash",1,"text-danger"],[1,"btn","btn-sm","mt-2",3,"click"],["icon","images",1,"mr-1"],[1,"border-bottom"],[4,"ngFor","ngForOf"],[1,"text-muted"],["class","ms-2",4,"ngIf"],[1,"ms-2"],["id","verify",1,"d-flex","justify-content-center","align-items-center",2,"width","5rem"],["verified",""],["id","right",1,""],["type","radio",1,"",3,"value","defaultValue","id","change"],[1,"form-check-label","text-success",3,"for"],["id","wrong",1,""],[1,"form-check-label","text-danger",3,"for"],["type","radio",1,"",3,"value","defaultValue","id","defaultChecked","change"],["id","data-card",1,"row","card","card-body"],["class","text-muted d-flex justify-content-center align-items-center",4,"ngIf"],["class","d-flex justify-content-center align-items-center",4,"ngIf"],[1,"text-muted","d-flex","justify-content-center","align-items-center"],["role","status",1,"spinner-border","spinner-border-sm","me-2","text-prime"],[1,"modal-body"],[1,"modal-confirm"],[1,"modal-content"],[1,"modal-header","flex-column"],[1,"icon-box"],[1,"material-icons"],[1,"modal-title","w-100"],[1,"modal-footer","justify-content-center"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","danger",3,"click"]],template:function(e,i){if(1&e&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),t.\u0275\u0275text(4,"Danger Zone Violations"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",2)(9,"div",7)(10,"div",2),t.\u0275\u0275template(11,j,4,2,"button",8),t.\u0275\u0275elementStart(12,"button",9),t.\u0275\u0275listener("click",function(){return i.RefreshViolations()}),t.\u0275\u0275element(13,"fa-icon",10),t.\u0275\u0275text(14,"Refresh Violations "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(15,"span",11),t.\u0275\u0275template(16,Y,3,0,"span",12),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(17,"span",13),t.\u0275\u0275elementEnd()()()()()(),t.\u0275\u0275elementStart(18,"div",14)(19,"div",5)(20,"div",6)(21,"div",15)(22,"div",16)(23,"div",17)(24,"div",18),t.\u0275\u0275element(25,"fa-icon",19),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(26,"div",20)(27,"div",21)(28,"span",22)(29,"div",23),t.\u0275\u0275listener("click",function(s){return i.openDatePicker(s)}),t.\u0275\u0275elementStart(30,"div",24)(31,"input",25,26),t.\u0275\u0275listener("datesUpdated",function(){return i.Submit()})("ngModelChange",function(s){return i.selectedMoments=s}),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(33,"div",27)(34,"button",28)(35,"fa-icon",29),t.\u0275\u0275listener("click",function(s){return i.openDatePicker(s)}),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(36,"div",30)(37,"p-treeSelect",31),t.\u0275\u0275listener("ngModelChange",function(s){return i.selectedDepartment=s})("onNodeSelect",function(s){return i.onDepartmentIdSelect(s)}),t.\u0275\u0275pipe(38,"async"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(39,"div",30)(40,"p-treeSelect",32),t.\u0275\u0275listener("ngModelChange",function(s){return i.selectedCameraId=s})("onNodeSelect",function(s){return i.onCameraIdSelect(s)}),t.\u0275\u0275pipe(41,"async"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(42,"div",33),t.\u0275\u0275template(43,N,2,0,"button",34),t.\u0275\u0275elementStart(44,"button",35),t.\u0275\u0275listener("click",function(){return i.Submit()}),t.\u0275\u0275template(45,$,2,0,"span",36),t.\u0275\u0275template(46,B,1,0,"span",37),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(47,"\xa0 "),t.\u0275\u0275elementStart(48,"button",38),t.\u0275\u0275listener("click",function(){return i.submitForm()}),t.\u0275\u0275template(49,z,1,0,"fa-icon",39),t.\u0275\u0275template(50,H,1,0,"span",40),t.\u0275\u0275text(51," Excel"),t.\u0275\u0275elementEnd(),t.\u0275\u0275text(52,"\xa0 "),t.\u0275\u0275elementStart(53,"div",2),t.\u0275\u0275template(54,U,4,3,"button",41),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(55,"span",42),t.\u0275\u0275template(56,K,3,0,"span",43),t.\u0275\u0275template(57,W,7,1,"select",44),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(58,"div",45)(59,"div",46)(60,"div",2)(61,"div",47)(62,"div",48)(63,"div")(64,"b"),t.\u0275\u0275text(65,"SNo."),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(66,"div",49)(67,"div")(68,"b"),t.\u0275\u0275text(69,"Violation Image"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(70,"div",49)(71,"div")(72,"b"),t.\u0275\u0275text(73,"Violation Details"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(74,"div",49)(75,"div")(76,"b"),t.\u0275\u0275text(77," Department "),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(78,"div",49)(79,"div")(80,"b"),t.\u0275\u0275text(81,"Camera Name"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(82,"div",49)(83,"div")(84,"b"),t.\u0275\u0275text(85,"Detected Time"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275template(86,Q,4,0,"div",50),t.\u0275\u0275element(87,"div"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(88,gt,3,4,"ng-container",51),t.\u0275\u0275pipe(89,"async"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(90,bt,5,4,"ng-template",null,52,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementStart(92,"div",53)(93,"ngb-pagination",54),t.\u0275\u0275listener("pageChange",function(s){return i.page=s})("pageChange",function(){return i.sliceVD()}),t.\u0275\u0275pipe(94,"async"),t.\u0275\u0275elementEnd()()()()()()()(),t.\u0275\u0275template(95,xt,17,0,"ng-template",null,55,t.\u0275\u0275templateRefExtractor)),2&e){const n=t.\u0275\u0275reference(91);t.\u0275\u0275advance(11),t.\u0275\u0275property("ngIf",!i.isdatewise),t.\u0275\u0275advance(5),t.\u0275\u0275property("ngIf",!(i.isdatewise||i.isLatest)),t.\u0275\u0275advance(15),t.\u0275\u0275property("showCustomRangeLabel",!0)("ranges",i.ranges)("timePicker",!0)("ngModel",i.selectedMoments),t.\u0275\u0275advance(6),t.\u0275\u0275styleMap(t.\u0275\u0275pureFunction0(42,M)),t.\u0275\u0275property("containerStyleClass","w-100")("ngModel",i.selectedDepartment)("ngModelOptions",t.\u0275\u0275pureFunction0(43,E))("options",t.\u0275\u0275pipeBind1(38,34,i.dropdownList1)),t.\u0275\u0275advance(3),t.\u0275\u0275styleMap(t.\u0275\u0275pureFunction0(44,M)),t.\u0275\u0275property("containerStyleClass","w-100")("ngModel",i.selectedCameraId)("ngModelOptions",t.\u0275\u0275pureFunction0(45,E))("options",t.\u0275\u0275pipeBind1(41,36,i.dropdownList)),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",null!==i.selectedCameraId||null!==i.selectedDepartment||null!==(null==i.selectedMoments?null:i.selectedMoments.startDate)),t.\u0275\u0275advance(1),t.\u0275\u0275property("disabled",null===i.selectedMoments||null===i.selectedMoments.startDate||null===i.selectedMoments.endDate),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!i.loading),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",i.loading),t.\u0275\u0275advance(2),t.\u0275\u0275property("disabled",null==i.selectedMoments||null===i.selectedMoments.startDate||null===i.selectedMoments.endDate||i.excelLoad),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!i.excelLoad),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",i.excelLoad),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",i.isdatewise||i.isLatest),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",i.isdatewise),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",i.isdatewise),t.\u0275\u0275advance(29),t.\u0275\u0275property("ngIf",i.isEditTable),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",t.\u0275\u0275pipeBind1(89,38,i.violData).length>0)("ngIfElse",n),t.\u0275\u0275advance(5),t.\u0275\u0275property("collectionSize",t.\u0275\u0275pipeBind1(94,40,i.total))("page",i.page)("pageSize",i.pageSize)}},dependencies:[h.YN,h.Kr,h.Fj,h.EJ,h.JJ,h.Q7,P.BN,_.NgForOf,_.NgIf,h.On,y.N9,D.KC,V.l,O.jx,w.SP,I.mP,k.J,_.AsyncPipe],styles:['.image[_ngcontent-%COMP%]{margin-left:0;margin-right:0;height:174px;width:330px;object-fit:cover;border-radius:5px!important}.violation_data_container[_ngcontent-%COMP%]{max-height:8rem!important;width:100%!important;max-width:100%!important;padding:.2rem!important}.task-input[_ngcontent-%COMP%]{padding:0 25px;position:relative}.task-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:5px 35px 5px 5px;height:40px}.datePickerContainer[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center}.datePickerContainer[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;border-top-right-radius:0!important;border-bottom-right-radius:0!important}input[_ngcontent-%COMP%]{width:100%}.img[_ngcontent-%COMP%]{height:20px;width:20px}.task-input[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{top:50%;position:absolute;transform:translate(170px,-50%)}input[type=checkbox][_ngcontent-%COMP%]{display:block;height:30px;order:4;top:5px;outline:none;counter-increment:undone-items}input[_ngcontent-%COMP%]:checked{pointer-events:none;order:2;counter-increment:done-items}label[_ngcontent-%COMP%]{pointer-events:none;display:block;position:relative;padding:15px 10px 15px 0;border-top:1px dashed #fff;order:4;cursor:pointer;animation:undone .5s}label[_ngcontent-%COMP%]:before{content:"\\f10c";display:block;position:absolute;margin-right:10px;margin-left:10px}input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{order:2;animation:done .5s}input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:before{margin-left:3px;margin-right:2rem!important;color:#cc1d1d;content:"\\2713"}input[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]:before{margin-left:3px;margin-right:2rem!important;color:#cc1d1d;content:"\\2716"}#editViol[_ngcontent-%COMP%]{text-align:center;align-content:center}td[_ngcontent-%COMP%]{text-align:center!important;align-content:center!important}input[type=radio][_ngcontent-%COMP%]{visibility:hidden;margin:0 0 -53px -9999px}#verify[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{pointer-events:all;display:block;position:relative;border-top:1px dashed #fff;order:4;cursor:pointer;animation:undone .5s;margin-left:10px!important}#verify[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:before{content:"\\25ef";display:block;position:absolute;margin-right:10px!important;right:2rem;font-weight:500;color:#c9c9c9}#verify[_ngcontent-%COMP%]   #right[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:before{font-size:larger;font-family:700;color:#1dc41d;content:"\\2713"}.w-full[_ngcontent-%COMP%]{width:inherit!important;color:#000!important}.container[_ngcontent-%COMP%]{position:relative;background-color:#fff!important;opacity:1;padding:5px;border-radius:10px;border:1px solid #ccc;display:flex;height:2.9em;justify-content:space-between;align-items:center}.data-container[_ngcontent-%COMP%]{display:block;width:100%}.data-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{width:auto;display:grid;box-sizing:border-box;margin-left:3%;margin-right:3%;padding-right:1%!important;padding-left:1%!important;padding-top:1rem!important;padding-bottom:1rem!important;grid-template-columns:3% 30% 12% 12% 15% 15% 10% 3%;border:var(--border);border-radius:7px;margin-bottom:.5rem!important;margin-top:.5rem!important}.data-container[_ngcontent-%COMP%]   .data-wrapper[_ngcontent-%COMP%]{box-sizing:border-box;width:inherit;display:grid;padding-top:.5rem!important;padding-bottom:.5rem!important;margin-bottom:1rem!important;overflow-wrap:break-word;border:var(--border);border-radius:10px;grid-template-columns:3% 30% 12% 12% 15% 15% 10% 3%}ngb-pagination[_ngcontent-%COMP%]     ul>li:not(.active)>a{background-color:#f8f8f8!important;border-radius:5px!important;color:var(--label-color)!important;box-shadow:none}ngb-pagination[_ngcontent-%COMP%]     ul>li.active>a{background-color:var(--label-color)!important;border-radius:5px!important;border:1px solid var(--label-color)!important;box-shadow:none}#verify[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{pointer-events:all;display:block;position:relative;border-top:1px dashed #fff;order:4;cursor:pointer;animation:undone .5s}#verify[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:before{content:"\\25ef";display:block;position:absolute;font-weight:500;color:#c9c9c9;right:2rem}#verify[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{order:2;animation:done .5s}#verify[_ngcontent-%COMP%]   #wrong[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:before{font-size:larger;font-family:500;color:#cc1d1d;content:"\\2713"}#verify[_ngcontent-%COMP%]   #right[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:before{font-size:larger;font-family:500;color:#1dc41d;content:"\\2713"}input[type=radio][_ngcontent-%COMP%]{visibility:hidden}#custome[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{visibility:visible}']}),a})();var St=c(9174),yt=c(2047);const Dt=[{path:"",component:Ct}];let Vt=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=t.\u0275\u0275defineInjector({imports:[St.A,D.kb,V.b,w.n1,I.o6,yt.Gg,f.Bz.forChild(Dt)]}),a})()}}]);