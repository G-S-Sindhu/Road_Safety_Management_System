(self.webpackChunkDOCKETRUN=self.webpackChunkDOCKETRUN||[]).push([[998],{9998:(se,Q,f)=>{"use strict";f.r(Q),f.d(Q,{WaterColorModule:()=>Te});var K=f(9569),M=f(2953),j=f(3056),E=f(1954),W=f(1305),L=f(7185),B=f(64),V=f(4612),R=f(9174),O=f(7445),A=f(529),C=f(433),p=f(9646),ie=f(8675),oe=f(3900),H=f(4327),ae=f(1764),S=f.n(ae),e=f(4650),Y=f(6895),G=f(9463),y=f(3625),_=f(3868);const Z=["dangerAlert"];function ee(i,c){1&i&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1,"Submit"),e.\u0275\u0275elementEnd())}function g(i,c){1&i&&e.\u0275\u0275element(0,"span",61)}function r(i,c){1&i&&e.\u0275\u0275element(0,"fa-icon",62)}function s(i,c){1&i&&e.\u0275\u0275element(0,"span",63)}function d(i,c){1&i&&e.\u0275\u0275element(0,"fa-icon",66)}function l(i,c){1&i&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1,"\xa0 Live \xa0"),e.\u0275\u0275elementEnd())}function h(i,c){1&i&&e.\u0275\u0275element(0,"span",61)}function m(i,c){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",64),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.BackToToday())}),e.\u0275\u0275template(1,d,1,0,"fa-icon",65),e.\u0275\u0275template(2,l,2,0,"span",18),e.\u0275\u0275template(3,h,1,0,"span",19),e.\u0275\u0275elementEnd()}if(2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.loader2),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.loader2),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.loader2)}}function v(i,c){1&i&&e.\u0275\u0275element(0,"fa-icon",67)}function x(i,c){1&i&&e.\u0275\u0275element(0,"fa-icon",68)}function b(i,c){1&i&&e.\u0275\u0275element(0,"fa-icon",69)}function w(i,c){1&i&&e.\u0275\u0275element(0,"fa-icon",70)}function P(i,c){1&i&&(e.\u0275\u0275elementStart(0,"span",23),e.\u0275\u0275element(1,"span",71),e.\u0275\u0275text(2,"Live"),e.\u0275\u0275elementEnd())}function k(i,c){1&i&&e.\u0275\u0275element(0,"span",75)}function J(i,c){1&i&&e.\u0275\u0275element(0,"fa-icon",76)}function U(i,c){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",72),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.getLatestData())}),e.\u0275\u0275template(1,k,1,0,"span",73),e.\u0275\u0275template(2,J,1,0,"fa-icon",74),e.\u0275\u0275text(3,"Latest "),e.\u0275\u0275elementEnd()}if(2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.loaderLatest),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.loaderLatest)}}function z(i,c){1&i&&(e.\u0275\u0275elementStart(0,"span",77)(1,"b"),e.\u0275\u0275text(2,"Show:"),e.\u0275\u0275elementEnd()())}function D(i,c){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"select",78),e.\u0275\u0275listener("ngModelChange",function(o){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.pageSize=o)})("ngModelChange",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.sliceVD())}),e.\u0275\u0275elementStart(1,"option",79),e.\u0275\u0275text(2,"30 items per page"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"option",80),e.\u0275\u0275text(4,"40 items per page"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"option",81),e.\u0275\u0275text(6,"50 items per page"),e.\u0275\u0275elementEnd()()}if(2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngModel",t.pageSize)}}function N(i,c){if(1&i&&(e.\u0275\u0275elementStart(0,"div",94),e.\u0275\u0275element(1,"input",95),e.\u0275\u0275elementStart(2,"label",96),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd()()),2&i){const t=e.\u0275\u0275nextContext().$implicit,n=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("checked","Vest"===t?"arc_jacket"==n[t]:n[t]),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate("Vest"===t?"Arc Jacket":t)}}function q(i,c){if(1&i&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,N,4,2,"div",93),e.\u0275\u0275elementEnd()),2&i){const t=c.$implicit,n=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","Helmet"===t?"none"!==n[t]&&!1===n[t]:"Vest"===t&&"no_ppe"===n[t])}}function X(i,c){if(1&i&&(e.\u0275\u0275elementStart(0,"div",89)(1,"div")(2,"div",90),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"ul",91)(5,"li"),e.\u0275\u0275template(6,q,2,1,"div",92),e.\u0275\u0275elementEnd()()()()),2&i){const t=c.$implicit,n=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",t.violation_count,""),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",n.objectKeys(t))}}function ce(i,c){if(1&i&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,X,7,2,"div",88),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",t.object_data)}}function de(i,c){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div")(1,"div",100)(2,"input",101),e.\u0275\u0275listener("change",function(o){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext(2).$implicit,u=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(u.VerifyTrueViol(o,a))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"label",102),e.\u0275\u0275text(4,"Yes "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(5,"div",103)(6,"input",104),e.\u0275\u0275listener("change",function(o){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext(2).$implicit,u=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(u.VerifyFalseViol(o,a))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"label",105),e.\u0275\u0275text(8,"No "),e.\u0275\u0275elementEnd()()()}2&i&&(e.\u0275\u0275advance(2),e.\u0275\u0275property("value",0)("defaultValue",!0),e.\u0275\u0275advance(4),e.\u0275\u0275property("value",!1)("defaultValue",!1))}function me(i,c){1&i&&(e.\u0275\u0275elementStart(0,"div",106),e.\u0275\u0275text(1,"Verified"),e.\u0275\u0275elementEnd())}function he(i,c){if(1&i&&(e.\u0275\u0275elementStart(0,"td",97),e.\u0275\u0275template(1,de,9,4,"div",98),e.\u0275\u0275template(2,me,2,0,"ng-template",null,99,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275reference(3),n=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!n.violation_verificaton_status)("ngIfElse",t)}}function ge(i,c){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tr",45)(1,"td"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"td")(4,"img",82),e.\u0275\u0275listener("click",function(){const a=e.\u0275\u0275restoreView(t).$implicit,u=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(u.imageCarousal(a))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(5,"br"),e.\u0275\u0275elementStart(6,"button",83),e.\u0275\u0275listener("click",function(){const a=e.\u0275\u0275restoreView(t).$implicit,u=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(u.imageCarousal(a))}),e.\u0275\u0275text(7,"\xa0\xa0 "),e.\u0275\u0275element(8,"fa-icon",84),e.\u0275\u0275text(9," More Images \xa0\xa0"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(10," \xa0"),e.\u0275\u0275elementStart(11,"button",85),e.\u0275\u0275listener("click",function(){const a=e.\u0275\u0275restoreView(t).$implicit,u=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(u.downloadImage(u.API+"/image/"+a.imagename))}),e.\u0275\u0275text(12," Download Image "),e.\u0275\u0275element(13,"fa-icon",62),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(14,"td")(15,"h4"),e.\u0275\u0275text(16),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(17,ce,2,1,"div",18),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"td"),e.\u0275\u0275element(19,"ngb-highlight",86),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"td"),e.\u0275\u0275element(21,"ngb-highlight",86),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(22,he,4,2,"td",87),e.\u0275\u0275elementEnd()}if(2&i){const t=c.$implicit,n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.SNo),e.\u0275\u0275advance(2),e.\u0275\u0275property("src",n.API+"/image/"+t.imagename[0],e.\u0275\u0275sanitizeUrl),e.\u0275\u0275advance(12),e.\u0275\u0275textInterpolate(t.analyticstype),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","PPE"===t.analyticstype||"RA"===t.analyticstype),e.\u0275\u0275advance(2),e.\u0275\u0275property("result",t.camera_name?t.camera_name:"null")("term",n.filterOut.value),e.\u0275\u0275advance(2),e.\u0275\u0275property("result",t.timestamp)("term",n.filterOut.value),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.isEditTable)}}function ue(i,c){if(1&i&&(e.\u0275\u0275elementStart(0,"div",107)(1,"div",13)(2,"div",25),e.\u0275\u0275element(3,"img",108),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",109)(5,"h5")(6,"span",110),e.\u0275\u0275text(7," Camera Name :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"b")(9,"span",111),e.\u0275\u0275text(10),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(11,"h5")(12,"span",110),e.\u0275\u0275text(13," Detected Time : "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"b")(15,"span",111),e.\u0275\u0275text(16),e.\u0275\u0275elementEnd()()()()()()),2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(3),e.\u0275\u0275property("src",t.API+"/image/"+t.currentViol.imagename,e.\u0275\u0275sanitizeUrl),e.\u0275\u0275advance(7),e.\u0275\u0275textInterpolate(t.currentViol.camera_name?t.currentViol.camera_name:"null"),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate(t.currentViol.timestamp?t.currentViol.timestamp:"--")}}function pe(i,c){1&i&&e.\u0275\u0275element(0,"span",63)}function fe(i,c){1&i&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275element(1,"fa-icon",132),e.\u0275\u0275elementEnd())}function ve(i,c){1&i&&e.\u0275\u0275element(0,"span",133)}function _e(i,c){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",130),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(o.OnDownload())}),e.\u0275\u0275template(1,fe,2,0,"span",18),e.\u0275\u0275template(2,ve,1,0,"span",131),e.\u0275\u0275text(3,"Excel"),e.\u0275\u0275elementEnd()}if(2&i){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.excelLoader),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.excelLoader)}}function Ce(i,c){if(1&i&&(e.\u0275\u0275elementStart(0,"span",134),e.\u0275\u0275text(1),e.\u0275\u0275elementStart(2,"button",135)(3,"span",115),e.\u0275\u0275text(4,"\xd7"),e.\u0275\u0275elementEnd()()()),2&i){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("",t.alertmessage," ")}}function be(i,c){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",112)(1,"h4",113),e.\u0275\u0275text(2,"Download Excel"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"button",114),e.\u0275\u0275listener("click",function(){const a=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(a.dismiss("Cross click"))}),e.\u0275\u0275elementStart(4,"span",115),e.\u0275\u0275text(5,"\xd7"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(6,"div",116)(7,"div",37)(8,"div",117)(9,"div",90),e.\u0275\u0275element(10,"app-date-time-picker",118),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(11,"br"),e.\u0275\u0275elementStart(12,"div",119),e.\u0275\u0275element(13,"app-date-time-picker",118),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(14,"br"),e.\u0275\u0275elementStart(15,"div",119)(16,"div",36)(17,"select",120,121)(19,"option",122),e.\u0275\u0275text(20,"Location "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"option",123),e.\u0275\u0275text(22,"JSW"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275element(23,"br")(24,"br"),e.\u0275\u0275elementStart(25,"div",13)(26,"div",124)(27,"div",36)(28,"button",125),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.submitForm())}),e.\u0275\u0275template(29,pe,1,0,"span",22),e.\u0275\u0275text(30," Submit "),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(31,"\xa0 "),e.\u0275\u0275template(32,_e,4,2,"button",126),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(33,"br"),e.\u0275\u0275template(34,Ce,5,1,"span",127),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(35,"div",128)(36,"button",129),e.\u0275\u0275listener("click",function(){const a=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(a.close("Close click"))}),e.\u0275\u0275text(37,"Close"),e.\u0275\u0275elementEnd()()}if(2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(10),e.\u0275\u0275property("formControl",t.excelFromDate),e.\u0275\u0275advance(3),e.\u0275\u0275property("formControl",t.excelToDate),e.\u0275\u0275advance(4),e.\u0275\u0275property("formControl",t.loc2),e.\u0275\u0275advance(11),e.\u0275\u0275property("disabled",!t.excelFromDate||!t.excelToDate||!t.loc2.valid),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.excelLoad),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",t.isExcel),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.isalert)}}function xe(i,c){if(1&i&&(e.\u0275\u0275elementStart(0,"div",147),e.\u0275\u0275element(1,"input",148),e.\u0275\u0275elementStart(2,"label",149),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd()()),2&i){const t=e.\u0275\u0275nextContext().$implicit,n=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("checked","Vest"===t?"arc_jacket"==n[t]:n[t]),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate("Vest"===t?"Arc Jacket":t)}}function ye(i,c){if(1&i&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,xe,4,2,"div",146),e.\u0275\u0275elementEnd()),2&i){const t=c.$implicit,n=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","Helmet"===t?"none"!==n[t]&&!1===n[t]:"Vest"===t&&"no_ppe"===n[t])}}function Se(i,c){if(1&i&&(e.\u0275\u0275elementStart(0,"div",89)(1,"div")(2,"div",37),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(4,"br"),e.\u0275\u0275elementStart(5,"ul",145)(6,"li"),e.\u0275\u0275template(7,ye,2,1,"div",92),e.\u0275\u0275elementEnd()()()()),2&i){const t=c.$implicit,n=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",t.violation_count,""),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngForOf",n.objectKeys(t))}}function we(i,c){if(1&i&&(e.\u0275\u0275elementStart(0,"div",144),e.\u0275\u0275template(1,Se,8,2,"div",88),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",t.editViol.object_data)}}function Ie(i,c){if(1&i&&(e.\u0275\u0275elementStart(0,"div",136)(1,"div",13)(2,"div",137)(3,"div",138),e.\u0275\u0275element(4,"img",139),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(5,"div",140)(6,"div",141)(7,"div",142)(8,"h5",37),e.\u0275\u0275text(9),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(10,"br"),e.\u0275\u0275template(11,we,2,1,"div",143),e.\u0275\u0275elementEnd()()()()()),2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(4),e.\u0275\u0275property("src",t.API+"/image/"+t.editViol.imagename[0],e.\u0275\u0275sanitizeUrl),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(t.editViol.analyticstype),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf","PPE"===t.editViol.analyticstype||"RA"===t.editViol.analyticstype)}}const le=function(){return{standalone:!0}},Ve=[{path:"",component:(()=>{class i{constructor(t,n,o,a,u,I,$,T,re,ne){this.http=t,this.webServer=n,this.datepipe=o,this.toasterService=a,this._lightbox=u,this._lightBoxConfig=I,this.router=$,this.snackbar=T,this.modalService=re,this.sso=ne,this.data=[],this.zoom=100,this.panelData=(0,p.of)([{item_text:1,item_id:0},{item_text:2,item_id:1},{item_text:3,item_id:2}]),this.plantData=(0,p.of)([{item_text:"hsm",item_id:0},{item_text:"crm",item_id:1},{item_text:"scm",item_id:2}]),this.areaData=(0,p.of)([]),this.isAlert=!1,this.download="",this.isalert=!1,this.imgWidth=400,this.imgheight=300,this.tempdata=[],this.page=1,this.pageSize=30,this.cameraDetails=[],this.audioOff=!1,this.alertmessage="",this.total=(0,p.of)(0),this.violData=(0,p.of)([]),this.loading=!1,this.filterOut=new C.NI,this.dataForExcel=[],this.images=[],this.pdfLoader=!1,this.excelLoader=!1,this.violLength=0,this.updatedLen=0,this.violdata=[],this.show1=30,this.show2=40,this.show3=50,this.fromDate=new Date,this.toDate=new Date,this.isdatewise=!1,this.loader2=!1,this.Excel=!1,this.Edata=[],this.isExcel=!1,this.excelLoad=!1,this.alert=!0,this.imageData=[],this.imageBase64=[],this.objectKeys=Object.keys,this.isdate=!1,this.form=new C.cw({control:new C.NI}),this.selectedViolType=null,this.imageObject=[{}],this.selectedCameraId=null,this.dropdownList=(0,p.of)([]),this.fromDateControl=new C.NI((new Date).getTime(),C.kI.required),this.toDateControl=new C.NI(new Date,C.kI.required),this.excelFromDate=new C.NI(new Date,C.kI.required),this.excelToDate=new C.NI(new Date,C.kI.required),this.Images=[],this.loc2=new C.NI("",C.kI.required),this.violationTypeList=(0,p.of)([{key:"0",label:"All Violations",icon:"pi",data:"all_violations"}]),this.loaderLatest=!1,this.isLatest=!1,this.latest=!1,this.relayFlag=!1,this.isEditTable=!0,this.violationsList=[],this.ranges={Today:[S()().hour(0).minute(0).second(0),S()()],Yesterday:[S()().subtract(1,"days").hour(0).minute(0).second(0),S()().subtract(1,"days")],"Last 7 Days":[S()().subtract(6,"days").hour(0).minute(0).second(0),S()()],"Last 30 Days":[S()().subtract(29,"days").hour(0).minute(0).second(0),S()()],"This Month":[S()().startOf("month").hour(0).minute(0).second(0),S()().endOf("month")],"Last Month":[S()().subtract(1,"month").startOf("month").hour(0).minute(0).second(0),S()().subtract(1,"month").endOf("month")]},this.audioOff="true"==localStorage.getItem("audioOff"),this.alert="true"==localStorage.getItem("alert"),console.log(localStorage.getItem("audioOff"),localStorage.getItem("alert")),this.scrollStrategy=this.sso.reposition(),this.relayDelay=this.webServer.relayDelay,console.log(this.relayDelay),this.hooterDelay=this.webServer.delay,this.getCameraList(),this.getViolationTypes(),this.ExcelRange=0,this._lightBoxConfig.showDownloadButton=!1,this._lightBoxConfig.showZoom=!0,this._lightBoxConfig.showImageNumberLabel=!0,this._lightBoxConfig.fitImageInViewPort=!0,this._lightBoxConfig.disableScrolling=!1,this._lightBoxConfig.centerVertically=!1,this.API=n.IP,console.log(this.API),this.filterOut.valueChanges.pipe(((0,ie.O)(""),(0,oe.w)(F=>this.matches(F.strip())))).subscribe(F=>{this.tempdata=F,this.violData=(0,p.of)(F),this.sliceVD()}),this.excelFromDate.valueChanges.subscribe(F=>{this.isalert=!1}),this.excelToDate.valueChanges.subscribe(F=>{this.isalert=!1})}openDatePicker(t){document.getElementById("dateInput").click()}ngOnInit(){var t=this.webServer.dateTransform(new Date)+" 00:00:00",n=this.webServer.dateTransform(new Date)+" 23:59:59";this.fromDateControl.setValue(t),this.toDateControl.setValue(n),this.dropdownSettings={singleSelection:!0,idField:"item_id",textField:"item_text",itemsShowLimit:1,allowSearchFilter:!0},this.dropdownSettings2={singleSelection:!0,idField:"item_id",textField:"item_text",itemsShowLimit:1,allowSearchFilter:!0,closeDropDownOnSelection:!0,noDataAvailablePlaceholderText:"No violation types detected",maxHeight:197},console.log(E.n1),this.violLength=Number(localStorage.getItem("updatedLen")),this.webServer.GetCameraNames().subscribe(a=>{console.log(a),!0===a.success&&(a.message.forEach((u,I)=>{this.cameraDetails[I]={camera_id:u.camera_id,camera_name:u.camera_name}}),console.log(this.cameraDetails))});var o=document.getElementById("content");o?.classList.add("loading"),(!this.latest||this.isLatest)&&this.webServer.LiveViolationData().subscribe(a=>{a.success?(o?.classList.remove("loading"),this.imageData=a.message,this.tempdata=a.message,console.log(this.tempdata),Number(localStorage.setItem("updatedLen",a.message.length?a.message.length:0)),this.tempdata=a.message,this.total=(0,p.of)(this.tempdata.length),this.violData=(0,p.of)(a.message),this.sliceVD()):(o?.classList.remove("loading"),this.notification(a.message))},a=>{o?.classList.remove("loading"),this.notification("Error While fetching the data")})}ngAfterViewInit(){console.log(this.selectedViolation),this.dataread()}onPlantSelect(t){}onAreaSelect(t){}dataread(){this.interval=setInterval(()=>{this.isdate||(console.log("interval1"),Number(localStorage.getItem("updatedLen"))&&(this.violLength=Number(localStorage.getItem("updatedLen"))),this.Subsciption=this.webServer.LiveViolationData(this.selectedCameraId,this.selectedViolType).subscribe(t=>{if(t.success){var n={...t},o=[...t.message];console.log(this.isLatest),localStorage.setItem("updatedLen",JSON.stringify(o.length));var a=Number(localStorage.getItem("updatedLen"));if(console.log(a),console.log(this.violLength),n.now_live_count-n.previous_live_count>0){var u=n.now_live_count-n.previous_live_count;if(console.log("minutes less than 10"),this.alert){console.log("alert",this.alert);for(let T=u-1;T>=0;T--)new Date(o[T].timestamp),console.log("minutes less than 10"),this.alert&&(console.log(),console.log(this.isLatest),this.currentViol=o[T],setTimeout(()=>{console.log("violation is happening"),console.log(this.currentViol),this.showViol()},300),this.audioOff||this.alertSound())}}}}),this.latest||this.webServer.LiveViolationData().subscribe(t=>{this.latest||!0!==t.success||(console.log(t),console.log(this.selectedCameraId),console.log(t.message),this.imageData=t.message,this.tempdata=t.message,console.log(this.tempdata),this.total=(0,p.of)(this.violdata.length),this.loader2=!1,this.isdatewise=!1,this.violData=(0,p.of)(t.message),this.sliceVD(),this.violdata=t.message,this.tempdata.length>0&&(this.Excel=!0),this.sliceVD())},t=>{console.log(t)}))},5e3)}showViol(){console.log(this.currentViol),this.toasterService.error(this.Violation.nativeElement.innerHTML," ",{enableHtml:!0,positionClass:"toast-top-right"})}notification(t,n){console.log("snackbar"),this.snackbar.open(t,n||"",{duration:4e3,panelClass:["error"],horizontalPosition:"end",verticalPosition:"bottom"})}getDismissReason(t){return t===M.If.ESC?(this.zoom=100,this.imgWidth=400,this.imgheight=300,"by pressing ESC"):t===M.If.BACKDROP_CLICK?(this.zoom=100,this.imgWidth=400,this.imgheight=300,"by clicking on a backdrop"):(this.imgWidth=400,this.imgheight=300,this.zoom=100,`with: ${t}`)}matches(t){var n=this.tempdata.filter(a=>a.cameraid.includes(t)||a.roi_violation_name.includes(t)||a.deviceid.includes(t)||a.camera_name.includes(t));return this.tempdata=n,this.sliceVD(),(0,p.of)(n)}sliceVD(){if(console.log(this.page,this.pageSize),this.isdate||(this.total=(0,p.of)(this.tempdata.slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize).length),this.total=(0,p.of)(this.tempdata.length),this.violData=(0,p.of)(this.tempdata.map((n,o)=>({SNo:o+1,...n})).slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize))),console.log(this.tempdata),this.isdate){console.log(this.tempdata);var t=document.getElementById("dataTable");t?.classList.add("loading"),this.webServer.DatewiseViolations(this.fromDate,this.toDate,this.page,this.pageSize,this.selectedCameraId?this.selectedCameraId:null,this.selectedViolType?this.selectedViolType:null).subscribe(n=>{console.log(n),n.success&&(t?.classList.remove("loading"),console.log(n.message),0===n.message.length&&this.notification("No violations found"),this.tempdata=n.message,this.violData=(0,p.of)(this.tempdata))})}}Submit(){this.isLatest=!1,console.log(this.selectedCameraId),this.selectedViolType=this.selectedViolation?this.selectedViolation.data:null,this.selectedCameraId=this.selectedItems?this.selectedItems.data:null,console.log(this.selectedMoments),console.log(this.fromDateControl.value),this.Images=[],this.fromDate=this.selectedMoments.startDate.format("YYYY-MM-DD HH:mm:ss"),this.toDate=this.selectedMoments.endDate.format("YYYY-MM-DD HH:mm:ss"),this.Subsciption&&this.Subsciption.unsubscribe();var t=document.getElementById("dataTable");t?.classList.add("loading"),this.pageSize=30,this.page=1,this.isdate=!0,this.loading=!0,console.log(clearInterval(this.interval)),console.log(this.selectedCameraId),this.webServer.DatewiseViolations(this.fromDate,this.toDate,null,null,this.selectedCameraId?this.selectedCameraId:null,this.selectedViolType?this.selectedViolType:null).subscribe(n=>{console.log(n),n.success?(console.log(n),0==n.message.length&&(this.tempdata=[],this.violData=(0,p.of)([]),this.loading=!1,this.isdatewise=!0,this.total=(0,p.of)(0),t?.classList.remove("loading"),this.notification("No violations found for entered date and time")),n.message.length>0&&(this.imageData=n.message,this.total=(0,p.of)(n.message.length),this.webServer.DatewiseViolations(this.fromDate,this.toDate,this.page,this.pageSize,this.selectedCameraId?this.selectedCameraId:null,this.selectedViolType?this.selectedViolType:null).subscribe(o=>{console.log(o),o.success&&(this.loading=!1,t?.classList.remove("loading"),console.log(o.message.length),0===o.message.length?(this.notification("No violations found"),this.violData=(0,p.of)([]),this.isdatewise=!0,this.loading=!1):(this.tempdata=o.message,this.isdatewise=!0,this.violData=(0,p.of)(this.tempdata),this.sliceVD(),this.loading=!1)),this.loading=!1},o=>{this.loading=!1,this.notification("Error while fetching the data")}))):(this.tempdata=[],this.violData=(0,p.of)([]),this.loading=!1,this.isdatewise=!0,this.total=(0,p.of)(0),t?.classList.remove("loading"),t?.classList.remove("loading"),this.notification("No violations found"),this.loading=!1)},n=>{this.loading=!1}),this.interval2=setInterval(()=>{this.isdate&&(Number(localStorage.getItem("updatedLen"))&&(this.violLength=Number(localStorage.getItem("updatedLen"))),console.log("interval 2"),this.webServer.LiveViolationData().subscribe(n=>{if(console.log(n),n.success){var a={...n};if(a.now_live_count-a.previous_live_count>0&&(this.violdata=n.message,this.alert))for(let I=a.now_live_count-a.previous_live_count-1;I>=0;I--)this.alert&&(console.log("date wise violation"),this.currentViol=this.violdata[I],setTimeout(()=>{this.showViol(),this.audioOff||this.alertSound()},300))}}))},3e3),console.log(this.API)}BackToToday(){var t;this.page=1,this.Images=[],this.latest=!1,(t=document.getElementById("dataTable"))?.classList.add("loading"),this.loader2=!0,console.log(this.isLatest),this.interval2&&clearInterval(this.interval2),this.isdate=!1,this.tempdata=[],this.total=(0,p.of)(0),this.Images=[],(t=document.getElementById("dataTable"))?.classList.add("loading"),this.loader2=!0,console.log(this.isLatest),this.interval2&&clearInterval(this.interval2),this.isdate=!1,this.tempdata=[],this.total=(0,p.of)(0),this.webServer.LiveViolationData().subscribe(n=>{if(n.success){this.isLatest=!1,t?.classList.remove("loading"),this.imageData=n.message,console.log(this.imageData),this.total=(0,p.of)(n.message.length),0==n.message.length&&this.notification("no violations found for today");var o=n.message;console.log("backto live"),this.tempdata=n.message,this.sliceVD(),this.loader2=!0,this.isdatewise=!1,localStorage.setItem("updatedLen",JSON.stringify(o.length)),Number(localStorage.getItem("updatedLen"))}}),this.dataread()}dateTransform(t){const n=new Date(t.year,t.month-1,t.day);return console.log(n),this.datepipe.transform(n,"dd/MM/yyyy")}onCameraIdSelect(t){console.log(t),console.log(t.item_id),this.isdatewise||(this.page=1),this.selectedCameraId=this.selectedItems.data,console.log(this.selectedItems),console.log(t)}onViolationTypeSelect(t){console.log(this.selectedViolation),console.log(t),console.log(t.item_id),this.isdatewise||(this.page=1),this.selectedViolType=this.selectedViolation.data,console.log(this.selectedViolType),console.log(t)}imageCarousal(t){this.Images=[],t.imagename.forEach((n,o)=>{console.log(n),this.Images[o]={src:this.API+"/image/"+n,thumb:this.API+"/image/"+n,caption:n}}),this.open(0),console.log(this.Images)}open(t){console.log("opening lightbox"),this._lightbox.open(this.Images,t)}close(){this._lightbox.close()}submitForm(){this.isalert=!1,this.excelLoad=!0,this.isExcel=!1,this.selectedViolType=this.selectedViolation?this.selectedViolation.data:null,this.selectedCameraId=this.selectedItems?this.selectedItems.data:null,console.log(this.excelFromDate.value),console.log(this.excelToDate.value);var t={from_date:this.selectedMoments.startDate.format("YYYY-MM-DD HH:mm:ss"),to_date:this.selectedMoments.endDate.format("YYYY-MM-DD HH:mm:ss"),cameraname:this.selectedCameraId?this.selectedCameraId:"none",violation_type:this.selectedViolType?this.selectedViolType:"none"},n=new Date(this.excelFromDate.value);const u=(new Date(this.excelToDate.value).getTime()-n.getTime())/864e5;console.log(u),u<=this.ExcelRange?this.webServer.CreateViolationExcel(t).subscribe($=>{console.log($),$.success?(this.excelLoad=!1,this.isExcel=!0,console.log("APi data for excel"),console.log($),this.Edata=$.message,this.Edata=$.message,this.webServer.DownloadViolationExcel().subscribe(T=>{this.excelLoader=!1,this.excelLoad=!1,console.log(T.headers.get("content-Type")),console.log(T);const ne=new Blob([T.body],{type:".xlsx"});var F="violation report "+this.datepipe.transform(new Date,"YYYY_MM_dd_h_mm_ss")+".xlsx";new File([ne],F,{type:".xlsx"}),(0,H.saveAs)(ne,F)},T=>{this.excelLoader=!1,console.log(T)})):(this.notification($.message,"Retry"),this.excelLoad=!1,this.isExcel=!1,this.alertmessage=$.message,this.isalert=!0)},$=>{this.excelLoad=!1,this.isExcel=!1,this.alertmessage="Error while creating excel",this.notification(this.alertmessage,"Retry"),this.isalert=!0}):(this.excelLoad=!1,this.isalert=!0,this.excelLoader=!1,this.alertmessage="Data range should be "+this.ExcelRange+" days",this.webServer.notification(this.alertmessage)),(new FormData).append("location",this.loc2.value)}onCameraIdDeSelect(t){console.log(t),console.log(t.item_id),console.log(this.selectedItems),this.selectedItems=[],this.isdatewise||(this.page=1),0===this.selectedItems.length&&(console.log("undefined"),this.selectedCameraId=null)}onViolationTypeDeSelect(t){console.log(this.selectedViolation)}OnDownload(){this.excelLoader=!0,this.webServer.SampleExcelDownload().subscribe(t=>{this.excelLoader=!1,console.log(t),console.log(t);const o=new Blob([t.body],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});var a="violation report "+this.datepipe.transform(new Date,"YYYY_MM_dd_h_mm_ss");const u=new File([o],a,{type:".xlsx"});(0,H.saveAs)(u)},t=>{this.excelLoader=!1,console.log(t)})}ExcelD(t){this.modalService.open(t).result.then(n=>{this.closeResult=`Closed with: ${n}`,this.download="",this.isalert=!1},n=>{this.closeResult=`Dismissed ${this.getDismissReason(n)}`,this.download="",this.isalert=!1})}settings(){this.router.navigate(["app/Settings"])}alertSound(){console.log("alert sound");let t=new Audio;t.src="../../../assets/audio/alert.wav",t.load(),t.play()}Hooter(t,n){this.http.get("https://192.168.1.22/Delay*100@").subscribe(),this.http.get(t+"/Delay*"+n+"@")}Relay(t){this.http.get(t).subscribe(),this.relayInterval=setTimeout(()=>{console.log("relay is off")},this.relayDelay)}Reset(){clearTimeout(this.relayInterval)}volumeToggle(){this.alert?(this.audioOff=!this.audioOff,localStorage.setItem("audioOff",this.audioOff?"true":"false")):(this.audioOff=!0,localStorage.setItem("audioOff","true"))}alertToggle(){this.alert=!this.alert,localStorage.setItem("alert",this.alert?"true":"false"),this.alert||(this.audioOff=!0,localStorage.setItem("alert","false"),localStorage.setItem("audioOff","true"),this.toasterService.clear())}getLatestData(){this.loader2=!1,this.loaderLatest=!0,this.latest=!0;var t=document.getElementById("dataTable");t?.classList.add("loading"),console.log(this.selectedViolType),this.webServer.LatestData(this.selectedViolType,this.selectedCameraId).subscribe(n=>{n.success?(this.isLatest=!0,t?.classList.remove("loading"),this.loaderLatest=!1,0===n.message.length&&this.notification("No violations found"),this.imageData=n.message,this.tempdata=n.message,console.log(this.tempdata),this.tempdata=n.message,this.total=(0,p.of)(n.message.length),this.violData=(0,p.of)(n.message),this.sliceVD()):(this.loaderLatest=!1,t?.classList.remove("loading"),this.notification("Error while fetching the data","Retry"))},n=>{this.loaderLatest=!1,t?.classList.remove("loading"),this.notification("Error While fetching the data","Retry")})}downloadImage(t){const n=t;new A.WM({responseType:"blob"}),console.log(n);const a=n.substr(n.lastIndexOf("/")+1);this.http.get(n,{responseType:"blob"}).subscribe(u=>{console.log("image url data",u),(0,H.saveAs)(u,a)},u=>{console.log("error",u)})}ngOnDestroy(){this.modalService.dismissAll(),clearInterval(this.interval),clearInterval(this.interval2),this.isalert=!1,this.toasterService.clear()}getCameraList(){var t=[],n=[];t[0]={key:"0",label:"All Cameras",data:"all_cameras"},this.webServer.GetCameraDetails().subscribe(o=>{console.log(o),!0===o.success&&(o.message.forEach((a,u)=>{n.push({cameraid:u,cameraname:a})}),console.log(n),n=n.filter((a,u,I)=>u===I.indexOf(a)),console.log(n),n.forEach((a,u)=>{var I;console.log(a),I={key:(u+1).toString(),label:a.cameraname,data:a.cameraname},t.push(I)}),console.log(t),this.dropdownList=(0,p.of)(t)),console.log(this.dropdownList)})}getViolationTypes(){var n=[];this.violationsList[0]={key:"0",label:"All Violations",data:"all_violations"},this.webServer.GetViolationList().subscribe(o=>{console.log(o),o.success&&(o.message.forEach(a=>{n.push(a)}),console.log(n),n.forEach((a,u)=>{var I;console.log(a),I={key:(u+1).toString(),icon:"pi",label:a,data:a},this.violationsList.push(I)}),console.log(this.violationsList),this.violationTypeList=(0,p.of)(this.violationsList))})}ToggleEdit(){this.isEditTable=!this.isEditTable}SelectViol(t,n){this.editViol=t,this.modalService.open(n,{size:"xl",centered:!0})}VerifyTrueViol(t,n){this.editViol=n,this.webServer.VerifyViolation(this.editViol._id.$oid,!0).subscribe(o=>{console.log(o),this.webServer.notification(o.message),o.success&&(this.modalService.dismissAll(),this.isdatewise&&this.Submit()),this.isdatewise||this.GetViolationData()},o=>{this.webServer.notification("Error while the  Process","Retry")})}VerifyFalseViol(t,n){this.editViol=n,this.webServer.VerifyViolation(this.editViol._id.$oid,!1).subscribe(o=>{console.log(o),this.webServer.notification(o.message),o.success&&(this.modalService.dismissAll(),this.isdatewise&&this.Submit()),this.isdatewise||this.GetViolationData()},o=>{this.webServer.notification("Error while the  Process","Retry")})}GetViolationData(){var t=document.getElementById("content");t?.classList.add("loading"),(!this.latest||this.isLatest)&&this.webServer.LiveViolationData().subscribe(n=>{n.success?(t?.classList.remove("loading"),this.imageData=n.message,this.tempdata=n.message,console.log(this.tempdata),Number(localStorage.setItem("updatedLen",n.message.length?n.message.length:0)),this.tempdata=n.message,this.total=(0,p.of)(this.tempdata.length),this.violData=(0,p.of)(n.message),this.sliceVD()):(t?.classList.remove("loading"),this.notification(n.message))},n=>{t?.classList.remove("loading"),this.notification("Error While fetching the data")})}}return i.\u0275fac=function(t){return new(t||i)(e.\u0275\u0275directiveInject(A.eN),e.\u0275\u0275directiveInject(O.N),e.\u0275\u0275directiveInject(Y.DatePipe),e.\u0275\u0275directiveInject(L._W),e.\u0275\u0275directiveInject(W.ey),e.\u0275\u0275directiveInject(W.xm),e.\u0275\u0275directiveInject(K.F0),e.\u0275\u0275directiveInject(G.ux),e.\u0275\u0275directiveInject(M.FF),e.\u0275\u0275directiveInject(y.uw))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["app-water-color-change"]],viewQuery:function(t,n){if(1&t&&(e.\u0275\u0275viewQuery(Z,5),e.\u0275\u0275viewQuery(E.SP,5)),2&t){let o;e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(n.Violation=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(n.pickerDirective=o)}},decls:99,vars:42,consts:[["id","content",1,"container-fluid","dashboard-content"],["datatable",""],[1,"page-header"],["id","content",1,"row","mx-auto","mt-3","mb-3"],[1,"col-xl-2","col-sm-12","col-lg-6","col-xs-12","col-md-6","mb-3"],[1,"dl-date-time-picker"],[1,"datePickerContainer",3,"click"],["type","text","ngxDaterangepickerMd","","placeholder","Select Date","required","","id","dateInput",1,"form-control",3,"showCustomRangeLabel","ranges","timePicker","ngModel","ngModelChange"],["datepicker",""],[1,"input-group-append"],["type","button",1,"ngx-daterangepicker-action","btn","default"],["icon","calendar",1,"ngx-daterangepicker-action",3,"click"],[1,"col-2"],[1,"row"],["containerStyleClass","w-full","placeholder","Select Violation",3,"ngModel","ngModelOptions","options","ngModelChange","onNodeSelect"],["containerStyleClass","w-full","containerStyleClass","w-full","placeholder","Select Camera",3,"ngModelOptions","ngModel","options","ngModelChange","onNodeSelect"],[1,"col-xl-3","col-sm-12","col-lg-6","col-xs-12","col-md-6","mb-3"],[1,"btn","default","text-white","me-3","ms-1",2,"width","80px",3,"disabled","click"],[4,"ngIf"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],["type","submit",1,"btn","default","text-white","me-3",3,"disabled","click"],["icon","download","class","ms-1 me-1","style","cursor: pointer;",4,"ngIf"],["class","spinner-border spinner-border-sm me-1","role","status","aria-hidden","true",4,"ngIf"],[1,"float-end"],["class","btn default text-white","style","width:100px",3,"click",4,"ngIf"],[1,"col-12"],["id","dataTable",1,"card"],[1,"card-header"],["placement","bottom",1,"btn","default-outline","me-2","float-start",2,"width","7%",3,"ngbTooltip","click"],["icon","bell","class","me-1",4,"ngIf"],["icon","bell-slash","class","me-1",4,"ngIf"],["placement","bottom",1,"btn","default-outline","float-start","me-2",2,"width","7%",3,"ngbTooltip","click"],["icon","volume-up","class","me-1",4,"ngIf"],["icon","volume-off","class","me-1",4,"ngIf"],["class","float-end",4,"ngIf"],[1,"mt-3","mb-2"],[1,"form-group"],[1,""],["class","btn default ms-3 me-2 text-white float-start",3,"click",4,"ngIf"],[1,"float-start","ms-2","mt-2","me-2"],[1,"d-flex","justify-content-end","p-1"],["class","mr-2 mt-2",4,"ngIf"],["class","custom-select col-2","style","width: auto",3,"ngModel","ngModelChange",4,"ngIf"],[1,"",2,"width","100%","overflow","auto"],[1,"table","table-bordered",2,"width","100%","overflow","auto"],[2,"text-align","center"],["scope","col"],["icon","image",1,"font-custome","me-1"],["icon","camera-retro",1,"font-custome","me-1"],["icon","clock",1,"font-custome","me-1"],["style","text-align: center;",4,"ngFor","ngForOf"],[1,"d-flex","mx-auto","justify-content-center","p-1"],[2,"width","95vw","overflow-x","auto",3,"collectionSize","page","pageSize","pageChange"],[2,"display","none"],["dangerAlert",""],[1,"mb-0",2,"border","2px solid rgba(121, 20, 20, 0.699)","background-color","rgba(214, 148, 148, 0.459)"],[1,"modal-header",2,"text-align","center","color","rgba(121, 20, 20, 0.699)"],[1,"",2,"color","rgb(196, 54, 54) !important"],["class","modal-body",4,"ngIf"],["selectfile",""],["editViolation",""],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],["icon","download",1,"ms-1","me-1",2,"cursor","pointer"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm","me-1"],[1,"btn","default","text-white",2,"width","100px",3,"click"],["icon","chart-area","class","text-white me-2",4,"ngIf"],["icon","chart-area",1,"text-white","me-2"],["icon","bell",1,"me-1"],["icon","bell-slash",1,"me-1"],["icon","volume-up",1,"me-1"],["icon","volume-off",1,"me-1"],["role","status","aria-hidden","true",1,"spinner-grow","spinner-grow-sm","me-2","text-danger"],[1,"btn","default","ms-3","me-2","text-white","float-start",3,"click"],["class","spinner-border spinner-border-sm me-2 ms-1","role","status","aria-hidden","true",4,"ngIf"],["icon","filter","class","ms-1 me-2 text-white","style","cursor: pointer;",4,"ngIf"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm","me-2","ms-1"],["icon","filter",1,"ms-1","me-2","text-white",2,"cursor","pointer"],[1,"mr-2","mt-2"],[1,"custom-select","col-2",2,"width","auto",3,"ngModel","ngModelChange"],["ngValue","30"],["ngValue","40"],["ngValue","50"],[1,"image",3,"src","click"],[1,"btn","btn-sm","mt-2",3,"click"],["icon","images",1,"mr-1"],[1,"btn","btn-sm","default","text-white","mt-2",3,"click"],[3,"result","term"],["id","verify","style","width:3rem",4,"ngIf"],["class","border-bottom",4,"ngFor","ngForOf"],[1,"border-bottom"],[1,"mb-3"],[1,"list-unstyled"],[4,"ngFor","ngForOf"],["class","items",4,"ngIf"],[1,"items"],["id","item1","type","checkbox",3,"checked"],["for","item1"],["id","verify",2,"width","3rem"],[4,"ngIf","ngIfElse"],["verified",""],["id","right",1,"form-check","form-check-inline"],["type","radio","id","yes",1,"form-check-input",3,"value","defaultValue","change"],["for","yes",1,"form-check-label","text-muted"],["id","wrong",1,"form-check","form-check-inline"],["type","radio","id","no",1,"form-check-input",3,"value","defaultValue","change"],["for","no",1,"form-check-label","text-muted"],[1,"success-badge"],[1,"modal-body"],["alt","","width","100%",1,"violImage",2,"width","30%","height","30%","object-fit","fill","border-radius","5px 5px 5px 5px",3,"src"],[1,"col-xl-12","col-md-12","col-lg-12","col-xs-12","text-dark"],[1,"text-muted"],[1,"text-dark"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","mx-auto",2,"text-align","center"],[1,"container"],["name","activeEndDate",3,"formControl"],[1,"mt-2"],["id","location",1,"custom-select","mt-3",3,"formControl"],["location",""],["value","","hidden",""],["value","jsw"],[1,"mx-auto"],["type","submit",1,"btn","default",3,"disabled","click"],["class","default",3,"click",4,"ngIf"],["class","alert alert-danger alert-dismissible fade show mx-auto","role","alert",4,"ngIf"],[1,"modal-footer"],["type","button",1,"default","btn-light",3,"click"],[1,"default",3,"click"],["class","spinner-border spinner-border-sm me-2","role","status","aria-hidden","true",4,"ngIf"],["icon","download",1,"mr-2"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm","me-2"],["role","alert",1,"alert","alert-danger","alert-dismissible","fade","show","mx-auto"],["type","button","data-dismiss","alert","aria-label","Close",1,"close"],[1,"card","p-2"],[1,"col-6","d-flex","align-items-center"],[1,"card-img-top"],["alt","",2,"width","100%","height","auto","object-fit","contain",3,"src"],[1,"col-6"],[2,"height","90%","overflow","scroll"],[1,"",2,"width","100%"],["style","width:100%;",4,"ngIf"],[2,"width","100%"],[1,"list-unstyled","p-4"],["style","width:5rem","class","d-inline","id","editViol",4,"ngIf"],["id","editViol",1,"d-inline",2,"width","5rem"],["id","item1","type","checkbox",1,"me-4",3,"checked"],["for","item1",1,"ms-4"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"div",0,1)(2,"div",2)(3,"h2"),e.\u0275\u0275text(4,"Water Colour Change Details "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6),e.\u0275\u0275listener("click",function(a){return n.openDatePicker(a)}),e.\u0275\u0275elementStart(9,"span")(10,"input",7,8),e.\u0275\u0275listener("ngModelChange",function(a){return n.selectedMoments=a}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(12,"span",9)(13,"button",10)(14,"fa-icon",11),e.\u0275\u0275listener("click",function(a){return n.openDatePicker(a)}),e.\u0275\u0275elementEnd()()()()()(),e.\u0275\u0275elementStart(15,"div",12)(16,"div",13)(17,"p-treeSelect",14),e.\u0275\u0275listener("ngModelChange",function(a){return n.selectedViolation=a})("onNodeSelect",function(a){return n.onViolationTypeSelect(a)}),e.\u0275\u0275pipe(18,"async"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(19,"div",12)(20,"div",13)(21,"p-treeSelect",15),e.\u0275\u0275listener("ngModelChange",function(a){return n.selectedItems=a})("onNodeSelect",function(a){return n.onCameraIdSelect(a)}),e.\u0275\u0275pipe(22,"async"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(23,"div",16)(24,"button",17),e.\u0275\u0275listener("click",function(){return n.Submit()}),e.\u0275\u0275template(25,ee,2,0,"span",18),e.\u0275\u0275template(26,g,1,0,"span",19),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(27,"\xa0 "),e.\u0275\u0275elementStart(28,"button",20),e.\u0275\u0275listener("click",function(){return n.submitForm()}),e.\u0275\u0275template(29,r,1,0,"fa-icon",21),e.\u0275\u0275template(30,s,1,0,"span",22),e.\u0275\u0275text(31," Excel "),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(32,"\xa0 "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(33,"div",16)(34,"div",23),e.\u0275\u0275template(35,m,4,3,"button",24),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(36,"div",13)(37,"div",25)(38,"div",26)(39,"div",27)(40,"button",28),e.\u0275\u0275listener("click",function(){return n.alertToggle()}),e.\u0275\u0275template(41,v,1,0,"fa-icon",29),e.\u0275\u0275template(42,x,1,0,"fa-icon",30),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(43,"\xa0 "),e.\u0275\u0275elementStart(44,"button",31),e.\u0275\u0275listener("click",function(){return n.volumeToggle()}),e.\u0275\u0275template(45,b,1,0,"fa-icon",32),e.\u0275\u0275template(46,w,1,0,"fa-icon",33),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(47,"\xa0 "),e.\u0275\u0275template(48,P,3,0,"span",34),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(49,"div",35)(50,"div",36)(51,"div",37),e.\u0275\u0275template(52,U,4,2,"button",38),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(53,"span",39),e.\u0275\u0275elementStart(54,"span",40),e.\u0275\u0275template(55,z,3,0,"span",41),e.\u0275\u0275template(56,D,7,1,"select",42),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(57,"div",43)(58,"table",44)(59,"thead",45)(60,"tr")(61,"th",46)(62,"b"),e.\u0275\u0275text(63,"S No"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(64,"th",46)(65,"b"),e.\u0275\u0275element(66,"fa-icon",47),e.\u0275\u0275text(67,"Image "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(68,"th",46)(69,"b"),e.\u0275\u0275element(70,"fa-icon",48),e.\u0275\u0275text(71,"Camera Name "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(72,"th",46)(73,"b"),e.\u0275\u0275element(74,"fa-icon",49),e.\u0275\u0275text(75,"Before Image "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(76,"th",46)(77,"b"),e.\u0275\u0275element(78,"fa-icon",49),e.\u0275\u0275text(79,"After Image "),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(80,"tbody"),e.\u0275\u0275template(81,ge,23,9,"tr",50),e.\u0275\u0275pipe(82,"async"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(83,"div",51)(84,"ngb-pagination",52),e.\u0275\u0275listener("pageChange",function(a){return n.page=a})("pageChange",function(){return n.sliceVD()}),e.\u0275\u0275pipe(85,"async"),e.\u0275\u0275elementEnd()()()()()(),e.\u0275\u0275elementStart(86,"div",53)(87,"div",25)(88,"div",null,54)(90,"div",55)(91,"div",56)(92,"h3",57),e.\u0275\u0275text(93,"Violation"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(94,ue,17,3,"div",58),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(95,be,38,7,"ng-template",null,59,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(97,Ie,12,3,"ng-template",null,60,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()()),2&t&&(e.\u0275\u0275advance(10),e.\u0275\u0275property("showCustomRangeLabel",!0)("ranges",n.ranges)("timePicker",!0)("ngModel",n.selectedMoments),e.\u0275\u0275advance(7),e.\u0275\u0275property("ngModel",n.selectedViolation)("ngModelOptions",e.\u0275\u0275pureFunction0(40,le))("options",e.\u0275\u0275pipeBind1(18,32,n.violationTypeList)),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngModelOptions",e.\u0275\u0275pureFunction0(41,le))("ngModel",n.selectedItems)("options",e.\u0275\u0275pipeBind1(22,34,n.dropdownList)),e.\u0275\u0275advance(3),e.\u0275\u0275property("disabled",null===n.selectedMoments.startDate||null===n.selectedMoments.endDate),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!n.loading),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.loading),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",null===n.selectedMoments.startDate||null===n.selectedMoments.endDate||n.excelLoad),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!n.excelLoad),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.excelLoad),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",n.isdatewise||n.isLatest),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngbTooltip",n.alert?"notification on":"notification off"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.alert),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!n.alert),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngbTooltip",n.audioOff?"mute":"unmute"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!n.audioOff),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.audioOff),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!(n.isdatewise||n.isLatest)),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",!n.isdatewise),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",n.isdatewise),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.isdatewise),e.\u0275\u0275advance(25),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(82,36,n.violData)),e.\u0275\u0275advance(3),e.\u0275\u0275property("collectionSize",e.\u0275\u0275pipeBind1(85,38,n.total))("page",n.page)("pageSize",n.pageSize),e.\u0275\u0275advance(10),e.\u0275\u0275property("ngIf",n.currentViol))},dependencies:[C.YN,C.Kr,C.Fj,C.EJ,C.JJ,C.Q7,C.oH,_.BN,Y.NgForOf,Y.NgIf,C.On,M.N9,M._L,M._h,B.mP,E.SP,Y.AsyncPipe],styles:['.image[_ngcontent-%COMP%]{margin-left:0;margin-right:0;height:174px;width:330px;object-fit:cover;border-radius:5px!important}ngb-pagination[_ngcontent-%COMP%]     ul>li:not(.active)>a{background-color:#f8f8f8!important;border-radius:5px!important;box-shadow:none}ngb-pagination[_ngcontent-%COMP%]     ul>li.active>a{background-color:#2d5686!important;border-radius:5px!important;box-shadow:none}ngb-pagination[_ngcontent-%COMP%]     ul>li:not(.active)>a{background-color:#f8f8f8!important;border-radius:5px!important;color:var(--label-color)!important;box-shadow:none}ngb-pagination[_ngcontent-%COMP%]     ul>li.active>a{background-color:var(--label-color)!important;border-radius:5px!important;border:1px solid var(--label-color)!important;box-shadow:none}.task-input[_ngcontent-%COMP%]{padding:0 25px;position:relative}.task-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:5px 35px 5px 5px;height:40px}.datePickerContainer[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.datePickerContainer[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-top-right-radius:0!important;border-bottom-right-radius:0!important}input[_ngcontent-%COMP%]{width:100%}.img[_ngcontent-%COMP%]{height:20px;width:20px}.task-input[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{top:50%;position:absolute;transform:translate(170px,-50%)}input[type=checkbox][_ngcontent-%COMP%]{display:block;height:30px;margin:0 0 -53px -9999px;order:4;top:5px;outline:none;counter-increment:undone-items}input[_ngcontent-%COMP%]:checked{pointer-events:none;order:2;counter-increment:done-items}label[_ngcontent-%COMP%]{pointer-events:none;display:block;position:relative;padding:15px 10px 15px 0;border-top:1px dashed #fff;order:4;cursor:pointer;animation:undone .5s}label[_ngcontent-%COMP%]:before{content:"\\f10c";display:block;position:absolute;margin-right:10px;margin-left:10px}input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{order:2;animation:done .5s}input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:before{margin-left:3px;margin-right:2rem!important;color:#cc1d1d;content:"\\2713"}input[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]:before{margin-left:3px;margin-right:2rem!important;color:#cc1d1d;content:"\\2716"}#editViol[_ngcontent-%COMP%]{text-align:center;align-content:center}td[_ngcontent-%COMP%]{text-align:center!important;align-content:center!important}input[type=radio][_ngcontent-%COMP%]{display:block;height:30px;margin:0 0 -53px -9999px;order:4;outline:none;position:relative;counter-increment:undone-items}#verify[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{pointer-events:all;display:block;position:relative;border-top:1px dashed #fff;order:4;cursor:pointer;animation:undone .5s;margin-left:10px!important}#verify[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:before{content:"\\25ef";display:block;position:absolute;margin-right:10px!important;right:2rem;font-weight:500;color:#c9c9c9}#verify[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{order:2;animation:done .5s}#verify[_ngcontent-%COMP%]   #wrong[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:before{font-size:larger;font-family:500;color:#cc1d1d;content:"\\2713"}#verify[_ngcontent-%COMP%]   #right[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:before{font-size:larger;font-family:700;color:#1dc41d;content:"\\2713"}.w-full[_ngcontent-%COMP%]{width:inherit!important;color:#000!important}']}),i})()}];let Te=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=e.\u0275\u0275defineInjector({providers:[O.N],imports:[R.A,K.Bz.forChild(Ve),W.QM,B.o6,j.ZQ.forRoot(),L.Rh.forRoot({timeOut:2e6,toastComponent:V.n,progressBar:!0,newestOnTop:!0}),E.n1.forRoot({}),M.IJ,K.Bz]}),i})()},1764:function(se){se.exports=function(){"use strict";var f=6e4,K=36e5,M="millisecond",j="second",E="minute",W="hour",L="day",B="week",V="month",R="quarter",O="year",A="date",C="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,ie=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,oe={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},H=function(g,r,s){var d=String(g);return!d||d.length>=r?g:""+Array(r+1-d.length).join(s)+g},ae={s:H,z:function(g){var r=-g.utcOffset(),s=Math.abs(r),d=Math.floor(s/60),l=s%60;return(r<=0?"+":"-")+H(d,2,"0")+":"+H(l,2,"0")},m:function g(r,s){if(r.date()<s.date())return-g(s,r);var d=12*(s.year()-r.year())+(s.month()-r.month()),l=r.clone().add(d,V),h=s-l<0,m=r.clone().add(d+(h?-1:1),V);return+(-(d+(s-l)/(h?l-m:m-l))||0)},a:function(g){return g<0?Math.ceil(g)||0:Math.floor(g)},p:function(g){return{M:V,y:O,w:B,d:L,D:A,h:W,m:E,s:j,ms:M,Q:R}[g]||String(g||"").toLowerCase().replace(/s$/,"")},u:function(g){return void 0===g}},S="en",e={};e[S]=oe;var Y=function(g){return g instanceof Z},G=function g(r,s,d){var l;if(!r)return S;if("string"==typeof r){var h=r.toLowerCase();e[h]&&(l=h),s&&(e[h]=s,l=h);var m=r.split("-");if(!l&&m.length>1)return g(m[0])}else{var v=r.name;e[v]=r,l=v}return!d&&l&&(S=l),l||!d&&S},y=function(g,r){if(Y(g))return g.clone();var s="object"==typeof r?r:{};return s.date=g,s.args=arguments,new Z(s)},_=ae;_.l=G,_.i=Y,_.w=function(g,r){return y(g,{locale:r.$L,utc:r.$u,x:r.$x,$offset:r.$offset})};var Z=function(){function g(s){this.$L=G(s.locale,null,!0),this.parse(s)}var r=g.prototype;return r.parse=function(s){this.$d=function(d){var l=d.date,h=d.utc;if(null===l)return new Date(NaN);if(_.u(l))return new Date;if(l instanceof Date)return new Date(l);if("string"==typeof l&&!/Z$/i.test(l)){var m=l.match(p);if(m){var v=m[2]-1||0,x=(m[7]||"0").substring(0,3);return h?new Date(Date.UTC(m[1],v,m[3]||1,m[4]||0,m[5]||0,m[6]||0,x)):new Date(m[1],v,m[3]||1,m[4]||0,m[5]||0,m[6]||0,x)}}return new Date(l)}(s),this.$x=s.x||{},this.init()},r.init=function(){var s=this.$d;this.$y=s.getFullYear(),this.$M=s.getMonth(),this.$D=s.getDate(),this.$W=s.getDay(),this.$H=s.getHours(),this.$m=s.getMinutes(),this.$s=s.getSeconds(),this.$ms=s.getMilliseconds()},r.$utils=function(){return _},r.isValid=function(){return this.$d.toString()!==C},r.isSame=function(s,d){var l=y(s);return this.startOf(d)<=l&&l<=this.endOf(d)},r.isAfter=function(s,d){return y(s)<this.startOf(d)},r.isBefore=function(s,d){return this.endOf(d)<y(s)},r.$g=function(s,d,l){return _.u(s)?this[d]:this.set(l,s)},r.unix=function(){return Math.floor(this.valueOf()/1e3)},r.valueOf=function(){return this.$d.getTime()},r.startOf=function(s,d){var l=this,h=!!_.u(d)||d,m=_.p(s),v=function(z,D){var N=_.w(l.$u?Date.UTC(l.$y,D,z):new Date(l.$y,D,z),l);return h?N:N.endOf(L)},x=function(z,D){return _.w(l.toDate()[z].apply(l.toDate("s"),(h?[0,0,0,0]:[23,59,59,999]).slice(D)),l)},b=this.$W,w=this.$M,P=this.$D,k="set"+(this.$u?"UTC":"");switch(m){case O:return h?v(1,0):v(31,11);case V:return h?v(1,w):v(0,w+1);case B:var J=this.$locale().weekStart||0,U=(b<J?b+7:b)-J;return v(h?P-U:P+(6-U),w);case L:case A:return x(k+"Hours",0);case W:return x(k+"Minutes",1);case E:return x(k+"Seconds",2);case j:return x(k+"Milliseconds",3);default:return this.clone()}},r.endOf=function(s){return this.startOf(s,!1)},r.$set=function(s,d){var l,h=_.p(s),m="set"+(this.$u?"UTC":""),v=(l={},l[L]=m+"Date",l[A]=m+"Date",l[V]=m+"Month",l[O]=m+"FullYear",l[W]=m+"Hours",l[E]=m+"Minutes",l[j]=m+"Seconds",l[M]=m+"Milliseconds",l)[h],x=h===L?this.$D+(d-this.$W):d;if(h===V||h===O){var b=this.clone().set(A,1);b.$d[v](x),b.init(),this.$d=b.set(A,Math.min(this.$D,b.daysInMonth())).$d}else v&&this.$d[v](x);return this.init(),this},r.set=function(s,d){return this.clone().$set(s,d)},r.get=function(s){return this[_.p(s)]()},r.add=function(s,d){var l,h=this;s=Number(s);var m=_.p(d),v=function(w){var P=y(h);return _.w(P.date(P.date()+Math.round(w*s)),h)};if(m===V)return this.set(V,this.$M+s);if(m===O)return this.set(O,this.$y+s);if(m===L)return v(1);if(m===B)return v(7);var x=(l={},l[E]=f,l[W]=K,l[j]=1e3,l)[m]||1,b=this.$d.getTime()+s*x;return _.w(b,this)},r.subtract=function(s,d){return this.add(-1*s,d)},r.format=function(s){var d=this,l=this.$locale();if(!this.isValid())return l.invalidDate||C;var h=s||"YYYY-MM-DDTHH:mm:ssZ",m=_.z(this),v=this.$H,x=this.$m,b=this.$M,w=l.weekdays,P=l.months,k=function(D,N,q,X){return D&&(D[N]||D(d,h))||q[N].slice(0,X)},J=function(D){return _.s(v%12||12,D,"0")},U=l.meridiem||function(D,N,q){var X=D<12?"AM":"PM";return q?X.toLowerCase():X},z={YY:String(this.$y).slice(-2),YYYY:this.$y,M:b+1,MM:_.s(b+1,2,"0"),MMM:k(l.monthsShort,b,P,3),MMMM:k(P,b),D:this.$D,DD:_.s(this.$D,2,"0"),d:String(this.$W),dd:k(l.weekdaysMin,this.$W,w,2),ddd:k(l.weekdaysShort,this.$W,w,3),dddd:w[this.$W],H:String(v),HH:_.s(v,2,"0"),h:J(1),hh:J(2),a:U(v,x,!0),A:U(v,x,!1),m:String(x),mm:_.s(x,2,"0"),s:String(this.$s),ss:_.s(this.$s,2,"0"),SSS:_.s(this.$ms,3,"0"),Z:m};return h.replace(ie,function(D,N){return N||z[D]||m.replace(":","")})},r.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},r.diff=function(s,d,l){var h,m=_.p(d),v=y(s),x=(v.utcOffset()-this.utcOffset())*f,b=this-v,w=_.m(this,v);return w=(h={},h[O]=w/12,h[V]=w,h[R]=w/3,h[B]=(b-x)/6048e5,h[L]=(b-x)/864e5,h[W]=b/K,h[E]=b/f,h[j]=b/1e3,h)[m]||b,l?w:_.a(w)},r.daysInMonth=function(){return this.endOf(V).$D},r.$locale=function(){return e[this.$L]},r.locale=function(s,d){if(!s)return this.$L;var l=this.clone(),h=G(s,d,!0);return h&&(l.$L=h),l},r.clone=function(){return _.w(this.$d,this)},r.toDate=function(){return new Date(this.valueOf())},r.toJSON=function(){return this.isValid()?this.toISOString():null},r.toISOString=function(){return this.$d.toISOString()},r.toString=function(){return this.$d.toUTCString()},g}(),ee=Z.prototype;return y.prototype=ee,[["$ms",M],["$s",j],["$m",E],["$H",W],["$W",L],["$M",V],["$y",O],["$D",A]].forEach(function(g){ee[g[1]]=function(r){return this.$g(r,g[0],g[1])}}),y.extend=function(g,r){return g.$i||(g(r,Z,y),g.$i=!0),y},y.locale=G,y.isDayjs=Y,y.unix=function(g){return y(1e3*g)},y.en=e[S],y.Ls=e,y.p={},y}()}}]);